/**
*
*   Classy.js
*   @version: 0.9.3
*   @built on 2016-07-19 17:09:27
*
*   Object-Oriented micro-framework for JavaScript
*   https://github.com/foo123/classy.js
*
**/!function(e,n,i){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[n]=i.call(e)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["module"],function(n){return i.moduleUri=n.uri,i.call(e)}):n in e||(e[n]=i.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[n]})}(this,"Classy",function(){"use strict";var e=void 0,n="constructor",i="prototype",t="__proto__",r="__static__",l="__private__",u="$super",a="$static",o="$latestatic",f="$class",c=2,s=4,b=8,d=256,m=Object,p=m[i],v=Function,g=v[i],h=String,y=Number,x=RegExp,w=Array,j=p.toString,E=(g.call.bind(g.toString),"hasOwnProperty"),_="propertyIsEnumerable",q=m.keys,I=m.defineProperty,$=function(e){return typeof e},A=function(e){throw new TypeError(e)},P=2,S=3,T=4,C=8,M=9,N=16,O=32,R=64,F=128,L=256,U=512,V=1024,k={"[object Array]":N,"[object RegExp]":F,"[object Number]":P,"[object String]":C,"[object Function]":R,"[object Object]":O},B=function(n){var i;return null===n?L:!0===n||!1===n?T:e===n?U:(i=j.call(n),i=k[i]||V,P===i||n instanceof y?isNaN(n)?S:P:C===i||n instanceof h?1===n.length?M:C:N===i||n instanceof w?N:F===i||n instanceof x?F:R===i||n instanceof v?R:O===i?O:V)},D=function(e,n){var i,t=n.length,r=[].concat(e);for(i=0;t>i;i++)-1<r.indexOf(n[i])||r.push(n[i]);return r},z=function(e,n){O!==B(e)&&A("bad desc");var i={};if(e[E]("enumerable")&&(i.enumerable=!!n.enumerable),e[E]("configurable")&&(i.configurable=!!n.configurable),e[E]("value")&&(i.value=n.value),e[E]("writable")&&(i.writable=!!e.writable),e[E]("get")){var t=e.get;R!==B(t)&&"undefined"!==t&&A("bad get"),i.get=t}if(e[E]("set")){var r=e.set;R!==B(r)&&"undefined"!==r&&A("bad set"),i.set=r}return("get"in i||"set"in i)&&("value"in i||"writable"in i)&&A("identity-confused descriptor"),i},G=m.defineProperties||function(e,n){"object"===$(e)&&null!==e||A("bad obj"),n=m(n);for(var i=q(n),t=[],r=0;r<i.length;r++)t.push([i[r],z(n[i[r]],e)]);for(var r=0;r<t.length;r++)I(e,t[r][0],t[r][1]);return e},H=function(){},J=m.create||function(e,n){var r,l=function(){};return l[i]=e,r=new l,r[t]=e,"object"===$(n)&&G(r,n),r},K=function(){var e,n,i,t,r,l,u,a=arguments;for(n=a[0]||{},e=a.length,l=1;e>l;l++)if(i=a[l],O===B(i))for(r in i)i[E](r)&&i[_](r)&&(t=i[r],u=B(t),P&u?n[r]=0+t:(C|N)&u?n[r]=t.slice(0):n[r]=t);return n},Q=function(e,i,t){var r,l,u=!!i;if(u||t)if(r={},i=u?i+"$":i,t&&R===B(t))for(l in e)e[E](l)&&(n!==l?(u&&R===B(e[l])&&(r[i+l]=e[l]),r[t(l,e[l])]=e[l]):r[l]=e[l]);else for(l in e)e[E](l)&&(n!==l?(u&&R===B(e[l])&&(r[i+l]=e[l]),t&&l in t?r[t[l]]=e[l]:r[l]=e[l]):r[l]=e[l]);else r=e;return r},W=function(e){var n=e[u]||H,i=e[u+"v"]||H,t=null;return[function(i,r,l,u,a,o,f,c,s,b,d){var m,p;return t===i?m=n.call(this,i,r,l,u,a,o,f,c,s,b,d):(p=e[i])&&(t=i,m=p.call(this,r,l,u,a,o,f,c,s,b,d),t=null),m},function(n,r){var l,u;return t===n?l=i.call(this,n,r):(u=e[n])&&(t=n,l=r&&r.length?u.apply(this,r):u.call(this),t=null),l}]},X=function(e,n){return this instanceof X?(this.factory=e,void(this.qualifier=(P===B(n)?n:0)|c)):new X(e,n)},Y=function(e,n){return this instanceof Y?(this.prop=e,void(this.qualifier=(P===B(n)?n:0)|c)):new Y(e,n)},Z=function(t,c,p,v){t=t||m,c=c||{};var g,h,y,x,w,j,_,I,$,A,S=t[a]||null,T=t[o]||{},M=t[i],F=null,L=K({},T),U=null,V={};c[E](n)||(c[n]=function(){}),g=c[n],c[E](l)&&(V=c[l]||{},delete c[l]),c[E](r)&&(F=c[r],U=q(F),delete c[r]);for($ in c)if(c[E]($)){if(A=c[$],A instanceof X){if(b&A.qualifier){d&A.qualifier?L[$]=A:((F=F||{})[$]=A.factory(t,V,g),(U=U||[]).push($)),delete c[$];continue}if(s&A.qualifier){V[$]=A,delete c[$];continue}A=c[$]=A.factory(M,V,g)}R===B(A)&&(A[u]=M[$]||H)}for($ in V)V[E]($)&&(A=V[$],A instanceof X&&(A=V[$]=A.factory(M,V,g)),R!==B(A)&&delete V[$]);if(g[i]=Q(J(M),p,v),g[i]=K(g[i],c),h=W(M),w={},w[f]=w[n]={value:g,enumerable:!1,writable:!0,configurable:!0},w[u]={value:h[0],enumerable:!1,writable:!0,configurable:!0},w[u+"v"]={value:h[1],enumerable:!1,writable:!0,configurable:!0},G(g[i],w),w={},S||U)for(S=D(S||[],U||[]),x=S.length,y=0;x>y;y++){if(j=S[y],_=null,F&&e!==F[j]){if((A=F[j])instanceof X){if((b|d)&A.qualifier){L[j]=A;continue}_=A.factory(t,V,g)}else{if(L[E](j))continue;_=F[j]}R===B(_)&&(_[u]=t[j]||H)}else e!==t[j]&&(I=B(t[j]),_=O===I?K(null,t[j]):(C|N)&I?t[j].slice(0):P&I?0+t[j]:t[j]);w[j]={value:_,enumerable:!1,writable:!0,configurable:!0}}for(j in L)L[E](j)&&(_=L[j].factory(t,V,g),w[j]={value:_,enumerable:!1,writable:!0,configurable:!0});return w[a]={value:S,enumerable:!1,writable:!0,configurable:!0},w[o]={value:L,enumerable:!1,writable:!0,configurable:!0},w[u]={value:t,enumerable:!1,writable:!0,configurable:!0},G(g,w),g},ee=K,ne=K,ie=function(n){var t,r,l,c;if(R===B(n)){if(u in n&&(n[u]=e),f in n&&(n[f]=e),o in n&&(n[o]=e),a in n){for(l=n[a],t=0,r=l.length;r>t;t++)c=l[t],c in n&&(R===B(n[c])&&n[c][u]&&(n[c][u]=e),n[c]=e);n[a]=e}l=n[i];for(c in l)R===B(l[c])&&(l[c][u]&&(l[c][u]=e),l[c]=e);l[u]=e,l[u+"v"]=e}},te=function(){var e=arguments,n=e.length,t=null;if(b===e[0])return e[1]||{};if(n>=2){var r=B(e[0]);r=R===r?{Extends:e[0]}:O===r?e[0]:{Extends:m};var l,u,a=e[1]||{},o={},f=r[E]("Extends")?r.Extends:r[E]("extends")?r["extends"]:m,c=r[E]("Implements")?r.Implements:r[E]("implements")?r["implements"]:null,s=r[E]("Mixin")?r.Mixin:r[E]("mixin")?r.mixin:null,d=null;if(c=c?[].concat(c):null,s=s?[].concat(s):null)for(l=0,u=s.length;u>l;l++)O===B(s[l])?s[l][E]("mixin")&&s[l].mixin&&s[l].mixin[i]&&(d=Q(s[l].mixin[i],s[l].namespace||null,s[l].as||null),o=ne(o,d)):s[l][i]&&(d=s[l][i],o=ne(o,d));if(c)for(l=0,u=c.length;u>l;l++)O===B(c[l])?c[l][E]("implements")&&c[l]["implements"]&&c[l]["implements"][i]&&(d=Q(c[l]["implements"][i],c[l].namespace||null,c[l].as||null),o=ee(o,d)):c[l][i]&&(d=c[l][i],o=ee(o,d));t=O===B(f)?Z(f["extends"]||m,K(o,a),f.namespace||null,f.as||null):Z(f,K(o,a))}else t=Z(m,e[0]);return t},re={VERSION:"0.9.3",PUBLIC:c,STATIC:b,LATE:d,PRIVATE:s,Type:B,Create:J,Merge:K,Alias:Q,Implements:ee,Mixin:ne,Extends:Z,Dispose:ie,Method:X,Prop:Y,Class:te};return re});
/**
*
*   Asynchronous.js
*   @version: 0.5.1
*
*   Simple JavaScript class to manage asynchronous, parallel, linear, sequential and interleaved tasks
*   https://github.com/foo123/asynchronous.js
*
**/
!function(n,e,t){"use strict";"undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils["import"]?(n.$deps=n.$deps||{})&&(n.EXPORTED_SYMBOLS=[e])&&(n[e]=n.$deps[e]=t.call(n)):"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[e]=t.call(n)):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System["import"]?System.register(e,[],function(r){r(e,t.call(n))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(e)?define(e,["module"],function(e){return t.moduleUri=e.uri,t.call(n)}):e in n||(n[e]=t.call(n)||1)&&"function"==typeof define&&define.amd&&define(function(){return n[e]})}(this,"Asynchronous",function n(e){"use strict";function t(n){var e,t=[];if(n)for(e in n)n[c](e)&&t.push(e+"="+(!0===n[e]||1===n[e]?"yes":!1===n[e]||0===n[e]?"no":n[e]));return t.join(",")}function r(n,e){n.$runmode=M,n.$running=!1}function o(n,e){var t,r=n,o=r.$queue;if(r.$runmode=x,o){for(;o.length&&(!o[0]||!o[0].canRun());)o.shift();o.length?(r.$running=!0,t=o.shift(),e?t.runWithArgs(e):t.run(),t.complete()):r.$running=!1}}function i(n,e){var t,r=n,o=r.$queue,s=0;if(r.$runmode=R,o&&o.length){for(r.$running=!0;s<o.length;)t=o[s],t&&t.canRun()?(e?t.runWithArgs(e):t.run(),t.isFinished()?(o.shift(),t.complete()):s++):o.shift();r.$running=!1,r.$timer=N(v(i,r),r.$interval)}}function s(n,e){var t,r=n,o=r.$queue;r.$runmode=O,o&&o.length&&(t=o[0],t&&t.canRun()?(r.$running=!0,e?t.runWithArgs(e):t.run(),t.isFinished()&&(o.shift(),t.complete())):o.shift(),r.$running=!1,r.$timer=N(v(s,r),r.$interval))}var u,l="prototype",c="hasOwnProperty",a=Object,f=Array,p=Function,d=p[l],h=a[l],m=f[l],$=(JSON.parse,JSON.stringify),g=function(){},v=function(n,e){return function(){return n(e)}},w=d.call.bind(m.slice),y=h.toString,b=function(n){return"function"==typeof n},S=function(n,e){return n instanceof e},N=setTimeout,k=clearTimeout,j=e,E=0,T=1,q=2,W=60,A=0,R=1,x=2,M=3,O=4,C="undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils["import"],L="undefined"!=typeof global&&"[object global]"===y.call(global),I=L&&"undefined"!=typeof process.send,U=!C&&!L&&"undefined"!=typeof SharedWorkerGlobalScope&&"function"==typeof importScripts,B=!C&&!L&&"undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator,D=!(C||L||B||U||"undefined"==typeof navigator||"undefined"==typeof document),F=(D&&!!window.opener,D&&window.self!==window.top,"function"==typeof define&&define.amd),P=L||"function"==typeof Worker||"function"==typeof SharedWorker,_=L?this:U||B?self||this:window||this,z=L?module.$deps:U||B?self||this:window||this,G=(L?global:U||B?self||this:window||this,I||U||B),J=I&&0===process.listenerCount("message")||U&&!_.onconnect||B&&!_.onmessage,V=J?function un(n){un.handler&&un.handler(I?n:n.data)}:g,K=null,Q={},X=(L?require("os").cpus().length:4,L?null:"undefined"!=typeof _.webkitURL?_.webkitURL:"undefined"!=typeof _.URL?_.URL:null),Y=function(n,e){return n&&X?X.createObjectURL(new Blob(n.push?n:[n],e||{type:"text/javascript"})):n},H=function ln(n){var e;return L?{file:__filename,path:__dirname}:U||B?{file:e=self.location.href,path:e.split("/").slice(0,-1).join("/")}:F&&n?{file:e=n,path:e.split("/").slice(0,-1).join("/")}:D&&(e=document.getElementsByTagName("script"))&&e.length?(ln.link||(ln.link=document.createElement("a")),ln.link.href=e[e.length-1].src,e=ln.link.href,{file:e,path:e.split("/").slice(0,-1).join("/")}):{path:null,file:null}},Z=H(n.moduleUri),nn=Z.file,en=function(n,e){if(n=n||{},e)for(var t in e)e[c](t)&&(n[t]=e[t]);return n},tn=0;Q[nn]=1,L?(u=function(n){var e=this;e.process=require("child_process").fork(n),e.process.on("message",function(n){e.onmessage&&e.onmessage(n)}),e.process.on("error",function(n){e.onerror&&e.onerror(n)})},u.Shared=u,u[l]={constructor:u,process:null,onmessage:null,onerror:null,postMessage:function(n){return this.process&&this.process.send(n),this},terminate:function(){return this.process&&(this.process.kill(),this.process=null),this}}):(u=function(n){var e=this;e.process=new Worker(n),e.process.onmessage=function(n){e.onmessage&&e.onmessage(n.data)},e.process.onerror=function(n){e.onerror&&e.onerror(n)}},u.Shared=u,u[l]={constructor:u,process:null,onmessage:null,onerror:null,postMessage:function(n){return this.process&&this.process.postMessage(n),this},terminate:function(){return this.process&&(this.process.terminate(),this.process=null),this}},"function"==typeof SharedWorker&&(u.Shared=function(n){var e=this;e.process=new SharedWorker(n),e.process.port.start(),e.process.port.onmessage=function(n){e.onmessage&&e.onmessage(n.data)},e.process.port.onerror=e.process.onerror=function(n){e.onerror&&e.onerror(n)}},u.Shared[l]={constructor:u.Shared,process:null,onmessage:null,onerror:null,postMessage:function(n){return this.process&&this.process.port.postMessage(n),this},terminate:function(){return this.process&&(this.process.port.close(),this.process=null),this}})),J&&(U?(_.close=g,_.postMessage=g,_.onconnect=function(n){var e=n.ports[0];_.close=function(){e.close()},_.postMessage=function(n){e.postMessage(n)},e.addEventListener("message",V),e.start()}):B?_.onmessage=V:I&&(_.close=function(){process.exit()},_.postMessage=function(n){process.send(n)},_.importScripts=function(n){try{new Function("",require("fs").readFileSync(n).toString()).call(z)}catch(e){throw e}},process.on("message",V)));var rn=function cn(n){var e=this;return e instanceof cn?(e.$id=(++tn).toString(16),void(e.options=en({width:400,height:400,toolbar:0,location:0,directories:0,status:0,menubar:0,scrollbars:1,resizable:1},n))):new cn(n)};rn[l]={constructor:rn,options:null,$id:null,$window:null,dispose:function(){var n=this;return n.$window&&n.close(),n.$window=null,n.$id=null,n.options=null,n},close:function(){var n=this;return n.$window&&(n.$window.closed||n.$window.close(),n.$window=null),n},ready:function(n,e){var t=this,r=function o(){!t.$window||n&&!t.$window[n]?setTimeout(o,60):e()};return setTimeout(r,0),t},open:function(n){var e=this;return!e.$window&&n&&(e.$window=window.open(n.push?Y(["\ufeff"].concat(n),{type:"text/html;charset=utf-8"}):n,e.$id,t(e.options))),e},write:function(n){var e=this;return e.$window&&n&&e.$window.document.write(n),e}};var on=function an(n){if(n instanceof an)return n;if(!(this instanceof an))return new an(n);var t,r=this,o=null,i=null,s=null,u=!1,l=!1,c=!1,a=!1,f=!1,p=!1,d=null,h=0,m=1,$=null,g=null,v=null,w=e;r.queue=function(n){return arguments.length?(o=n,r):o},r.jumpNext=function(n){o&&o.jumpNext(!1,n)},r.abort=function(n){o&&(o.abort(!1),n&&(o.dispose(),o=null))},r.dispose=function(){o&&(o.dispose(),o=null)},r.task=function(n){return i=n,r},n&&r.task(n),r.run=t=function(){return i.jumpNext=r.jumpNext,i.abort=r.abort,i.dispose=r.dispose,w=i(),u=!0,i.jumpNext=null,i.abort=null,i.dispose=null,w},r.runWithArgs=function(n){return i.jumpNext=r.jumpNext,i.abort=r.abort,i.dispose=r.dispose,w=i.apply(null,n),u=!0,i.jumpNext=null,i.abort=null,i.dispose=null,w},r.canRun=function(){return i&&(!u||l||c||a||f||p)?(l||c)&&h>=$?!1:c&&!d?!1:!a&&!f||w!==g:!1},r.iif=function(n,e,t){return n?r.task(e):arguments.length>2&&r.task(t),r},r.until=function(n){return w=e,d=null,g=n,f=!0,p=!1,l=!1,c=!1,a=!1,r.run=t,r},r.untilNot=function(n){return w=e,d=null,v=n,p=!0,f=!1,l=!1,c=!1,a=!1,r.run=t,r},r.loop=function(n,t,o){return w=e,d=null,h=t||0,m=o||1,$=n,l=!0,f=!1,p=!1,c=!1,a=!1,r.run=function(){var n;return n=i(h),h+=m,w=n,u=!0,n},r},r.each=function(n){return w=e,d=n,h=0,m=1,$=n?n.length||0:0,c=!0,f=!1,p=!1,l=!1,a=!1,r.run=function(){var n;return n=i(d[h],h),h++,w=n,u=!0,n},r},r.recurse=function(n,e){return d=null,w=n,g=e,a=!0,f=!1,p=!1,l=!1,c=!1,r.run=function(){var n;return n=i(w),w=n,u=!0,n},r},r.isFinished=function(){var n=!u||p||f||l||c||a;return n&&(f||a)&&w===g&&(n=!1),n&&p&&w!==v&&(n=!1),n&&(l||c)&&h>=$&&(n=!1),!n},r.onComplete=function(n){return s=n||null,r},r.complete=function(){return s&&b(s)&&s(),r}},sn=function fn(n,e){if(S(n,on))return n;if(b(n))return new on(n);if(!S(this,fn))return new fn(n,e);var t=this;t.$interval=arguments.length?parseInt(n,10)||W:W,t.$timer=null,t.$runmode=A,t.$running=!1,t.$queue=[],J&&!1!==e&&t.initThread()};return sn.VERSION="0.5.1",sn.Thread=u,sn.Task=on,sn.BrowserWindow=rn,sn.MODE={NONE:A,INTERLEAVE:R,LINEAR:x,PARALLEL:M,SEQUENCE:O},sn.Platform={UNDEFINED:j,UNKNOWN:E,NODE:T,BROWSER:q},sn.supportsMultiThreading=function(){return P},sn.isPlatform=function(n){return T===n?L:q===n?D:e},sn.isThread=function(n,e){return e=!0===e?J:!0,T===n?e&&I:q===n?e&&(U||B):e&&G},sn.path=H,sn.blob=Y,sn.load=function(n,e,t){if(n){var r=function(){n=n.split(".");for(var e=z;n.length;)n[0]&&n[0].length&&e[n[0]]&&(e=e[n[0]]),n.shift();return e&&_!==e?b(e)?!1!==t?new e:e():e:void 0};return e&&e.length&&sn.importScripts(e.join?e.join(","):e),r()}return null},sn.listen=J?function(n){V.handler=n}:g,sn.send=J?function(n){_.postMessage(n)}:g,sn.importScripts=J?function(n){if(n&&n.length){n.split&&(n=n.split(","));for(var e=0,t=n.length;t>e;e++){var r=n[e];r&&r.length&&1!==Q[r]&&(_.importScripts(r),Q[r]=1)}}}:g,sn.close=J?function(){_.close()}:g,sn.log="undefined"!=typeof console?function(n){console.log(n||"")}:g,sn.serialize=function(n){n=n||new sn(0,!1);var e=function(e){var t=function(){var t=this,r=arguments;n.step(function(){e.apply(t,r)}),n.$running||n.run(x)};return t.free=function(){return e},t};return e.free=function(){n&&n.dispose(),n=null},e},sn[l]={constructor:sn,$interval:W,$timer:null,$queue:null,$thread:null,$events:null,$runmode:A,$running:!1,dispose:function(n){var e=this;return e.unfork(!0),e.$timer&&k(e.$timer),e.$thread=null,e.$timer=null,e.$interval=null,e.$queue=null,e.$runmode=A,e.$running=!1,J&&!0===n&&sn.close(),e},empty:function(){var n=this;return n.$timer&&k(n.$timer),n.$timer=null,n.$queue=[],n.$runmode=A,n.$running=!1,n},interval:function(n){return arguments.length?(this.$interval=parseInt(n,10)||this.$interval,this):this.$interval},fork:function(n,e,t,r){var o,i,s,l=this;if(!l.$thread){if(!P)throw l.$thread=null,new Error("Asynchronous: Multi-Threading is NOT supported!");L?(i="Asynchronous: Thread (Process): ",s="Asynchronous: Thread (Process) Error: "):(i="Asynchronous: Thread (Worker): ",s="Asynchronous: Thread (Worker) Error: "),l.$events=l.$events||{},o=l.$thread=!0===r?new u.Shared(nn):new u(nn),o.onmessage=function(n){if(n.event){var e=n.event,t=n.data||null;l.$events&&l.$events[e]?l.$events[e](t):"console.log"!==e&&"console.error"!==e||sn.log(("console.error"===e?s:i)+(t||""))}},o.onerror=function(n){if(!l.$events||!l.$events.error)throw new Error(s+n.toString());l.$events.error(n)},l.send("initThread",{component:n||null,asInstance:!1!==t,imports:e?[].concat(e).join(","):null})}return l},unfork:function(n){var e=this;return e.$thread&&(!0===n?e.$thread.terminate():e.send("dispose")),e.$thread=null,e.$events=null,e},initThread:function(){var n=this;return J&&(n.$events={},sn.listen(function(e){var t=e.event,r=e.data||null;t&&n.$events[t]?n.$events[t](r):"dispose"===t&&(n.dispose(),sn.close())})),n},listen:function(n,e){return n&&b(e)&&this.$events&&(this.$events[n]=e),this},unlisten:function(n,e){return n&&this.$events&&this.$events[n]&&(2>arguments.length||e===this.$events[n])&&delete this.$events[n],this},send:function(n,e){return n&&(J?sn.send({event:n,data:e||null}):this.$thread&&this.$thread.postMessage({event:n,data:e||null})),this},task:function(n){return S(n,on)?n:b(n)?on(n):void 0},iif:function(){var n=arguments,e=new on;return e.iif.apply(e,n)},until:function(){var n=w(arguments),e=new on(n.pop());return e.until.apply(e,n)},untilNot:function(){var n=w(arguments),e=new on(n.pop());return e.untilNot.apply(e,n)},loop:function(){var n=w(arguments),e=new on(n.pop());return e.loop.apply(e,n)},each:function(){var n=w(arguments),e=new on(n.pop());return e.each.apply(e,n)},recurse:function(){var n=w(arguments),e=new on(n.pop());return e.recurse.apply(e,n)},step:function(n){var e=this;return n&&e.$queue.push(e.task(n).queue(e)),e},steps:function(){var n,e,t=this,r=arguments;for(e=r.length,n=0;e>n;n++)t.step(r[n]);return t},jumpNext:function(n,e){var t=this,r=t.$queue;return e=e||0,!1!==n?function(){return e<r.length&&(e>0&&r.splice(0,e),t.run(t.$runmode)),t}:(e<r.length&&(e>0&&r.splice(0,e),t.run(t.$runmode)),t)},jumpNextWithArgs:function(n,e,t){var r=this,o=r.$queue;return e=e||0,!1!==n?function(){return e<o.length&&(e>0&&o.splice(0,e),r.run(r.$runmode,arguments)),r}:(e<o.length&&(e>0&&o.splice(0,e),r.run(r.$runmode,t)),r)},abort:function(n,e){var t=this;return!1!==n?function(){return e&&e>0?N(function(){t.empty()},e):t.empty(),t}:(e&&e>0?N(function(){t.empty()},e):t.empty(),t)},run:function(n,e){var t=this;return arguments.length?t.$runmode=n:n=t.$runmode,e=e||null,O===n?s(t,e):R===n?i(t,e):x===n?o(t,e):M===n&&r(t,e),t}},J&&(sn.log=function(n){sn.send({event:"console.log",data:"string"!=typeof n?$(n):n})},sn.listen(function(n){var e=n.event,t=n.data||null;switch(e){case"initThread":t&&t.component&&(K&&(b(K.dispose)&&K.dispose(),K=null),K=sn.load(t.component,t.imports,t.asInstance));break;case"dispose":K&&(b(K.dispose)&&K.dispose(),K=null),sn.close()}})),sn});
/**
*
*   FILTER.js
*   @version: 0.9.6
*   @built on 2016-09-02 21:06:09
*   @dependencies: Classy.js, Asynchronous.js
*
*   JavaScript Image Processing Library
*   https://github.com/foo123/FILTER.js
*
**/!function(t,e,r){"use strict";function n(t,e,r,n){return t?e.map(function(e,a){return(r?t[a]:t[e])||(n?n(e):null)}):[]}var a="Classy,Asynchronous".split(/\s*,\s*/);"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[e]=r.apply(t,n(module.$deps,a,!1,function(t){return require("./"+t.toLowerCase())}))):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(e)?define(e,["module"].concat(a),function(e){return r.moduleUri=e.uri,r.apply(t,n(Array.prototype.slice.call(arguments,1),a,!0))}):e in t||(t[e]=r.apply(t,n(t,a)))&&"function"==typeof define&&define.amd&&define(function(){return t[e]})}(this,"FILTER",function e(r,n){"use strict";var a={VERSION:"0.9.6",Classy:r,Asynchronous:n,Class:r.Class,Path:n.path(e.moduleUri)};return!function(t,e,r){var n,a="prototype",i="hasOwnProperty",o=Object.keys,s=(Object[a],Function[a],Array[a]),l=e.Path,u=e.Classy.Merge,h=e.Asynchronous,f=h.isPlatform(h.Platform.NODE),c=h.isPlatform(h.Platform.BROWSER),d=h.supportsMultiThreading(),g=h.isThread(null,!0),p=h.isThread(),m="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent:"",v="undefined"!=typeof navigator&&navigator.platform?navigator.platform:"",_="undefined"!=typeof navigator&&navigator.vendor?navigator.vendor:"",y=function(){},w=function(t){return function e(){var r=this;return r instanceof e?(r.$super("constructor"),void t.apply(r,1===arguments.length&&!0===arguments[0].__arguments__?arguments[0]:arguments)):arguments.length?(arguments.__arguments__=!0,new e(arguments)):new e}},C=(e.devicePixelRatio=(c&&!p?window.devicePixelRatio:1)||1,e._notSupportClamp="undefined"==typeof Uint8ClampedArray),I=0,A=Math.min,R=Math.max,b=e.Browser={isNode:f,isBrowser:c,isWorker:g,isInsideWorker:p,supportsWorker:d,isPhantom:/PhantomJS/.test(m),isOpera:c&&/Opera|OPR\//.test(m),isFirefox:c&&/Firefox\//.test(m),isChrome:c&&/Chrome\//.test(m),isSafari:c&&/Apple Computer/.test(_),isKhtml:c&&/KHTML\//.test(m),isIE:c&&(/MSIE \d/.test(m)||/Trident\/\d/.test(m)),isGecko:c&&/gecko\/\d/i.test(m),isWebkit:c&&/WebKit\//.test(m),isMac_geLion:c&&/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(m),isMac_geMountainLion:c&&/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(m),isMobile:!1,isIOS:/AppleWebKit/.test(m)&&/Mobile\/\w+/.test(m),isWin:/windows/i.test(v),isMac:!1,isIE_lt8:!1,isIE_lt9:!1,isQtWebkit:!1};b.isMobile=b.isIOS||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(m),b.isMac=b.isIOS||/Mac/.test(v),b.isIE_lt8=b.isIE&&!p&&(null==document.documentMode||document.documentMode<8),b.isIE_lt9=b.isIE&&!p&&(null==document.documentMode||document.documentMode<9),b.isQtWebkit=b.isWebkit&&/Qt\/\d+\.\d+/.test(m),e.getPath=h.path,e.uuid=function(t){return[t||"filter",(new Date).getTime(),++I].join("_")},e.Array=Array,e.Array32F="undefined"!=typeof Float32Array?Float32Array:Array,e.Array64F="undefined"!=typeof Float64Array?Float64Array:Array,e.Array8I="undefined"!=typeof Int8Array?Int8Array:Array,e.Array16I="undefined"!=typeof Int16Array?Int16Array:Array,e.Array32I="undefined"!=typeof Int32Array?Int32Array:Array,e.Array8U="undefined"!=typeof Uint8Array?Uint8Array:Array,e.Array16U="undefined"!=typeof Uint16Array?Uint16Array:Array,e.Array32U="undefined"!=typeof Uint32Array?Uint32Array:Array,e.ImArray=C?e.Array8U:Uint8ClampedArray,e.ImArrayCopy=b.isOpera?e.Array8U:e.ImArray,e.ColorTable=e.ImArrayCopy,e.AffineMatrix=e.ColorMatrix=e.ConvolutionMatrix=e.Array32F,e.MODE={IGNORE:0,WRAP:1,CLAMP:2,COLOR:3,COLOR32:3,TILE:4,STRETCH:5,INTENSITY:6,HUE:7,SATURATION:8,GRAY:9,GRAYSCALE:9,RGB:10,RGBA:11,HSV:12,CMY:13,CMYK:13,PATTERN:14,COLOR8:15,COLORMASK:16,COLORMASK32:16,COLORMASK8:17,MATRIX:18,LINEAR:19,RADIAL:20,NONLINEAR:21,STATISTICAL:22,ADAPTIVE:23,THRESHOLD:24,HISTOGRAM:25,MONO:26,MASK:27},e.CHANNEL={R:0,G:1,B:2,A:3,RED:0,GREEN:1,BLUE:2,ALPHA:3,Y:1,CB:2,CR:0,IP:0,Q:2,INPHASE:0,QUADRATURE:2,H:0,S:2,V:1,I:1,U:2,HUE:0,SATURATION:2,INTENSITY:1,CY:2,MA:0,YE:1,K:3,CYAN:2,MAGENTA:0,YELLOW:1,BLACK:3},e.STRIDE={CHANNEL:[0,0,1],X:[0,1,4],Y:[1,0,4],RGB:[0,1,2],ARGB:[3,0,1,2],RGBA:[0,1,2,3],BGR:[2,1,0],ABGR:[3,2,1,0],BGRA:[2,1,0,3]},e.LUMA=e.LUMA_YUV=e.LUMA_YIQ=new e.Array32F([.2126,.7152,.0722]),e.LUMA_YCbCr=new e.Array32F([.299,.587,.114]),e.LUMA_GREEN=new e.Array32F([0,1,0]),e.CONSTANTS=e.CONST={X:0,Y:1,Z:2,PI:Math.PI,PI2:2*Math.PI,PI_2:Math.PI/2,toRad:Math.PI/180,toDeg:180/Math.PI},e.FORMAT={IMAGE:1024,DATA:2048,PNG:2,JPG:3,JPEG:4,GIF:5,BMP:6,TGA:7,RGBE:8},e.MIME={PNG:"image/png",JPG:"image/jpeg",JPEG:"image/jpeg",GIF:"image/gif",BMP:"image/bmp"},C=e._notSupportClamp=C||b.isOpera,e.Util={String:{},Array:{hasClampedArray:"undefined"!=typeof Uint8ClampedArray,hasArrayset:"undefined"!=typeof Int16Array&&"function"==typeof Int16Array[a].set,hasSubarray:"function"==typeof e.Array32F[a].subarray},IO:{},Filter:{},Image:{},GLSL:{}},e.IO={},e.Codec={},e.Interpolation={},e.Transform={},e.MachineLearning={},e.GLSL={},e.SVG={},e.NotImplemented=function(t){return t?function(){throw new Error('Method "'+t+'" not Implemented!')}:function(){throw new Error("Method not Implemented!")}},n=e.log=g?h.log:"undefine"!=typeof console&&console.log?function(t){console.log(t)}:function(t){},e.warning=function(t){n("WARNING: "+t)},e.error=function(t,e){if(n("ERROR: "+t),e)throw new Error(t)};var M=e.FilterThread=e.Class(h,{path:l,name:null,_listener:null,_rand:null,constructor:function(){var t=this,r=null;g&&t.initThread().listen("load",function(t){t&&t.filter&&(r&&(r.dispose(!0),r=null),r=h.load("FILTER."+t.filter))}).listen("import",function(t){t&&t["import"]&&t["import"].length&&h.importScripts(t["import"].join?t["import"].join(","):t["import"])}).listen("apply",function(n){if(r&&n&&n.im){var a=n.im;a[0]=e.Util.Array.typed(a[0],e.ImArray),n.params&&r.unserializeFilter(n.params),n.inputs&&r.unserializeInputs(n.inputs,a),a=r._apply(a[0],a[1],a[2]),t.send("apply",{im:r._update?a:!1,meta:r.hasMeta?r.metaData(!0):null})}else t.send("apply",{im:null})}).listen("dispose",function(e){r&&(r.dispose(!0),r=null),t.dispose(!0)})},dispose:function(t){var e=this;return e.path=null,e.name=null,e._rand=null,e._listener&&(e._listener.cb=null,e._listener=null),e.$super("dispose",t),e},thread:function(t,e){var r=this;return arguments.length||(t=!0),t=!!t,t&&!r.$thread?(null===r._rand&&(r._rand=f?"":(-1===r.path.file.indexOf("?")?"?":"&")+(new Date).getTime()),r.fork("FILTER.FilterThread",l.file!==r.path.file?[l.file,r.path.file+r._rand]:r.path.file+r._rand),e&&e.length&&r.send("import",{"import":e.join?e.join(","):e}),r.send("load",{filter:r.name}),r.listen("apply",r._listener=function n(t){n.cb&&n.cb(t)})):!t&&r.$thread&&(r._listener.cb=null,r._listener=null,r.unfork()),r},sources:function(){if(!arguments.length)return this;var t=arguments[0]instanceof Array?arguments[0]:s.slice.call(arguments);if(t.length){var e,r=[];for(e=0;e<t.length;e++)r.push(h.blob("function"==typeof t[e]?t[e].toString():t[e]));this.send("import",{"import":r.join(",")})}return this},scripts:function(){if(!arguments.length)return this;var t=arguments[0]instanceof Array?arguments[0]:s.slice.call(arguments);return t.length&&this.send("import",{"import":t.join(",")}),this}}),D=e.Filter=e.Class(M,{name:"Filter",constructor:function(){var t=this;t.inputs={},t.meta=null},_isOn:!0,_update:!0,id:null,onComplete:null,mode:0,selection:null,inputs:null,hasInputs:!1,meta:null,hasMeta:!1,dispose:function(){var t=this;return t.name=null,t.id=null,t._isOn=null,t._update=null,t.onComplete=null,t.mode=null,t.selection=null,t.inputs=null,t.hasInputs=null,t.meta=null,t.hasMeta=null,t.$super("dispose"),t},worker:M[a].thread,metaData:function(t,e){return this.meta},getMetaData:null,setMetaData:function(t,e){return this.meta=t,this},setInput:function(t,e){var r=this;return t=String(t),null===e?r.inputs[t]&&delete r.inputs[t]:r.inputs[t]=[null,e,e.nref],r},unsetInput:function(t){var e=this;return t=String(t),e.inputs[t]&&delete e.inputs[t],e},delInput:null,resetInputs:function(){return this.inputs={},this},input:function(t){var e=this.inputs[String(t)];return e?((null==e[0]||e[1]&&e[2]!==e[1].nref)&&(e[2]=e[1].nref,e[0]=e[1].getSelectedData(1)),e[0]||null):null},getInput:null,serialize:function(){return null},unserialize:function(t){return this},serializeInputs:function(t){if(!this.hasInputs)return null;var e,r,n,a=this.inputs,i=o(a),s=i.length;if(!s)return null;for(n={},r=0;s>r;r++)e=a[i[r]],(null==e[0]||e[1]&&e[2]!==e[1].nref)&&(e[2]=e[1].nref,n[i[r]]=t===e[1]?!0:e[1].getSelectedData(1));return n},unserializeInputs:function(t,r){var n=this;if(!t||!n.hasInputs)return n;var a,i,s=n.inputs,l=o(t),u=l.length,h=e.ImArray,f=e.Util.Array.typed;for(i=0;u>i;i++)a=t[l[i]],a&&(!0===a?a=r:a[0]=f(a[0],h),s[l[i]]=[a,null,0]);return n},serializeFilter:function(){var t=this;return{filter:t.name,_isOn:t._isOn,_update:t._update,mode:t.mode,selection:t.selection,params:t.serialize()}},unserializeFilter:function(t){var e=this;return t&&e.name===t.filter&&(e._isOn=t._isOn,e._update=t._update,e.mode=t.mode||0,e.selection=t.selection||null,e._isOn&&t.params&&e.unserialize(t.params)),e},select:function(t,e,r,n,a){var i=this;return!1===t?i.selection=null:i.selection=a?[R(0,t||0),R(0,e||0),R(0,r||0),R(0,n||0),0]:[A(1,R(0,t||0)),A(1,R(0,e||0)),A(1,R(0,r||0)),A(1,R(0,n||0)),1],i},deselect:function(){return this.select(!1)},complete:function(t){return this.onComplete=t||null,this},setMode:function(t){return this.mode=t,this},getMode:function(){return this.mode},isOn:function(){return this._isOn},update:function(t){return arguments.length||(t=!0),this._update=!!t,this},turnOn:function(t){return arguments.length||(t=!0),this._isOn=!!t,this},toggle:function(){return this._isOn=!this._isOn,this},reset:function(){return this.resetInputs(),this},canRun:function(){return this._isOn},combineWith:function(t){return this},_apply:function(t,e,r,n){return t},apply:function(t,r,n){var a,i,o=this;return o.canRun()?(arguments.length<3&&(r&&r.setSelectedData?n=null:"function"==typeof r?(n=r,r=t):(r=t,n=null)),t&&r&&(n=n||o.onComplete,a=t.getSelectedData(),o.$thread?(o._listener.cb=function(t){o._listener.cb=null,t&&(t.meta&&o.setMetaData(t.meta,!0),t.im&&o._update&&(o.hasMeta&&null!=o.meta._IMG_WIDTH&&r.dimensions(o.meta._IMG_WIDTH,o.meta._IMG_HEIGHT),r.setSelectedData(e.Util.Array.typed(t.im,e.ImArray)))),n&&n.call(o)},o.send("apply",{im:a,params:o.serializeFilter(),inputs:o.serializeInputs(t)})):(i=o._apply(a[0],a[1],a[2],{src:t,dst:r}),o._update&&(o.hasMeta&&null!=o.meta._IMG_WIDTH&&r.dimensions(o.meta._IMG_WIDTH,o.meta._IMG_HEIGHT),r.setSelectedData(i)),n&&n.call(o))),t):t},toString:function(){return"[FILTER: "+this.name+"]"}});e.Filter[a].getMetaData=e.Filter[a].metaData,e.Filter[a].getInput=e.Filter[a].input,e.Filter[a].delInput=e.Filter[a].unsetInput,e.Filter.get=function(t){if(!t||!t.length)return null;if(-1<t.indexOf(".")){t=t.split(".");var r,n,a=t.length,i=e;for(r=0;a>r;r++){if(n=t[r],!i[n])return null;i=i[n]}return i}return e[t]||null},e.IO.Manager=e.Class({name:"IO.Manager",__static__:{read:e.Classy.Method(function(t,e,r){return function(t,e,n){return(new r).read(t,e,n)}},e.Classy.LATE|e.Classy.STATIC),write:e.Classy.Method(function(t,e,r){return function(t,e,n,a){return(new r).write(t,e,n,a)}},e.Classy.LATE|e.Classy.STATIC),load:e.Classy.Method(function(t,e,r){return function(t,e,n){return(new r).read(t,e,n)}},e.Classy.LATE|e.Classy.STATIC),save:e.Classy.Method(function(t,e,r){return function(t,e,n,a){return(new r).write(t,e,n,a)}},e.Classy.LATE|e.Classy.STATIC)},constructor:function(){},_crossOrigin:null,_responseType:null,_encoding:null,dispose:function(){var t=this;return t._crossOrigin=null,t._responseType=null,t._encoding=null,t},read:function(t,e,r){return null},write:function(t,e,r,n){return null},load:function(t,e,r){return this.read(t,e,r)},save:function(t,e,r,n){return this.write(t,e,r,n)},responseType:function(t){var e=this;return arguments.length?(e._responseType=t,e):e._responseType},crossOrigin:function(t){var e=this;return arguments.length?(e._crossOrigin=t,e):e._crossOrigin},encoding:function(t){var e=this;return arguments.length?(e._encoding=t,e):e._encoding}}),e.IO.Loader=e.IO.Reader=e.IO.Writer=e.IO.Manager,e.Codec.RAW={encoder:function(t,e){return new Buffer(t)},decoder:function(t,e){return{width:e.width||1,height:e.height||1,data:new Uint8Array(t)}}},e.Create=function(t){t=u({init:y,name:"PluginFilter"},t);var r=t.name;return t.constructor=w(t.init),null==t._apply&&"function"==typeof t.apply&&(t._apply=t.apply),"function"==typeof t.metaData&&t.metaData!==D[a].metaData?t.getMetaData=t.metaData:"function"==typeof t.getMetaData&&t.getMetaData!==D[a].getMetaData&&(t.metaData=t.getMetaData),delete t.init,t[i]("apply")&&delete t.apply,e[r]=e.Class(D,t)}}(this,a),!function(t,e){function r(t){return t.replace(Z,"\\$1")}function n(t){return t.toString().match(et)[1]||""}function a(t,e,r){return t>r?r:e>t?e:t}function i(t,e,r,n,a){r=r||0,n=n||0;var i,o,s=a?a-n+1:e.length,l=31&s;for(o=0;l>o;o++)t[o+r]=e[n+o];for(i=l;s>i;i+=32)o=i,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o,t[o+r]=e[n+o],++o}function o(t,e,r,n,a,i,o){i=J(i,e-1),o=J(o,r-1);var s,l,u,h,f=i-n+1,c=o-a+1,d=f*c<<2,g=new k(d),p=f<<2;for(s=a,l=a*e,u=0;o>=s;s++,l+=e,u+=p)h=l+n<<2,g.set(t.subarray(h,h+p),u);return g}function s(t,e,r,n,a,o,s){o=J(o,e-1),s=J(s,r-1);var l,u,h,f,c=o-n+1,d=s-a+1,g=c*d<<2,p=new k(g),m=c<<2;for(l=a,u=a*e,h=0;s>=l;l++,u+=e,h+=m)f=u+n<<2,i(p,t,h,f,f+m);return p}function l(t,e,r,n,a,i,o){n=n||0,a=a||0,i=i||0,o=o||0;var s,l,u,h,f=e+i+n,c=r+o+a,d=f*c<<2,g=new k(d),p=e<<2,m=f<<2,v=o*m,_=i<<2;for(s=0,l=0,u=v;r>s;s++,l+=e,u+=m)h=l<<2,g.set(t.subarray(h,h+p),_+u);return g}function u(t,e,r,n,a,o,s){n=n||0,a=a||0,o=o||0,s=s||0;var l,u,h,f,c=e+o+n,d=r+s+a,g=c*d<<2,p=new k(g),m=e<<2,v=c<<2,_=s*v,y=o<<2;for(l=0,u=0,h=_;r>l;l++,u+=e,h+=v)f=u<<2,i(p,t,y+h,f,f+m);return p}function h(t,e,r,n,a,i,o,s){if(n=J(n,e-1),a=J(a,r-1),i=J(i,e-1),o=J(o,r-1),0===n&&0===a&&e===i+1&&r===o+1)return!0===s?t:new U(t);if(!t.length||n>i||a>o)return new k(0);var l,u,h,f,c=i-n+1,d=o-a+1,g=c*d<<2,p=new k(g);for(l=n,u=a,h=0;o>=u;h+=4,l++)l>i&&(l=n,u++),f=u*e+l<<2,p[h]=t[f],p[h+1]=t[f+1],p[h+2]=t[f+2],p[h+3]=t[f+3];return p}function f(t,e,r,n,a,i,o,s,l,u,h,f){var c,d,g,p;if(!(t.length&&n.length&&a&&i&&e&&r))return t;for(o=J(o,a-1),s=J(s,i-1),h=J(h,e-1),f=J(f,r-1),l=J(l,a-1),u=J(u,i-1),h-=o,f-=s,g=o,p=s;u>=p;g++)g>l&&(g=o,p++),p+f>=r||g+h>=e||(c=p*a+g<<2,d=(p+f)*e+g+h<<2,t[d]=n[c],t[d+1]=n[c+1],t[d+2]=n[c+2],t[d+3]=n[c+3]);return t}function c(t,e,r,n,a,i,o,s){if(a=J(a,e-1),i=J(i,r-1),o=J(o,e-1),s=J(s,r-1),!t.length||a>o||i>s)return t;var l,u,h,f=255&n[0],c=255&n[1],d=255&n[2],g=3<n.length?255&n[3]:255;for(l=a,u=i;s>=u;l++)l>o&&(l=a,u++),h=u*e+l<<2,t[h]=f,t[h+1]=c,t[h+2]=d,t[h+3]=g;return t}function d(t,e,r,n,a,i){n=n||0,a=a||0;var i,o,s,l,u,h,f=t.length,c=f>>>n,d=e<<n,g=(31&e)<<n,p=32<<n,m=1<<n;for(i=i||new P(c),o=0,l=0,s=a;g>s;s+=m)o+=t[s],i[l++]=o;for(u=g+a;u<rowlen;u+=p)s=u,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o,s+=m,o+=t[s],i[l++]=o;for(h=0,l=0,o=0,g+=rowlen,s=d+a;g>s;s+=m)o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0);for(u=g+a;f>u;u+=p)s=u,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0),s+=m,o+=t[s],i[l+e]=i[l]+o,++l,++h>=e&&(h=0,o=0);return i}function g(t,e,r,n,a,i,o){n=n||0,a=a||0;var s,l,u,h=32<<n,f=1<<n,c=t.length,d=c>>>n,g=(31&d)<<n;for(o=o||new P(256),s=a;g>s;s+=f)o[t[s]]++;for(l=g+a;c>l;l+=h)s=l,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++,s+=f,o[t[s]]++;if(!0===i)return o;for(u=0,s=0;256>s;s+=64)u+=o[s],o[s]=u,u+=o[s+1],o[s+1]=u,u+=o[s+2],o[s+2]=u,u+=o[s+3],o[s+3]=u,u+=o[s+4],o[s+4]=u,u+=o[s+5],o[s+5]=u,u+=o[s+6],o[s+6]=u,u+=o[s+7],o[s+7]=u,u+=o[s+8],o[s+8]=u,u+=o[s+9],o[s+9]=u,u+=o[s+10],o[s+10]=u,u+=o[s+11],o[s+11]=u,u+=o[s+12],o[s+12]=u,u+=o[s+13],o[s+13]=u,u+=o[s+14],o[s+14]=u,u+=o[s+15],o[s+15]=u,u+=o[s+16],o[s+16]=u,u+=o[s+17],o[s+17]=u,u+=o[s+18],o[s+18]=u,u+=o[s+19],o[s+19]=u,u+=o[s+20],o[s+20]=u,u+=o[s+21],o[s+21]=u,u+=o[s+22],o[s+22]=u,u+=o[s+23],o[s+23]=u,u+=o[s+24],o[s+24]=u,u+=o[s+25],o[s+25]=u,u+=o[s+26],o[s+26]=u,u+=o[s+27],o[s+27]=u,u+=o[s+28],o[s+28]=u,u+=o[s+29],o[s+29]=u,u+=o[s+30],o[s+30]=u,u+=o[s+31],o[s+31]=u,u+=o[s+32],o[s+32]=u,u+=o[s+33],o[s+33]=u,u+=o[s+34],o[s+34]=u,u+=o[s+35],o[s+35]=u,u+=o[s+36],o[s+36]=u,u+=o[s+37],o[s+37]=u,u+=o[s+38],o[s+38]=u,u+=o[s+39],o[s+39]=u,u+=o[s+40],o[s+40]=u,u+=o[s+41],o[s+41]=u,u+=o[s+42],o[s+42]=u,u+=o[s+43],o[s+43]=u,u+=o[s+44],o[s+44]=u,u+=o[s+45],o[s+45]=u,u+=o[s+46],o[s+46]=u,u+=o[s+47],o[s+47]=u,u+=o[s+48],o[s+48]=u,u+=o[s+49],o[s+49]=u,u+=o[s+50],o[s+50]=u,u+=o[s+51],o[s+51]=u,u+=o[s+52],o[s+52]=u,u+=o[s+53],o[s+53]=u,u+=o[s+54],o[s+54]=u,u+=o[s+55],o[s+55]=u,u+=o[s+56],o[s+56]=u,u+=o[s+57],o[s+57]=u,u+=o[s+58],o[s+58]=u,u+=o[s+59],o[s+59]=u,u+=o[s+60],o[s+60]=u,u+=o[s+61],o[s+61]=u,u+=o[s+62],o[s+62]=u,u+=o[s+63],o[s+63]=u;return o}function p(t,e,r,n,a){return null}function m(t,e,r,n,a,i,o,s){var l,u,h,f,c,d,g,p,m=t.length,v=e<<n,_=(31&e)<<n,y=32<<n,w=1<<n;for(l=u=0,d=0,f=a;_>f;f+=w)h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d;for(c=_+a;v>c;c+=y)f=c,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d,f+=w,h=t[f],l+=h,i[d]=l,s[d]=h,u+=h*h,o[d]=u,++d;for(g=0,p=1,d=0,l=0,u=0,_+=v,f=v+a;_>f;f+=w)h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0);for(c=_+a;m>c;c+=y)f=c,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0),f+=w,h=t[f],l+=h,i[d+e]=i[d]+l,u+=h*h,o[d+e]=o[d]+u,s[d+e]=s[d+1-e]+(h+t[d-e<<n])+(p>1?s[d-e-e]:0)+(g>0?s[d-1-e]:0),++d,++g>=e&&(g=0,p++,l=u=0)}function v(t,e,r,n,a,i,o,s,l,u,h,f){var c,d,g,p,m,v,y,w,C,I,A,R,b,M=n,D=t.length,x=D>>>n,S=e-1,E=r-1,O=e<<n,L=1<<n,T=L<<1,G=O,x=D>>>n,k=new P(x),U=new P(x);if(i){for(m=e-2,v=r-2,y=e<<1,b=new B(x),d=2,g=2,p=y;v>g&&!(d>=m&&(d=2,p+=e,g++,g>=v));d++)c=d+p,w=(c<<n)+a,C=w+G,I=C+G,A=w-G,R=A-G,b[c]=(103*(2*t[R-T]+4*t[R-L]+5*t[R]+4*t[R+L]+2*t[R+T]+4*t[A-T]+9*t[A-L]+12*t[A]+9*t[A+L]+4*t[A+T]+5*t[w-T]+12*t[w-L]+15*t[w]+12*t[w+L]+5*t[w+T]+4*t[C-T]+9*t[C-L]+12*t[C]+9*t[C+L]+4*t[C+T]+2*t[I-T]+4*t[I-L]+5*t[I]+4*t[I+L]+2*t[I+T])+8192&4294967295)>>>14&255;L=1,T=2,G=e,n=0,a=0}else b=t;for(d=1,g=1,p=e;E>g&&!(d>=S&&(d=1,p+=e,g++,g>=E));d++)c=p+d,w=(c<<n)+a,C=w+G,A=w-G,k[c]=b[A+L]-b[A-L]+(b[w+L]<<1)-(b[w-L]<<1)+b[C+L]-b[C-L],U[c]=b[A-L]-b[C-L]+(b[A]<<1)-(b[C]<<1)+b[A+L]-b[C+L];return _(k,U,t,e,r,M,o,s,l,u,h,f)}function _(t,e,r,n,a,i,o,s,l,u,h,f){null==u&&(u=1,h=510,f=u*h);var c,d,g,p,m,v,_,y,w,C,I,A,R,b,M,D,x,S,E,O,L,T,G,k,U,F,B,H,N,Y,K,W,j,X,z,$,V,J,Z,tt,et,rt,nt=r.length,at=nt>>>i,it=n-1,ot=a-1,st=new P(at);for(d=1,g=1,p=n;ot>g&&!(d>=it&&(d=1,p+=n,g++,g>=ot));d++)v=d+p,y=v-n,_=v+n,w=v-1,C=v+1,A=y-1,I=y+1,b=_-1,R=_+1,M=t[v],D=e[v],x=Q(M),S=Q(D),E=x+S,L=Q(t[y])+Q(e[y]),T=Q(t[_])+Q(e[_]),G=Q(t[w])+Q(e[w]),k=Q(t[C])+Q(e[C]),U=Q(t[I])+Q(e[I]),F=Q(t[R])+Q(e[R]),B=Q(t[b])+Q(e[b]),H=Q(t[A])+Q(e[A]),N=0>=M*D?x>=S?(O=x*E)>=Q(D*U-(M+D)*k)&&O>Q(D*B-(M+D)*G):(O=S*E)>=Q(M*U-(D+M)*L)&&O>Q(M*B-(D+M)*T):x>=S?(O=x*E)>=Q(D*F+(M-D)*k)&&O>Q(D*H+(M-D)*G):(O=S*E)>=Q(M*F+(D-M)*T)&&O>Q(M*H+(D-M)*L),st[v]=N?E>=h?f:q(u*E):0;if(o){for(d=0,m=0;n>d;d++)m+=st[d],st[d]=m;for(d=n,p=0,m=0;at>d;d++,p++)p>=n&&(p=0,m=0),m+=st[d],st[d]=st[d-n]+m;return st}if(i)for(d=0;nt>d;d+=4)r[d]=r[d+1]=r[d+2]=0;else for(d=0;nt>d;d++)r[d]=0;for(d=0,g=0,c=0,p=0;at>c;c++,p=c<<i,d++)if(d>=n&&(d=0,g++),!(0!==r[p]||st[c]<l)){Y=d,j=g,et=p;do for(i?r[et]=r[et+1]=r[et+2]=255:r[et]=255,K=0===Y?Y:Y-1,W=Y===it?Y:Y+1,X=0===j?j:j-1,z=j===ot?j:j+1,J=X*n,$=K,V=X,Z=J,rt=0;W>=$&&z>=V;){if(tt=$+Z,et=tt<<i,(V!==X||$!==K)&&0===r[et]&&st[tt]>=s){Y=$,j=V,rt=1;break}V++,Z+=n,V>z&&(V=j,Z=J,$++)}while(rt)}return r}function y(t,e,r,n,a,i,o,s,l,u,h,f){var c,d,g,p,m,v,_,y,w,C,I,A,R,b,M,D,x,S,E,O,L,G,U,F,B,H,N,Y,K,W,j,X,z,$,q,V,J,Q,Z,tt,et,rt,nt,at,it,ot,st,lt,ut=e.length,ht=ut>>>a,ft=s,ct=l,dt=r<<a,gt=1<<a;if(y=ft*ct,v=ft>>>1,_=r*(ct>>>1),I=-v-1,R=-_-r,A=v,b=_,W=0,X=r-1,j=0,z=ht-r,w=e,e=new k(ut),f=f||1,T.GRAY===t)if(d=ht,C=r,c=new P(d),o)for(O=i[0],L=i[y>>>1],G=L-O,U=o[0],F=o[y>>>1],B=F-U,st=0;f>st;st++){for(lt=e,e=w,w=lt,M=0,D=0,g=0,x=0;r>x;x++,M+=gt,D++)g+=e[M],c[D]=g;for(D=0,x=0,g=0,M=dt;ut>M;M+=gt,D++,x++)x>=r&&(x=0,g=0),g+=e[M],c[D+C]=c[D]+g;for(x=0,S=0,E=0,M=0;ut>M;M+=gt,x++)x>=r&&(x=0,S++,E+=r),H=x+I,N=E+R,Y=x+A,K=E+b,H=W>H?W:H,Y=Y>X?X:Y,N=j>N?j:N,K=K>z?z:K,$=H+N,J=Y+K,q=Y+N,V=H+K,et=O*(c[J]-c[q]-c[V]+c[$])+G*e[M],at=U*(c[J]-c[q]-c[V]+c[$])+B*e[M],Q=u*et+h*at,w[M]=0|Q,w[M+1]=0|Q,w[M+2]=0|Q,w[M+3]=e[M+3]}else for(O=i[0],L=i[y>>>1],G=L-O,st=0;f>st;st++){for(lt=e,e=w,w=lt,M=0,D=0,g=0,x=0;r>x;x++,M+=gt,D++)g+=e[M],c[D]=g;for(D=0,x=0,g=0,M=dt;ut>M;M+=gt,D++,x++)x>=r&&(x=0,g=0),g+=e[M],c[D+C]=c[D]+g;for(x=0,S=0,E=0,M=0;ut>M;M+=gt,x++)x>=r&&(x=0,S++,E+=r),H=x+I,N=E+R,Y=x+A,K=E+b,H=W>H?W:H,Y=Y>X?X:Y,N=j>N?j:N,K=K>z?z:K,$=H+N,J=Y+K,q=Y+N,V=H+K,et=O*(c[J]-c[q]-c[V]+c[$])+G*e[M],Q=u*et+h,w[M]=0|Q,w[M+1]=0|Q,w[M+2]=0|Q,w[M+3]=e[M+3]}else if(d=(ht<<1)+ht,C=(r<<1)+r,c=new P(d),o)for(O=i[0],L=i[y>>>1],G=L-O,U=o[0],F=o[y>>>1],B=F-U,st=0;f>st;st++){for(lt=e,e=w,w=lt,M=0,D=0,g=p=m=0,x=0;r>x;x++,M+=gt,D+=3)g+=e[M],p+=e[M+1],m+=e[M+2],c[D]=g,c[D+1]=p,c[D+2]=m;for(D=0,x=0,g=p=m=0,M=dt;ut>M;M+=gt,D+=3,x++)x>=r&&(x=0,g=p=m=0),g+=e[M],p+=e[M+1],m+=e[M+2],c[D+C]=c[D]+g,c[D+C+1]=c[D+1]+p,c[D+C+2]=c[D+2]+m;for(x=0,S=0,E=0,M=0;ut>M;M+=gt,x++)x>=r&&(x=0,S++,E+=r),H=x+I,N=E+R,Y=x+A,K=E+b,H=W>H?W:H,Y=Y>X?X:Y,N=j>N?j:N,K=K>z?z:K,$=H+N,J=Y+K,q=Y+N,V=H+K,$=($<<1)+$,q=(q<<1)+q,V=(V<<1)+V,J=(J<<1)+J,et=O*(c[J]-c[q]-c[V]+c[$])+G*e[M],rt=O*(c[J+1]-c[q+1]-c[V+1]+c[$+1])+G*e[M+1],nt=O*(c[J+2]-c[q+2]-c[V+2]+c[$+2])+G*e[M+2],at=U*(c[J]-c[q]-c[V]+c[$])+B*e[M],it=U*(c[J+1]-c[q+1]-c[V+1]+c[$+1])+B*e[M+1],ot=U*(c[J+2]-c[q+2]-c[V+2]+c[$+2])+B*e[M+2],Q=u*et+h*at,Z=u*rt+h*it,tt=u*nt+h*ot,w[M]=0|Q,w[M+1]=0|Z,w[M+2]=0|tt,w[M+3]=e[M+3]}else for(O=i[0],L=i[y>>>1],G=L-O,st=0;f>st;st++){for(lt=e,e=w,w=lt,M=0,D=0,g=p=m=0,x=0;r>x;x++,M+=gt,D+=3)g+=e[M],p+=e[M+1],m+=e[M+2],c[D]=g,c[D+1]=p,c[D+2]=m;for(D=0,x=0,g=p=m=0,M=dt;ut>M;M+=gt,D+=3,x++)x>=r&&(x=0,g=p=m=0),g+=e[M],p+=e[M+1],m+=e[M+2],c[D+C]=c[D]+g,c[D+C+1]=c[D+1]+p,c[D+C+2]=c[D+2]+m;for(x=0,S=0,E=0,M=0;ut>M;M+=gt,x++)x>=r&&(x=0,S++,E+=r),H=x+I,N=E+R,Y=x+A,K=E+b,H=W>H?W:H,Y=Y>X?X:Y,N=j>N?j:N,K=K>z?z:K,$=H+N,J=Y+K,q=Y+N,V=H+K,$=($<<1)+$,q=(q<<1)+q,V=(V<<1)+V,J=(J<<1)+J,et=O*(c[J]-c[q]-c[V]+c[$])+G*e[M],rt=O*(c[J+1]-c[q+1]-c[V+1]+c[$+1])+G*e[M+1],nt=O*(c[J+2]-c[q+2]-c[V+2]+c[$+2])+G*e[M+2],Q=u*et+h,Z=u*rt+h,tt=u*nt+h,w[M]=0|Q,w[M+1]=0|Z,w[M+2]=0|tt,w[M+3]=e[M+3]}return w}function w(t,e,r,n,a,i,o,s,l,u,h,f){var c,d,g,p,m,v,_,y,w,C,I,A,R,b,M,D,x,S,E,O,L,G,U,F,B,H,N,Y,K,W,j,X,z,$,q,V,J,Q,Z,tt,et,rt,nt,at,it,ot,st,lt,ut=e.length,ht=ut>>>a,ft=s,ct=l,dt=r<<a,gt=1<<a;if(y=ft*ct,v=ft>>>1,_=r*(ct>>>1),I=-v-1,R=-_-r,A=v,b=_,W=0,X=r-1,j=0,z=ht-r,w=e,e=new k(ut),f=f||1,T.GRAY===t)if(d=ht,C=r,c=new P(d),o)for(O=i[0],L=i[y>>>1],G=L-O,U=o[0],F=o[y>>>1],B=F-U,st=0;f>st;st++){for(lt=e,e=w,w=lt,M=0,D=0,g=0,x=0;r>x;x++,M+=gt,D++)g+=e[M],c[D]=g;for(D=0,x=0,g=0,M=dt;ut>M;M+=gt,D++,x++)x>=r&&(x=0,g=0),g+=e[M],c[D+C]=c[D]+g;for(x=0,S=0,E=0,M=0;ut>M;M+=gt,x++)x>=r&&(x=0,S++,E+=r),H=x+I,N=E+R,Y=x+A,K=E+b,H=W>H?W:H,Y=Y>X?X:Y,N=j>N?j:N,K=K>z?z:K,$=H+N,J=Y+K,q=Y+N,V=H+K,et=O*(c[J]-c[q]-c[V]+c[$])+G*e[M],
at=U*(c[J]-c[q]-c[V]+c[$])+B*e[M],Q=u*et+h*at,Q=0>Q?0:Q>255?255:Q,w[M]=0|Q,w[M+1]=0|Q,w[M+2]=0|Q,w[M+3]=e[M+3]}else for(O=i[0],L=i[y>>>1],G=L-O,st=0;f>st;st++){for(lt=e,e=w,w=lt,M=0,D=0,g=0,x=0;r>x;x++,M+=gt,D++)g+=e[M],c[D]=g;for(D=0,x=0,g=0,M=dt;ut>M;M+=gt,D++,x++)x>=r&&(x=0,g=0),g+=e[M],c[D+C]=c[D]+g;for(x=0,S=0,E=0,M=0;ut>M;M+=gt,x++)x>=r&&(x=0,S++,E+=r),H=x+I,N=E+R,Y=x+A,K=E+b,H=W>H?W:H,Y=Y>X?X:Y,N=j>N?j:N,K=K>z?z:K,$=H+N,J=Y+K,q=Y+N,V=H+K,et=O*(c[J]-c[q]-c[V]+c[$])+G*e[M],Q=u*et+h,Q=0>Q?0:Q>255?255:Q,w[M]=0|Q,w[M+1]=0|Q,w[M+2]=0|Q,w[M+3]=e[M+3]}else if(d=(ht<<1)+ht,C=(r<<1)+r,c=new P(d),o)for(O=i[0],L=i[y>>>1],G=L-O,U=o[0],F=o[y>>>1],B=F-U,st=0;f>st;st++){for(lt=e,e=w,w=lt,M=0,D=0,g=p=m=0,x=0;r>x;x++,M+=gt,D+=3)g+=e[M],p+=e[M+1],m+=e[M+2],c[D]=g,c[D+1]=p,c[D+2]=m;for(D=0,x=0,g=p=m=0,M=dt;ut>M;M+=gt,D+=3,x++)x>=r&&(x=0,g=p=m=0),g+=e[M],p+=e[M+1],m+=e[M+2],c[D+C]=c[D]+g,c[D+C+1]=c[D+1]+p,c[D+C+2]=c[D+2]+m;for(x=0,S=0,E=0,M=0;ut>M;M+=gt,x++)x>=r&&(x=0,S++,E+=r),H=x+I,N=E+R,Y=x+A,K=E+b,H=W>H?W:H,Y=Y>X?X:Y,N=j>N?j:N,K=K>z?z:K,$=H+N,J=Y+K,q=Y+N,V=H+K,$=($<<1)+$,q=(q<<1)+q,V=(V<<1)+V,J=(J<<1)+J,et=O*(c[J]-c[q]-c[V]+c[$])+G*e[M],rt=O*(c[J+1]-c[q+1]-c[V+1]+c[$+1])+G*e[M+1],nt=O*(c[J+2]-c[q+2]-c[V+2]+c[$+2])+G*e[M+2],at=U*(c[J]-c[q]-c[V]+c[$])+B*e[M],it=U*(c[J+1]-c[q+1]-c[V+1]+c[$+1])+B*e[M+1],ot=U*(c[J+2]-c[q+2]-c[V+2]+c[$+2])+B*e[M+2],Q=u*et+h*at,Z=u*rt+h*it,tt=u*nt+h*ot,Q=0>Q?0:Q>255?255:Q,Z=0>Z?0:Z>255?255:Z,tt=0>tt?0:tt>255?255:tt,w[M]=0|Q,w[M+1]=0|Z,w[M+2]=0|tt,w[M+3]=e[M+3]}else for(O=i[0],L=i[y>>>1],G=L-O,st=0;f>st;st++){for(lt=e,e=w,w=lt,M=0,D=0,g=p=m=0,x=0;r>x;x++,M+=gt,D+=3)g+=e[M],p+=e[M+1],m+=e[M+2],c[D]=g,c[D+1]=p,c[D+2]=m;for(D=0,x=0,g=p=m=0,M=dt;ut>M;M+=gt,D+=3,x++)x>=r&&(x=0,g=p=m=0),g+=e[M],p+=e[M+1],m+=e[M+2],c[D+C]=c[D]+g,c[D+C+1]=c[D+1]+p,c[D+C+2]=c[D+2]+m;for(x=0,S=0,E=0,M=0;ut>M;M+=gt,x++)x>=r&&(x=0,S++,E+=r),H=x+I,N=E+R,Y=x+A,K=E+b,H=W>H?W:H,Y=Y>X?X:Y,N=j>N?j:N,K=K>z?z:K,$=H+N,J=Y+K,q=Y+N,V=H+K,$=($<<1)+$,q=(q<<1)+q,V=(V<<1)+V,J=(J<<1)+J,et=O*(c[J]-c[q]-c[V]+c[$])+G*e[M],rt=O*(c[J+1]-c[q+1]-c[V+1]+c[$+1])+G*e[M+1],nt=O*(c[J+2]-c[q+2]-c[V+2]+c[$+2])+G*e[M+2],Q=u*et+h,Z=u*rt+h,tt=u*nt+h,Q=0>Q?0:Q>255?255:Q,Z=0>Z?0:Z>255?255:Z,tt=0>tt?0:tt>255?255:tt,w[M]=0|Q,w[M+1]=0|Z,w[M+2]=0|tt,w[M+3]=e[M+3]}return w}function C(t,e,r,n,a,i,o,s,l,u,h){var f,c,d,g,p,m,v,_,y,w,C,I,A,R,b,M,D,x,S,E,O,L,G,U,P,B,H,N,Y=e.length,K=Y>>>a,W=1<<a;for(M=r-1,D=K-r,v=new F(s),C=0,g=s.length;g>C;C+=2)v[C+1]*=r;for(_=new F(l),C=0,g=l.length;g>C;C+=2)_[C+1]*=r;if(H=2,c=i,d=s,B=u,m=v,p=e,e=new k(Y),T.GRAY===t)for(;H--;){for(N=e,e=p,p=N,f=c.length,g=d.length,I=0,A=0,y=0;Y>y;y+=W,I++){for(I>=r&&(I=0,A+=r),L=G=U=P=0,C=0,w=0;f>C;C++,w+=2)R=I+m[w],b=A+m[w+1],R>=0&&M>=R&&b>=0&&D>=b&&(srcOff=R+b<<2,O=c[C],L+=e[srcOff]*O);x=B*L,p[y]=0|x,p[y+1]=0|x,p[y+2]=0|x,p[y+3]=e[y+3]}c=o,d=l,B=h,m=_}else for(;H--;){for(N=e,e=p,p=N,f=c.length,g=d.length,I=0,A=0,y=0;Y>y;y+=W,I++){for(I>=r&&(I=0,A+=r),L=G=U=P=0,C=0,w=0;f>C;C++,w+=2)R=I+m[w],b=A+m[w+1],R>=0&&M>=R&&b>=0&&D>=b&&(srcOff=R+b<<2,O=c[C],L+=e[srcOff]*O,G+=e[srcOff+1]*O,U+=e[srcOff+2]*O);x=B*L,S=B*G,E=B*U,p[y]=0|x,p[y+1]=0|S,p[y+2]=0|E,p[y+3]=e[y+3]}c=o,d=l,B=h,m=_}return p}function I(t,e,r,n,a,i,o,s,l,u,h){var f,c,d,g,p,m,v,_,y,w,C,I,A,R,b,M,D,x,S,E,O,L,G,U,P,B,H,N,Y=e.length,K=Y>>>a,W=1<<a;for(M=r-1,D=K-r,v=new F(s),C=0,g=s.length;g>C;C+=2)v[C+1]*=r;for(_=new F(l),C=0,g=l.length;g>C;C+=2)_[C+1]*=r;if(H=2,c=i,d=s,B=u,m=v,p=e,e=new k(Y),T.GRAY===t)for(;H--;){for(N=e,e=p,p=N,f=c.length,g=d.length,I=0,A=0,y=0;Y>y;y+=W,I++){for(I>=r&&(I=0,A+=r),L=G=U=P=0,C=0,w=0;f>C;C++,w+=2)R=I+m[w],b=A+m[w+1],R>=0&&M>=R&&b>=0&&D>=b&&(srcOff=R+b<<2,O=c[C],L+=e[srcOff]*O);x=B*L,x=0>x?0:x>255?255:x,p[y]=0|x,p[y+1]=0|x,p[y+2]=0|x,p[y+3]=e[y+3]}c=o,d=l,B=h,m=_}else for(;H--;){for(N=e,e=p,p=N,f=c.length,g=d.length,I=0,A=0,y=0;Y>y;y+=W,I++){for(I>=r&&(I=0,A+=r),L=G=U=P=0,C=0,w=0;f>C;C++,w+=2)R=I+m[w],b=A+m[w+1],R>=0&&M>=R&&b>=0&&D>=b&&(srcOff=R+b<<2,O=c[C],L+=e[srcOff]*O,G+=e[srcOff+1]*O,U+=e[srcOff+2]*O);x=B*L,S=B*G,E=B*U,x=0>x?0:x>255?255:x,S=0>S?0:S>255?255:S,E=0>E?0:E>255?255:E,p[y]=0|x,p[y+1]=0|S,p[y+2]=0|E,p[y+3]=e[y+3]}c=o,d=l,B=h,m=_}return p}function A(t,e){null==e&&(e=0),null==t&&(t=1);var r,n=new H(256);if("function"==typeof t)for(r=0;256>r;r+=32)n[r]=0|a(t(r),0,255),n[r+1]=0|a(t(r+1),0,255),n[r+2]=0|a(t(r+2),0,255),n[r+3]=0|a(t(r+3),0,255),n[r+4]=0|a(t(r+4),0,255),n[r+5]=0|a(t(r+5),0,255),n[r+6]=0|a(t(r+6),0,255),n[r+7]=0|a(t(r+7),0,255),n[r+8]=0|a(t(r+8),0,255),n[r+9]=0|a(t(r+9),0,255),n[r+10]=0|a(t(r+10),0,255),n[r+11]=0|a(t(r+11),0,255),n[r+12]=0|a(t(r+12),0,255),n[r+13]=0|a(t(r+13),0,255),n[r+14]=0|a(t(r+14),0,255),n[r+15]=0|a(t(r+15),0,255),n[r+16]=0|a(t(r+16),0,255),n[r+17]=0|a(t(r+17),0,255),n[r+18]=0|a(t(r+18),0,255),n[r+19]=0|a(t(r+19),0,255),n[r+20]=0|a(t(r+20),0,255),n[r+21]=0|a(t(r+21),0,255),n[r+22]=0|a(t(r+22),0,255),n[r+23]=0|a(t(r+23),0,255),n[r+24]=0|a(t(r+24),0,255),n[r+25]=0|a(t(r+25),0,255),n[r+26]=0|a(t(r+26),0,255),n[r+27]=0|a(t(r+27),0,255),n[r+28]=0|a(t(r+28),0,255),n[r+29]=0|a(t(r+29),0,255),n[r+30]=0|a(t(r+30),0,255),n[r+31]=0|a(t(r+31),0,255);else for(r=0;256>r;r+=32)n[r]=0|a(e+t*r,0,255),n[r+1]=0|a(e+t*(r+1),0,255),n[r+2]=0|a(e+t*(r+2),0,255),n[r+3]=0|a(e+t*(r+3),0,255),n[r+4]=0|a(e+t*(r+4),0,255),n[r+5]=0|a(e+t*(r+5),0,255),n[r+6]=0|a(e+t*(r+6),0,255),n[r+7]=0|a(e+t*(r+7),0,255),n[r+8]=0|a(e+t*(r+8),0,255),n[r+9]=0|a(e+t*(r+9),0,255),n[r+10]=0|a(e+t*(r+10),0,255),n[r+11]=0|a(e+t*(r+11),0,255),n[r+12]=0|a(e+t*(r+12),0,255),n[r+13]=0|a(e+t*(r+13),0,255),n[r+14]=0|a(e+t*(r+14),0,255),n[r+15]=0|a(e+t*(r+15),0,255),n[r+16]=0|a(e+t*(r+16),0,255),n[r+17]=0|a(e+t*(r+17),0,255),n[r+18]=0|a(e+t*(r+18),0,255),n[r+19]=0|a(e+t*(r+19),0,255),n[r+20]=0|a(e+t*(r+20),0,255),n[r+21]=0|a(e+t*(r+21),0,255),n[r+22]=0|a(e+t*(r+22),0,255),n[r+23]=0|a(e+t*(r+23),0,255),n[r+24]=0|a(e+t*(r+24),0,255),n[r+25]=0|a(e+t*(r+25),0,255),n[r+26]=0|a(e+t*(r+26),0,255),n[r+27]=0|a(e+t*(r+27),0,255),n[r+28]=0|a(e+t*(r+28),0,255),n[r+29]=0|a(e+t*(r+29),0,255),n[r+30]=0|a(e+t*(r+30),0,255),n[r+31]=0|a(e+t*(r+31),0,255);return n}function R(t,e){var r,n=new H(256);for(r=0;256>r;r+=64)n[r]=a(t[a(e[r],0,255)],0,255),n[r+1]=a(t[a(e[r+1],0,255)],0,255),n[r+2]=a(t[a(e[r+2],0,255)],0,255),n[r+3]=a(t[a(e[r+3],0,255)],0,255),n[r+4]=a(t[a(e[r+4],0,255)],0,255),n[r+5]=a(t[a(e[r+5],0,255)],0,255),n[r+6]=a(t[a(e[r+6],0,255)],0,255),n[r+7]=a(t[a(e[r+7],0,255)],0,255),n[r+8]=a(t[a(e[r+8],0,255)],0,255),n[r+9]=a(t[a(e[r+9],0,255)],0,255),n[r+10]=a(t[a(e[r+10],0,255)],0,255),n[r+11]=a(t[a(e[r+11],0,255)],0,255),n[r+12]=a(t[a(e[r+12],0,255)],0,255),n[r+13]=a(t[a(e[r+13],0,255)],0,255),n[r+14]=a(t[a(e[r+14],0,255)],0,255),n[r+15]=a(t[a(e[r+15],0,255)],0,255),n[r+16]=a(t[a(e[r+16],0,255)],0,255),n[r+17]=a(t[a(e[r+17],0,255)],0,255),n[r+18]=a(t[a(e[r+18],0,255)],0,255),n[r+19]=a(t[a(e[r+19],0,255)],0,255),n[r+20]=a(t[a(e[r+20],0,255)],0,255),n[r+21]=a(t[a(e[r+21],0,255)],0,255),n[r+22]=a(t[a(e[r+22],0,255)],0,255),n[r+23]=a(t[a(e[r+23],0,255)],0,255),n[r+24]=a(t[a(e[r+24],0,255)],0,255),n[r+25]=a(t[a(e[r+25],0,255)],0,255),n[r+26]=a(t[a(e[r+26],0,255)],0,255),n[r+27]=a(t[a(e[r+27],0,255)],0,255),n[r+28]=a(t[a(e[r+28],0,255)],0,255),n[r+29]=a(t[a(e[r+29],0,255)],0,255),n[r+30]=a(t[a(e[r+30],0,255)],0,255),n[r+31]=a(t[a(e[r+31],0,255)],0,255),n[r+32]=a(t[a(e[r+32],0,255)],0,255),n[r+33]=a(t[a(e[r+33],0,255)],0,255),n[r+34]=a(t[a(e[r+34],0,255)],0,255),n[r+35]=a(t[a(e[r+35],0,255)],0,255),n[r+36]=a(t[a(e[r+36],0,255)],0,255),n[r+37]=a(t[a(e[r+37],0,255)],0,255),n[r+38]=a(t[a(e[r+38],0,255)],0,255),n[r+39]=a(t[a(e[r+39],0,255)],0,255),n[r+40]=a(t[a(e[r+40],0,255)],0,255),n[r+41]=a(t[a(e[r+41],0,255)],0,255),n[r+42]=a(t[a(e[r+42],0,255)],0,255),n[r+43]=a(t[a(e[r+43],0,255)],0,255),n[r+44]=a(t[a(e[r+44],0,255)],0,255),n[r+45]=a(t[a(e[r+45],0,255)],0,255),n[r+46]=a(t[a(e[r+46],0,255)],0,255),n[r+47]=a(t[a(e[r+47],0,255)],0,255),n[r+48]=a(t[a(e[r+48],0,255)],0,255),n[r+49]=a(t[a(e[r+49],0,255)],0,255),n[r+50]=a(t[a(e[r+50],0,255)],0,255),n[r+51]=a(t[a(e[r+51],0,255)],0,255),n[r+52]=a(t[a(e[r+52],0,255)],0,255),n[r+53]=a(t[a(e[r+53],0,255)],0,255),n[r+54]=a(t[a(e[r+54],0,255)],0,255),n[r+55]=a(t[a(e[r+55],0,255)],0,255),n[r+56]=a(t[a(e[r+56],0,255)],0,255),n[r+57]=a(t[a(e[r+57],0,255)],0,255),n[r+58]=a(t[a(e[r+58],0,255)],0,255),n[r+59]=a(t[a(e[r+59],0,255)],0,255),n[r+60]=a(t[a(e[r+60],0,255)],0,255),n[r+61]=a(t[a(e[r+61],0,255)],0,255),n[r+62]=a(t[a(e[r+62],0,255)],0,255),n[r+63]=a(t[a(e[r+63],0,255)],0,255);return n}function b(){return new N([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0])}function M(t,e){var r=new N(20);return r[0]=e[0]*t[0]+e[1]*t[5]+e[2]*t[10]+e[3]*t[15],r[1]=e[0]*t[1]+e[1]*t[6]+e[2]*t[11]+e[3]*t[16],r[2]=e[0]*t[2]+e[1]*t[7]+e[2]*t[12]+e[3]*t[17],r[3]=e[0]*t[3]+e[1]*t[8]+e[2]*t[13]+e[3]*t[18],r[4]=e[0]*t[4]+e[1]*t[9]+e[2]*t[14]+e[3]*t[19]+e[4],r[5]=e[5]*t[0]+e[6]*t[5]+e[7]*t[10]+e[8]*t[15],r[6]=e[5]*t[1]+e[6]*t[6]+e[7]*t[11]+e[8]*t[16],r[7]=e[5]*t[2]+e[6]*t[7]+e[7]*t[12]+e[8]*t[17],r[8]=e[5]*t[3]+e[6]*t[8]+e[7]*t[13]+e[8]*t[18],r[9]=e[5]*t[4]+e[6]*t[9]+e[7]*t[14]+e[8]*t[19]+e[9],r[10]=e[10]*t[0]+e[11]*t[5]+e[12]*t[10]+e[13]*t[15],r[11]=e[10]*t[1]+e[11]*t[6]+e[12]*t[11]+e[13]*t[16],r[12]=e[10]*t[2]+e[11]*t[7]+e[12]*t[12]+e[13]*t[17],r[13]=e[10]*t[3]+e[11]*t[8]+e[12]*t[13]+e[13]*t[18],r[14]=e[10]*t[4]+e[11]*t[9]+e[12]*t[14]+e[13]*t[19]+e[14],r[15]=e[15]*t[0]+e[16]*t[5]+e[17]*t[10]+e[18]*t[15],r[16]=e[15]*t[1]+e[16]*t[6]+e[17]*t[11]+e[18]*t[16],r[17]=e[15]*t[2]+e[16]*t[7]+e[17]*t[12]+e[18]*t[17],r[18]=e[15]*t[3]+e[16]*t[8]+e[17]*t[13]+e[18]*t[18],r[19]=e[15]*t[4]+e[16]*t[9]+e[17]*t[14]+e[18]*t[19]+e[19],r}function D(t,e,r,n,a,i,o,s,l){var u=new N(20),h=5*i,f=5*o,c=5*s,d=5*l;return u[h+e]=t[0],u[h+r]=t[1],u[h+n]=t[2],u[h+a]=t[3],u[h+4]=t[4],u[f+e]=t[5],u[f+r]=t[6],u[f+n]=t[7],u[f+a]=t[8],u[f+4]=t[9],u[c+e]=t[10],u[c+r]=t[11],u[c+n]=t[12],u[c+a]=t[13],u[c+4]=t[14],u[d+e]=t[15],u[d+r]=t[16],u[d+n]=t[17],u[d+a]=t[18],u[d+4]=t[19],u}function x(t,e){var r=new Y(8);return r[0]=t[0]*e[0]+t[1]*e[4],r[1]=t[0]*e[1]+t[1]*e[5],r[2]=t[0]*e[2]+t[1]*e[6]+t[2],r[3]=t[0]*e[3]+t[1]*e[7]+t[3],r[4]=t[4]*e[0]+t[5]*e[4],r[5]=t[4]*e[1]+t[5]*e[5],r[6]=t[4]*e[2]+t[5]*e[6]+t[6],r[7]=t[4]*e[3]+t[5]*e[7]+t[7],r}function S(){return new Y([1,0,0,0,0,1,0,0])}function E(t,e,r,n,a){a=a||Array,r=r||1,n=n||1;for(var i=0,o=t.length,s=new a(o);o>i;i++)s[i]=r*t[i]+n*e[i];return s}function O(t,e,r){r=r||Array,e===+e&&(e=[e]);var n,a,i=t.length,o=e.length,s=new r(i*o);for(n=0,a=0;i>n;)s[n*o+a]=t[n]*e[a],++a>=o&&(a=0,n++);return s}function L(t,e,r,n,a,i){n=0|n,a=0|a,i=0|i;var o=new B(256),s=0;return o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o[s]=(Q(r-s)<=i?n:a)<<2|(Q(e-s)<=i?n:a)<<1|(Q(t-s)<=i?n:a)<<0,++s,o}if(!t.Util.LOADED_CORE){t.Util.LOADED_CORE=!0;var T=t.MODE,G=t._notSupportClamp,k=(t._noTypedArraySet,t.ImArray),U=t.ImArrayCopy,P=t.Array32F,F=(t.Array64F,t.Array32I,t.Array16I),B=t.Array8U,H=t.ColorTable,N=t.ColorMatrix,Y=t.AffineMatrix,K=(t.ConvolutionMatrix,t.Util.Array=t.Util.Array||{}),W=t.Util.String=t.Util.String||{},j=t.Util.Math=t.Util.Math||{},X=t.Util.Image=t.Util.Image||{},z=t.Util.Filter=t.Util.Filter||{},$=t.Util.Codec=t.Util.Codec||{},q=(Math.exp,Math.sqrt,Math.pow,Math.ceil,Math.floor),V=Math.log,J=(Math.sin,Math.cos,Math.min),Q=(Math.max,Math.abs),Z=(Math.PI,Math.log2||function(t){return V(t)/Math.LN2},/([.*+?^${}()|\[\]\/\\\-])/g),tt=/^\s+|\s+$/g,et=/^function[^{]+{([\s\S]*)}$/;j.random=Math.random,j.clamp=a,j.sign=function(t){return 0>t?-1:1},K.typed=t.Browser.isNode?function(t,e){return null==t||t instanceof e?t:Array.isArray(t)?Array===e?t:new e(t):(null==t.length&&(t.length=Object.keys(t).length),Array===e?Array.prototype.slice.call(t):new e(Array.prototype.slice.call(t)))}:function(t,e){return t},K.typed_obj=t.Browser.isNode?function(t,e){return null==t?t:e?JSON.parse(t):JSON.stringify(t)}:function(t){return t},K.arrayset_shim=i,K.arrayset=K.hasArrayset?function(t,e,r){t.set(e,r||0)}:i,K.subarray=K.hasSubarray?function(t,e,r){return t.subarray(e,r)}:function(t,e,r){return t.slice(e,r)},W.esc=r,W.trim=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(tt,"")},W.function_body=n,$.readBytes=function(t,e,r){var n,a=[];if(t>=0)for(n=0;t>n;++n)a.push(e[r.pos++]);else for(n=0;n>t;--n)a.push(e[r.pos++]);return a},$.readUInt8=function(t,e){return t[e.pos++]},$.readUInt16LE=function(t,e){var r,n;return r=t[e.pos++],n=t[e.pos++],r|n<<8},$.readUInt16BE=function(t,e){var r,n;return r=t[e.pos++],n=t[e.pos++],n|r<<8},$.readUInt32LE=function(t,e){var r,n,a,i;return r=t[e.pos++],n=t[e.pos++],a=t[e.pos++],i=t[e.pos++],r|n<<8|a<<16|i<<24},$.readUInt32BE=function(t,e){var r,n,a,i;return r=t[e.pos++],n=t[e.pos++],a=t[e.pos++],i=t[e.pos++],i|a<<8|n<<16|r<<24},$.write=function(t,e){for(var r=0,n=e.length;n>r;r++)t.push(e.charCodeAt(r))},$.writeUInt8=function(t,e){t.push(255&e)},$.writeUInt16LE=function(t,e){t.push(255&e,e>>>8&255)},$.writeUInt16BE=function(t,e){t.push(e>>>8&255,255&e)},$.writeUInt32LE=function(t,e){t.push(255&e,e>>>8&255,e>>>16&255,e>>>24&255)},$.writeUInt32BE=function(t,e){t.push(e>>>24&255,e>>>16&255,e>>>8&255,255&e)},$.fill=function(t,e,r,n){for(var a=r;n>a;a++)t[a]=e},X.get_data=h,X.set_data=f,X.fill=c,X.crop=t.Interpolation.crop=K.hasArrayset?o:s,X.pad=t.Interpolation.pad=K.hasArrayset?l:u,z.integral=d,z.histogram=g,z.spectrum=p,z.ct_eye=A,z.ct_multiply=R,z.cm_eye=b,z.cm_multiply=M,z.cm_rechannel=D,z.am_eye=S,z.am_multiply=x,z.cm_combine=E,z.cm_convolve=O,z.integral_convolution=G?w:y,z.separable_convolution=G?I:C,z.gradient=v,z.optimum_gradient=_,z.sat=m,z.dissimilarity_rgb=L}}(a),!function(t,e){var r=t.Util.Math.clamp,n=t.ImArray;t.Interpolation.bilinear=function(t,e,a,i,o){var s,l,u,h,f,c,d,g,p,m,v,_,y,w,C,I,A,R,b,M=i*o<<2,D=new n(M),x=(e-1)/i,S=(a-1)/o,E=e<<2;for(p=0,m=0,v=0,_=0,w=0,A=0,b=0,I=0;M>I;I+=4,m++,v+=x)m>=i&&(m=0,v=0,p++,_+=S,w=0|_,b=_-w,A=w*e),y=0|v,R=v-y,f=(1-R)*(1-b),c=R*(1-b),d=b*(1-R),g=R*b,C=A+y<<2,s=t[C],l=t[C+4],u=t[C+E],h=t[C+E+4],D[I]=0|r(s*f+l*c+u*d+h*g+.5,0,255),s=t[C+1],l=t[C+5],u=t[C+E+1],h=t[C+E+5],D[I+1]=0|r(s*f+l*c+u*d+h*g+.5,0,255),s=t[C+2],l=t[C+6],u=t[C+E+2],h=t[C+E+6],D[I+2]=0|r(s*f+l*c+u*d+h*g+.5,0,255),s=t[C+3],l=t[C+7],u=t[C+E+3],h=t[C+E+7],D[I+3]=0|r(s*f+l*c+u*d+h*g+.5,0,255);return D}}(a),!function(e,r){function n(t,e,r,n,a){t[e]=255&(r[0]+a*(n[0]-r[0])|0),t[e+1]=255&(r[1]+a*(n[1]-r[1])|0),t[e+2]=255&(r[2]+a*(n[2]-r[2])|0),t[e+3]=255&(r[3]+a*(n[3]-r[3])|0)}var a=Math.sqrt,i=Math.round,o=(Math.floor,Math.min),s=Math.max,l=Math.abs,u=Math.sin,h=Math.cos,f=Math.PI,c=2*f,d=f/2,g=3*d,p=e.Util.Math.clamp,m=e.Util.String.esc,v=e.Util.String.trim,_=e.LUMA,y=(e.CHANNEL,1/255),w=100/255,C=2.55,I={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],
darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},A=e.Color=e.Class({__static__:{clamp:p,clampPixel:function(t){return o(255,s(t,0))},color24:function(t,e,r){return(255&t)<<16|(255&e)<<8|255&r},color32:function(t,e,r,n){return(255&n)<<24|(255&t)<<16|(255&e)<<8|255&r},rgb24:function(t){return[t>>>16&255,t>>>8&255,255&t]},rgba32:function(t){return[t>>>16&255,t>>>8&255,255&t,t>>>24&255]},intensity:function(t,e,r){return~~(_[0]*t+_[1]*e+_[2]*r)},hue:function(t,e,r){var n=s(t,e,r);return t===e&&e===r?0:t===n?60*l(e-r)/(n-o(t,e,r)):e===n?120+60*l(r-t)/(n-o(t,e,r)):240+60*l(t-e)/(n-o(t,e,r))},saturation:function(t,e,r){var n=s(t,e,r);return t===e&&e===r?0:255*(n-o(t,e,r))/n},dist:function(t,e,r,n){var i=t[r+0]-e[n+0],o=t[r+1]-e[n+1],s=t[r+2]-e[n+2];return a(i*i+o*o+s*s)},RGB2Gray:function(t,e){var r=_[0]*t[e+0]+_[1]*t[e+1]+_[2]*t[e+2]|0;return t[e+0]=r,t[e+1]=r,t[e+2]=r,t},RGB2Color:function(t,e){return(255&t[e+0])<<16|(255&t[e+1])<<8|255&t[e+2]},RGBA2Color:function(t,e){return(255&t[e+3])<<24|(255&t[e+0])<<16|(255&t[e+1])<<8|255&t[e+2]},Color2RGBA:function(t,e,r){return t=0|t,e[r+0]=t>>>16&255,e[r+1]=t>>>8&255,e[r+2]=255&t,e[r+3]=t>>>24&255,e},RGB2YCbCr:function(t,e){var r=t[e+0],n=t[e+1],a=t[e+2];return t[e+0]=0+.299*r+.587*n+.114*a|0,t[e+1]=128-.168736*r-.331264*n+.5*a|0,t[e+2]=128+.5*r-.418688*n-.081312*a|0,t},YCbCr2RGB:function(t,e){var r=t[e+0],n=t[e+1],a=t[e+2];return t[e+0]=r+1.402*(a-128)|0,t[e+1]=r-.34414*(n-128)-.71414*(a-128)|0,t[e+2]=r+1.772*(n-128)|0,t},RGB2HSV:function(t,e,r){var n,a,i,u,h,f,c=t[e+0],d=t[e+1],g=t[e+2];return a=s(c,d,g),n=o(c,d,g),f=a,0===a?(h=0,u=0):(i=a-n,h=i/a,u=c===a?60*l(d-g)/i:d===a?120+60*l(g-c)/i:240+60*l(c-d)/i),t[e+0]=r?u:.7083333333333334*u,t[e+1]=r?h:255*h,t[e+2]=f,t},HSV2RGB:function(t,e,r){var n,a,i,o,s,l,u,h,f=r?t[e+0]:1.411764705882353*t[e+0],c=r?t[e+1]:.00392156862745098*t[e+1],d=t[e+2];return 0===c?l=u=h=d:(f/=60,n=~~f,a=f-n,i=d*(1-c),o=d*(1-c*a),s=d*(1-c*(1-a)),0===n?(l=d,u=s,h=i):1===n?(l=o,u=d,h=i):2===n?(l=i,u=d,h=s):3===n?(l=i,u=o,h=d):4===n?(l=s,u=i,h=d):(l=d,u=i,h=o)),t[e+0]=l,t[e+1]=u,t[e+2]=h,t},RGB2CMYK:function(t,e){var r,n=0,a=0,i=0,s=0,l=t[e+0],u=t[e+1],h=t[e+2];return 0===l&&0===u&&0===h?t:(n=255-l,a=255-u,i=255-h,s=o(n,a,i),r=255===s?0:255/(255-s),t[e+0]=(n-s)*r,t[e+1]=(a-s)*r,t[e+2]=(i-s)*r,t)},toString:function(){return"[FILTER: "+this.name+"]"},C2F:y,C2P:w,P2C:C,Keywords:I,hexieRE:/^#([0-9a-fA-F]{8})\b/,hexRE:/^#([0-9a-fA-F]{3,6})\b/,rgbRE:/^(rgba?)\b\s*\(([^\)]*)\)/i,hslRE:/^(hsla?)\b\s*\(([^\)]*)\)/i,keywordRE:new RegExp("^("+Object.keys(I).map(m).join("|")+")\\b","i"),colorstopRE:/^\s+(\d+(\.\d+)?%?)/,col2per:function(t,e){return t*w+(e||"")},per2col:function(t){return t*C},rgb2cmyk:function(t,e,r,n){var a,s,l=0,u=0,h=0,f=0;return n&&(t=p(i(t*C),0,255),e=p(i(e*C),0,255),r=p(i(r*C),0,255)),0===t&&0===e&&0===r?[0,0,0,1]:(l=1-t*y,u=1-e*y,h=1-r*y,a=o(l,u,h),s=1/(1-a),l=(l-a)*s,u=(u-a)*s,h=(h-a)*s,f=a,[l,u,h,f])},cmyk2rgb:function(t,e,r,n){var a,o,s=0,l=0,u=0;return 0===t&&0===e&&0===r?[0,0,0]:(a=n,o=1-a,t=t*o+a,e=e*o+a,r=r*o+a,s=255*(1-t),l=255*(1-e),u=255*(1-r),[p(i(s),0,255),p(i(l),0,255),p(i(u),0,255)])},rgb2hex:function(t,e,r,n,a){var o;return a&&(t=p(i(t*C),0,255),e=p(i(e*C),0,255),r=p(i(r*C),0,255)),t=16>t?"0"+t.toString(16):t.toString(16),e=16>e?"0"+e.toString(16):e.toString(16),r=16>r?"0"+r.toString(16):r.toString(16),o=n&&t[0]===t[1]&&e[0]===e[1]&&r[0]===r[1]?"#"+t[0]+e[0]+r[0]:"#"+t+e+r},rgb2hexIE:function(t,e,r,n,a){var o;return a&&(t=p(i(t*C),0,255),e=p(i(e*C),0,255),r=p(i(r*C),0,255),n=p(i(n*C),0,255)),t=16>t?"0"+t.toString(16):t.toString(16),e=16>e?"0"+e.toString(16):e.toString(16),r=16>r?"0"+r.toString(16):r.toString(16),n=16>n?"0"+n.toString(16):n.toString(16),o="#"+n+t+e+r},hex2rgb:function(t){return!t||3>t.length?[0,0,0]:6>t.length?[p(parseInt(t[0]+t[0],16),0,255),p(parseInt(t[1]+t[1],16),0,255),p(parseInt(t[2]+t[2],16),0,255)]:[p(parseInt(t[0]+t[1],16),0,255),p(parseInt(t[2]+t[3],16),0,255),p(parseInt(t[4]+t[5],16),0,255)]},hue2rgb:function(t,e,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?t+6*(e-t)*r:.5>r?e:2/3>r?t+(e-t)*(2/3-r)*6:t},hsl2rgb:function(t,e,r){var n,a,o,s,l,u=A.hue2rgb;return t=(t+360)%360/360,e*=.01,r*=.01,0===e?(n=1,a=1,o=1):(l=.5>r?r*(1+e):r+e-r*e,s=2*r-l,n=u(s,l,t+1/3),a=u(s,l,t),o=u(s,l,t-1/3)),[p(i(255*n),0,255),p(i(255*a),0,255),p(i(255*o),0,255)]},rgb2hsl:function(t,e,r,n){var a,l,u,h,f,c;return n?(t*=.01,e*=.01,r*=.01):(t*=y,e*=y,r*=y),l=s(t,e,r),a=o(t,e,r),f=.5*(l+a),l===a?u=h=0:(c=l-a,h=f>.5?c/(2-s-o):c/(s+o),u=l==t?(e-r)/c+(r>e?6:0):l==e?(r-t)/c+2:(t-e)/c+4,u/=6),[i(360*u)%360,p(100*h,0,100),p(100*f,0,100)]},parse:function(t,e,r,n){var a,i,o,s,l,u=0,h=0;if("hsl"===r||!r&&(a=t.match(A.hslRE))){if("hsl"===r){l="hsla"===t[0].toLowerCase();var f=t[1].split(",").map(v)}else{u=a[0].length,h=0,l="hsla"===a[1].toLowerCase();var f=a[2].split(",").map(v)}var c=f[0]?f[0]:"0",t=f[1]?f[1]:"0",d=f[2]?f[2]:"0",g=l&&null!=f[3]?f[3]:"1";return c=parseFloat(c,10),t="%"===t.slice(-1)?parseFloat(t,10):parseFloat(t,10)*w,d="%"===d.slice(-1)?parseFloat(d,10):parseFloat(d,10)*w,g=parseFloat(g,10),s=(new A).fromHSL([c,t,d,g]),e&&(o=t.substr(u),(i=o.match(A.colorstopRE))&&(s.colorStop(i[1]),h=i[0].length)),n?s:[s,0,u+h]}if("rgb"===r||!r&&(a=t.match(A.rgbRE))){if("rgb"===r){l="rgba"===t[0].toLowerCase();var f=t[1].split(",").map(v)}else{u=a[0].length,h=0,l="rgba"===a[1].toLowerCase();var f=a[2].split(",").map(v)}var p=f[0]?f[0]:"0",m=f[1]?f[1]:"0",_=f[2]?f[2]:"0",g=l&&null!=f[3]?f[3]:"1";return p="%"===p.slice(-1)?2.55*parseFloat(p,10):parseFloat(p,10),m="%"===m.slice(-1)?2.55*parseFloat(m,10):parseFloat(m,10),_="%"===_.slice(-1)?2.55*parseFloat(_,10):parseFloat(_,10),g=parseFloat(g,10),s=(new A).fromRGB([p,m,_,g]),e&&(o=t.substr(u),(i=o.match(A.colorstopRE))&&(s.colorStop(i[1]),h=i[0].length)),n?s:[s,0,u+h]}if("hex"===r||!r&&(a=t.match(A.hexRE))){if("hex"===r)var f=A.hex2rgb(t[0]);else{u=a[0].length,h=0;var f=A.hex2rgb(a[1])}var y=f[0]?f[0]:0,C=f[1]?f[1]:0,I=f[2]?f[2]:0,g=null!=f[3]?f[3]:255;return s=(new A).fromHEX([y,C,I,g]),e&&(o=t.substr(u),(i=o.match(A.colorstopRE))&&(s.colorStop(i[1]),h=i[0].length)),n?s:[s,0,u+h]}if("keyword"===r||!r&&(a=t.match(A.keywordRE))){if("keyword"===r)var f=t[0];else{u=a[0].length,h=0;var f=a[1]}return s=(new A).fromKeyword(f),e&&(o=t.substr(u),(i=o.match(A.colorstopRE))&&(s.colorStop(i[1]),h=i[0].length)),n?s:[s,0,u+h]}return null},fromString:function(t,e,r){return A.parse(t,e,r,1)},fromRGB:function(t){return(new A).fromRGB(t)},fromHSL:function(t){return(new A).fromHSL(t)},fromCMYK:function(t){return(new A).fromCMYK(t)},fromHEX:function(t){return(new A).fromHEX(t)},fromKeyword:function(t){return(new A).fromKeyword(t)},fromPixel:function(t){return(new A).fromPixel(t)}},constructor:function R(t,e){return this instanceof R?(this.reset(),void(t&&this.set(t,e))):new R(t,e)},name:"Color",col:null,cstop:null,kword:null,clone:function(){var t=new A;return t.col=this.col.slice(),t.cstop=this.cstop+"",t.kword=this.kword,t},reset:function(){return this.col=[0,0,0,1],this.cstop="",this.kword=null,this},set:function(t,e){return t&&(r!==t[0]&&(this.col[0]=p(t[0],0,255)),r!==t[1]&&(this.col[1]=p(t[1],0,255)),r!==t[2]&&(this.col[2]=p(t[2],0,255)),r!==t[3]?this.col[3]=p(t[3],0,1):this.col[3]=1,e&&(this.cstop=e),this.kword=null),this},colorStop:function(t){return this.cstop=t,this},isTransparent:function(){return 1>this.col[3]},isKeyword:function(){return!!this.kword},fromPixel:function(t){return t=t||0,this.col=[p(t>>16&255,0,255),p(t>>8&255,0,255),p(255&t,0,255),p((t>>24&255)*y,0,1)],this.kword=null,this},fromKeyword:function(t){return t=t.toLowerCase(),A.Keywords[t]&&(this.col=A.Keywords[t].slice(),this.kword=t),this},fromHEX:function(t){return this.col[0]=t[0]?p(parseInt(t[0],10),0,255):0,this.col[1]=t[1]?p(parseInt(t[1],10),0,255):0,this.col[2]=t[2]?p(parseInt(t[2],10),0,255):0,this.col[3]=r!==t[3]?p(parseInt(t[3],10)*y,0,1):1,this.kword=null,this},fromRGB:function(t){return this.col[0]=t[0]?p(i(t[0]),0,255):0,this.col[1]=t[1]?p(i(t[1]),0,255):0,this.col[2]=t[2]?p(i(t[2]),0,255):0,this.col[3]=r!==t[3]?p(t[3],0,1):1,this.kword=null,this},fromCMYK:function(t){var e=A.cmyk2rgb(t[0]||0,t[1]||0,t[2]||0,t[3]||0);return this.col[0]=e[0],this.col[1]=e[1],this.col[2]=e[2],this.col[3]=r!==t[4]?p(t[4],0,1):1,this.kword=null,this},fromHSL:function(t){var e=A.hsl2rgb(t[0]||0,t[1]||0,t[2]||0);return this.col[0]=e[0],this.col[1]=e[1],this.col[2]=e[2],this.col[3]=r!==t[3]?p(t[3],0,1):1,this.kword=null,this},toPixel:function(t){return t?p(255*this.col[3],0,255)<<24|this.col[0]<<16|this.col[1]<<8|255&this.col[2]:this.col[0]<<16|this.col[1]<<8|255&this.col[2]},toCMYK:function(t,e,r){var n=A.rgb2cmyk(this.col[0],this.col[1],this.col[2]);return r?n:n.concat(this.col[3])},toKeyword:function(t,e,r){return this.kword?this.kword:this.toHEX(1,e,r)},toHEX:function(t,e,r){return r?A.rgb2hexIE(this.col[0],this.col[1],this.col[2],p(i(255*this.col[3]),0,255)):A.rgb2hex(this.col[0],this.col[1],this.col[2],e)},toRGB:function(t,e,r){var n=this.col[3];return t?(e&&(n=1>n&&n>0?n.toString().slice(1):n),r||1==this.col[3]?"rgb("+this.col.slice(0,3).join(",")+")":"rgba("+this.col.slice(0,3).concat(n).join(",")+")"):r?this.col.slice(0,3):this.col.slice()},toHSL:function(t,e,r){var n=this.col[3],a=A.rgb2hsl(this.col[0],this.col[1],this.col[2]);return t?(e&&(a[1]=0==a[1]?a[1]:a[1]+"%",a[2]=0==a[2]?a[2]:a[2]+"%",n=1>n&&n>0?n.toString().slice(1):n),r||1==this.col[3]?"hsl("+[a[0],a[1],a[2]].join(",")+")":"hsla("+[a[0],a[1],a[2],n].join(",")+")"):r?a:a.concat(this.col[3])},toColorStop:function(t){var e=this.cstop;return t?(e=e.length?e+",":"",1>this.col[3]?"color-stop("+e+this.toRGB(1,1)+")":"color-stop("+e+this.toHEX(1,1)+")"):(e=e.length?" "+e:"",1>this.col[3]?this.toRGB(1,1)+e:this.toHEX(1,1)+e)},toString:function(t,e){return t=t?t.toLowerCase():"hex","rgb"==t||"rgba"==t?this.toRGB(1,!1!==e,"rgb"==t):"hsl"==t||"hsla"==t?this.toHSL(1,!1!==e,"hsl"==t):"keyword"==t?this.toKeyword(1):this.toHEX(1,!1!==e,"hexie"==t)}});A.toGray=A.intensity,A.Gradient={interpolate:n,stops:function(t,e){e=e?e.slice():e,t=t?t.slice():t;var r,n=t.length;if(e){if(e.length<n){var a=e.length,i=e[a-1];for(r=a;n>r;r++)e.push(r+1===n?1:i+(r-a+1)/(n-1))}}else if(1===n)e=[1];else for(e=new Array(n),r=0;n>r;r++)e[r]=r+1===n?1:r/(n-1);return 1!=e[e.length-1]&&(e.push(1),t.push(t[t.length-1])),[t,e]},linear:function(t,e,r,n,a,i,s){var p,m,v,_,y,w,C,I,A,R,b,M=t.length;if(i=i||0,0>i&&(i+=c),i>c&&(i-=c),A=l(u(i)),R=l(h(i)),b=R*e+A*r,A/=b,R/=b,i>d&&f>=i)for(m=0,v=0,p=0;M>p;p+=4,m++){for(m>=e&&(m=0,v++),y=e-1-m,w=v,_=o(1,R*y+A*w),I=0;_>a[I];)++I;C=0===I?0:I-1,s(t,p,n[C],n[I],a[I]>a[C]?(_-a[C])/(a[I]-a[C]):_)}else if(i>f&&g>=i)for(m=0,v=0,p=0;M>p;p+=4,m++){for(m>=e&&(m=0,v++),y=e-1-m,w=r-1-v,_=o(1,R*y+A*w),I=0;_>a[I];)++I;C=0===I?0:I-1,s(t,p,n[C],n[I],a[I]>a[C]?(_-a[C])/(a[I]-a[C]):_)}else if(i>g&&c>i)for(m=0,v=0,p=0;M>p;p+=4,m++){for(m>=e&&(m=0,v++),y=m,w=r-1-v,_=o(1,R*y+A*w),I=0;_>a[I];)++I;C=0===I?0:I-1,s(t,p,n[C],n[I],a[I]>a[C]?(_-a[C])/(a[I]-a[C]):_)}else for(m=0,v=0,p=0;M>p;p+=4,m++){for(m>=e&&(m=0,v++),y=m,w=v,_=o(1,R*y+A*w),I=0;_>a[I];)++I;C=0===I?0:I-1,s(t,p,n[C],n[I],a[I]>a[C]?(_-a[C])/(a[I]-a[C]):_)}return t},linearPoint:function(e,r,a,i,s,p,m,v,_){var y,w,C,I,A,R,b;if(A=l(u(_)),R=l(h(_)),b=R*s+A*p,A/=b,R/=b,_>d&&f>=_){for(y=s-1-a,w=i,t=o(1,R*y+A*w),I=0;t>v[I];)++I;C=0===I?0:I-1,n(e,r,m[C],m[I],v[I]>v[C]?(t-v[C])/(v[I]-v[C]):t)}else if(_>f&&g>=_){for(y=s-1-a,w=p-1-i,t=o(1,R*y+A*w),I=0;t>v[I];)++I;C=0===I?0:I-1,n(e,r,m[C],m[I],v[I]>v[C]?(t-v[C])/(v[I]-v[C]):t)}else if(_>g&&c>_){for(y=a,w=p-1-i,t=o(1,R*y+A*w),I=0;t>v[I];)++I;C=0===I?0:I-1,n(e,r,m[C],m[I],v[I]>v[C]?(t-v[C])/(v[I]-v[C]):t)}else{for(y=a,w=i,t=o(1,R*y+A*w),I=0;t>v[I];)++I;C=0===I?0:I-1,n(e,r,m[C],m[I],v[I]>v[C]?(t-v[C])/(v[I]-v[C]):t)}return e},radial:function(t,e,r,n,i,s,l,u,h,f){var c,d,g,p,m,v,_,y,w=t.length;for(s=s||0,l=l||0,u=u||1,h=h||1,h>u?(u/=h,h=1):u>h?(h/=u,u=1):(h=1,u=1),d=0,g=0,c=0;w>c;c+=4,d++){for(d>=e&&(d=0,g++),m=u*(d-s)/(e-s),v=h*(g-l)/(r-l),p=o(1,a(m*m+v*v)),y=0;p>i[y];)++y;_=0===y?0:y-1,f(t,c,n[_],n[y],i[y]>i[_]?(p-i[_])/(i[y]-i[_]):p)}return t},radialPoint:function(t,e,r,i,s,l,u,h,f,c,d,g){var p,m,v,_,y;for(m=d*(r-f)/(s-f),v=g*(i-c)/(l-c),p=o(1,a(m*m+v*v)),y=0;p>h[y];)++y;return _=0===y?0:y-1,n(t,e,u[_],u[y],h[y]>h[_]?(p-h[_])/(h[y]-h[_]):p),t}},A.Blend={normal:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=d,s=g,l=p,h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},lighten:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=h>d?h:d,s=f>g?f:g,l=c>p?c:p,h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},darken:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=h>d?d:h,s=f>g?g:f,l=c>p?p:c,h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},multiply:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=h*d*.003921568627451,s=f*g*.003921568627451,l=c*p*.003921568627451,h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},average:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=.5*(h+d),s=.5*(f+g),l=.5*(c+p),h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},add:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=h+d,s=f+g,l=c+p,h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},subtract:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=255>h+d?0:h+d-255,s=255>f+g?0:f+g-255,l=255>c+p?0:c+p-255,h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},difference:function(t,e,r,n,a,i){var o,s,u,h=a*e[n+3]*.003921568627451,f=t[r],c=t[r+1],d=t[r+2],g=e[n],p=e[n+1],m=e[n+2];o=l(g-f),s=l(p-c),u=l(m-d),f+=h*(o-f),c+=h*(s-c),d+=h*(u-d),i&&(f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c,d=0>d?0:d>255?255:d),t[r]=0|f,t[r+1]=0|c,t[r+2]=0|d},negation:function(t,e,r,n,a,i){var o,s,u,h=a*e[n+3]*.003921568627451,f=t[r],c=t[r+1],d=t[r+2],g=e[n],p=e[n+1],m=e[n+2];o=255-l(255-g-f),s=255-l(255-p-c),u=255-l(255-m-d),f+=h*(o-f),c+=h*(s-c),d+=h*(u-d),i&&(f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c,d=0>d?0:d>255?255:d),t[r]=0|f,t[r+1]=0|c,t[r+2]=0|d},screen:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=255-((255-d)*(255-h)>>8),s=255-((255-g)*(255-f)>>8),l=255-((255-p)*(255-c)>>8),h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},exclusion:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=d+h-2*d*h*.003921568627451,s=g+f-2*g*f*.003921568627451,l=p+c-2*p*c*.003921568627451,h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},overlay:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=128>h?2*d*h*.003921568627451:255-2*(255-d)*(255-h)*.003921568627451,s=128>f?2*g*f*.003921568627451:255-2*(255-g)*(255-f)*.003921568627451,o=128>c?2*p*c*.003921568627451:255-2*(255-p)*(255-c)*.003921568627451,h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},softlight:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=128>h?2*((d>>1)+64)*(.003921568627451*h):255-2*(255-((d>>1)+64))*(255-h)*.003921568627451,s=128>f?2*((g>>1)+64)*(.003921568627451*f):255-2*(255-((g>>1)+64))*(255-f)*.003921568627451,l=128>c?2*((p>>1)+64)*(.003921568627451*c):255-2*(255-((p>>1)+64))*(255-c)*.003921568627451,h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},hardlight:function(t,e,r,n,a,i){var o,s,l,u=a*e[n+3]*.003921568627451,h=t[r],f=t[r+1],c=t[r+2],d=e[n],g=e[n+1],p=e[n+2];o=128>d?2*h*d*.003921568627451:255-2*(255-h)*(255-d)*.003921568627451,s=128>g?2*f*g*.003921568627451:255-2*(255-f)*(255-g)*.003921568627451,l=128>p?2*c*p*.003921568627451:255-2*(255-c)*(255-p)*.003921568627451,h+=u*(o-h),f+=u*(s-f),c+=u*(l-c),i&&(h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c),t[r]=0|h,t[r+1]=0|f,t[r+2]=0|c},colordodge:function(t,e,r,n,a,i){var s,l,u,h=a*e[n+3]*.003921568627451,f=t[r],c=t[r+1],d=t[r+2],g=e[n],p=e[n+1],m=e[n+2];s=255===f?f:o(255,(g<<8)/(255-f)),l=255===c?c:o(255,(p<<8)/(255-c)),u=255===d?d:o(255,(m<<8)/(255-d)),f+=h*(s-f),c+=h*(l-c),d+=h*(u-d),i&&(f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c,d=0>d?0:d>255?255:d),t[r]=0|f,t[r+1]=0|c,t[r+2]=0|d},colorburn:function(t,e,r,n,a,i){var o,l,u,h=a*e[n+3]*.003921568627451,f=t[r],c=t[r+1],d=t[r+2],g=e[n],p=e[n+1],m=e[n+2];o=0===f?f:s(0,255-(255-g<<8)/f),l=0===c?c:s(0,255-(255-p<<8)/c),u=0===d?d:s(0,255-(255-m<<8)/d),f+=h*(o-f),c+=h*(l-c),d+=h*(u-d),i&&(f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c,d=0>d?0:d>255?255:d),t[r]=0|f,t[r+1]=0|c,t[r+2]=0|d},linearlight:function(t,e,r,n,a,i){var o,s,l,u,h=a*e[n+3]*.003921568627451,f=t[r],c=t[r+1],d=t[r+2],g=e[n],p=e[n+1],m=e[n+2];128>f?(u=2*f,o=255>u+g?0:u+g-255):(u=2*(f-128),o=u+g),128>c?(u=2*c,s=255>u+p?0:u+p-255):(u=2*(c-128),s=u+p),128>d?(u=2*d,l=255>u+m?0:u+m-255):(u=2*(d-128),l=u+m),f+=h*(o-f),c+=h*(s-c),d+=h*(l-d),i&&(f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c,d=0>d?0:d>255?255:d),t[r]=0|f,t[r+1]=0|c,t[r+2]=0|d},reflect:function(t,e,r,n,a,i){var s,l,u,h=a*e[n+3]*.003921568627451,f=t[r],c=t[r+1],d=t[r+2],g=e[n],p=e[n+1],m=e[n+2];s=255===f?f:o(255,g*g/(255-f)),l=255===c?c:o(255,p*p/(255-c)),u=255===d?d:o(255,m*m/(255-d)),f+=h*(s-f),c+=h*(l-c),d+=h*(u-d),i&&(f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c,d=0>d?0:d>255?255:d),t[r]=0|f,t[r+1]=0|c,t[r+2]=0|d},glow:function(t,e,r,n,a,i){var s,l,u,h=a*e[n+3]*.003921568627451,f=t[r],c=t[r+1],d=t[r+2],g=e[n],p=e[n+1],m=e[n+2];s=255===g?g:o(255,f*f/(255-g)),l=255===p?p:o(255,c*c/(255-p)),u=255===m?m:o(255,d*d/(255-m)),f+=h*(s-f),c+=h*(l-c),d+=h*(u-d),i&&(f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c,d=0>d?0:d>255?255:d),t[r]=0|f,t[r+1]=0|c,t[r+2]=0|d},phoenix:function(t,e,r,n,a,i){var l,u,h,f=a*e[n+3]*.003921568627451,c=t[r],d=t[r+1],g=t[r+2],p=e[n],m=e[n+1],v=e[n+2];l=o(p,c)-s(p,c)+255,u=o(m,d)-s(m,d)+255,h=o(v,g)-s(v,g)+255,c+=f*(l-c),d+=f*(u-d),g+=f*(h-g),i&&(c=0>c?0:c>255?255:c,d=0>d?0:d>255?255:d,g=0>g?0:g>255?255:g),t[r]=0|c,t[r+1]=0|d,t[r+2]=0|g},vividlight:function(t,e,r,n,a,i){var l,u,h,f,c=a*e[n+3]*.003921568627451,d=t[r],g=t[r+1],p=t[r+2],m=e[n],v=e[n+1],_=e[n+2];128>d?(f=2*d,l=0===f?f:s(0,255-(255-m<<8)/f)):(f=2*(d-128),l=255===f?f:o(255,(m<<8)/(255-f))),128>g?(f=2*g,u=0===f?f:s(0,255-(255-v<<8)/f)):(f=2*(g-128),u=255===f?f:o(255,(v<<8)/(255-f))),128>p?(f=2*p,h=0===f?f:s(0,255-(255-_<<8)/f)):(f=2*(g-128),h=255===f?f:o(255,(_<<8)/(255-f))),d+=c*(l-d),g+=c*(u-g),p+=c*(h-p),i&&(d=0>d?0:d>255?255:d,g=0>g?0:g>255?255:g,p=0>p?0:p>255?255:p),t[r]=0|d,t[r+1]=0|g,t[r+2]=0|p},pinlight:function(t,e,r,n,a,i){var o,s,l,u,h=a*e[n+3]*.003921568627451,f=t[r],c=t[r+1],d=t[r+2],g=e[n],p=e[n+1],m=e[n+2];128>f?(u=2*f,o=u>g?u:g):(u=2*(f-128),o=u>g?g:u),128>c?(u=2*c,s=u>p?u:p):(u=2*(f-128),s=u>p?p:u),128>d?(u=2*d,l=u>m?u:m):(u=2*(d-128),l=u>m?m:u),f+=h*(o-f),c+=h*(s-c),d+=h*(l-d),i&&(f=0>f?0:f>255?255:f,c=0>c?0:c>255?255:c,d=0>d?0:d>255?255:d),t[r]=0|f,t[r+1]=0|c,t[r+2]=0|d},hardmix:function(t,e,r,n,a,i){var l,u,h,f,c=a*e[n+3]*.003921568627451,d=t[r],g=t[r+1],p=t[r+2],m=e[n],v=e[n+1],_=e[n+2];128>d?(f=2*d,l=0===f?f:s(0,255-(255-m<<8)/f)):(f=2*(d-128),l=255===f?f:o(255,(m<<8)/(255-f))),l=128>l?0:255,128>g?(f=2*g,u=0===f?f:s(0,255-(255-v<<8)/f)):(f=2*(g-128),u=255===f?f:o(255,(v<<8)/(255-f))),u=128>u?0:255,128>p?(f=2*p,h=0===f?f:s(0,255-(255-_<<8)/f)):(f=2*(p-128),h=255===f?f:o(255,(_<<8)/(255-f))),h=128>h?0:255,d+=c*(l-d),g+=c*(u-g),p+=c*(h-p),i&&(d=0>d?0:d>255?255:d,g=0>g?0:g>255?255:g,p=0>p?0:p>255?255:p),t[r]=0|d,t[r+1]=0|g,t[r+2]=0|p}},A.Blend.lineardodge=A.Blend.add,A.Blend.linearburn=A.Blend.subtract,A.Combine=A.Blend}(a),!function(t,e){var r,n,a=t.ImArray,i=t.Util.Image,o=t.Color,s=Math.min,l=Math.max,u=t.Interpolation.bilinear,h=i.get_data,f=i.set_data,c=i.fill;n=t.Class({constructor:function(t){var e=this;e._cnv=t,e._transform={scale:[1,1],translate:[0,0],rotate:[0,0]},e._data=null},_cnv:null,_w:0,_h:0,_transform:null,_data:null,fillStyle:null,dispose:function(){var t=this;return t._cnv=null,t._data=null,t._transform=null,t},fillRect:function(t,e,r,n){var a,i=this,s=i._w,l=i._h,u=i.fillStyle;null==t&&(t=0),null==e&&(e=0),null==r&&(r=s),null==n&&(n=l),u===+u?a=o.Color2RGBA(u,[0,0,0,0],0):u&&u.substr?(a=o.fromString(u).toRGB(!1),a[3]=255*a[3]|0):a=u&&2<u.length?u:[0,0,0,0],c(i._data,s,l,a,t,e,t+r-1,e+n-1)},clearRect:function(t,e,r,n){var a=this,i=a._w,o=a._h;null==t&&(t=0),null==e&&(e=0),null==r&&(r=i),null==n&&(n=o),c(a._data,i,o,[0,0,0,0],t,e,t+r-1,e+n-1)},drawImage:function(t,e,r,n,i,o,s,l,c){var d=this,g=d._w,p=d._h,m=t._ctx._w,v=t._ctx._h,_=t._ctx._data,y=arguments.length;3===y?(d._data||(g=d._w=m,p=d._h=v,d._data=new a(g*p<<2)),o=e,s=r,f(d._data,g,p,_,m,v,0,0,m-1,v-1,o,s)):5===y?(d._data||(g=d._w=n,p=d._h=i,d._data=new a(g*p<<2)),o=e,s=r,l=n,c=i,m===l&&v===c?f(d._data,g,p,_,l,c,0,0,l-1,c-1,o,s):f(d._data,g,p,u(_,m,v,l,c),l,c,0,0,l-1,c-1,o,s)):(d._data||(g=d._w=l,p=d._h=c,d._data=new a(g*p<<2)),n===l&&i===c?f(d._data,g,p,h(_,m,v,e,r,e+n-1,r+i-1,!0),l,c,0,0,l-1,c-1,o,s):f(d._data,g,p,u(h(_,m,v,e,r,e+n-1,r+i-1,!0),n,i,l,c),l,c,0,0,l-1,c-1,o,s))},createImageData:function(t,e){var r=this;return r._data=new a(t*e<<2),r._w=t,r._h=e,r},putImageData:function(t,e,r){var n=this,a=n._w,i=n._h,o=t.width,s=t.height;null==e&&(e=0),null==r&&(r=0),f(n._data,a,i,t.data,o,s,0,0,o-1,s-1,e,r)},getImageData:function(t,e,r,n){var a,i,o,u,f=this,c=f._w,d=f._h;return null==t&&(t=0),null==e&&(e=0),null==r&&(r=c),null==n&&(n=d),a=l(0,s(t,r-1,c-1)),i=l(0,s(e,n-1,d-1)),o=s(a+r-1,r-1,c-1),u=s(i+n-1,n-1,d-1),{data:h(f._data,c,d,a,i,o,u),width:o-a+1,height:u-i+1}},scale:function(t,e){var r=this;return r._transform.scale[0]=t,r._transform.scale[1]=e,r},translate:function(t,e){var r=this;return r._transform.translate[0]=t,r._transform.translate[1]=e,r}}),r=t.CanvasProxy=t.Class({constructor:function(t,e){var r=this;r.width=t||0,r.height=e||0,r.style={},r._ctx=null},_ctx:null,width:null,height:null,style:null,dispose:function(){var t=this;return t.width=null,t.height=null,t.style=null,t._ctx&&(t._ctx.dispose(),t._ctx=null),t},getContext:function(e,r){var a=this;return-1<e.indexOf("webgl")?t.GL(a,r):(a._ctx||(a._ctx=new n(a)),a._ctx)},toDataURL:function(t){return""}}),t.Canvas=function(e,n){var a=t.Browser.isNode?new r:document.createElement("canvas");return e=e||0,n=n||0,a.style.width=e+"px",a.style.height=n+"px",a.width=e*t.devicePixelRatio,a.height=n*t.devicePixelRatio,a};var d=null;t.GL=t.Browser.isNode?function(t,e){return null}:function(t,e){e=e||{depth:!1,alpha:!0,premultipliedAlpha:!1,antialias:!0,stencil:!1,preserveDrawingBuffer:!1};var r=null;if(d)r=t.getContext(d,e);else{var n,a=["webgl2","experimental-webgl2","webgl","experimental-webgl","webkit-3d","moz-webgl"],i=a.length;for(n=0;i>n;++n){try{r=t.getContext(a[n],e)}catch(o){r=null}if(r){d=a[n];break}}}return r}}(a),!function(t,e){function r(t,e,r,n){return n=n||P,n&k&&(t.width=e,t.oCanvas.style.width=e+"px",t.oCanvas.width=e*o,t._restorable&&(t.iCanvas.style.width=t.oCanvas.style.width,t.iCanvas.width=t.oCanvas.width),t.tmpCanvas&&(t.tmpCanvas.style.width=t.oCanvas.style.width,t.tmpCanvas.width=t.oCanvas.width)),n&U&&(t.height=r,t.oCanvas.style.height=r+"px",t.oCanvas.height=r*o,t._restorable&&(t.iCanvas.style.height=t.oCanvas.style.height,t.iCanvas.height=t.oCanvas.height),t.tmpCanvas&&(t.tmpCanvas.style.height=t.oCanvas.style.height,t.tmpCanvas.height=t.oCanvas.height)),t}function n(t,e){var r=t.width,n=t.height;return e=e||255,t._restorable&&e&x&&t._refresh&x&&(t.iData=t.ictx.getImageData(0,0,r,n),t._refresh&=~x),e&S&&t._refresh&S&&(t.oData=t.octx.getImageData(0,0,r,n),t._refresh&=~S),t}function a(t,e){if(t.selection){var r,n,a=t.selection,i=t.width-1,o=t.height-1,s=a[0],l=a[1],u=a[2],h=a[3];a[4]&&(s=I(s*i),l=I(l*o),u=I(u*i),h=I(a[3]*o)),r=u-s+1,n=h-l+1,e=e||255,t._restorable&&e&E&&t._refresh&E&&(t.iDataSel=t.ictx.getImageData(s,l,r,n),t._refresh&=~E),e&O&&t._refresh&O&&(t.oDataSel=t.octx.getImageData(s,l,r,n),t._refresh&=~O)}return t}var i="prototype",o=t.devicePixelRatio,s=t.ImArray,l=t.ImArrayCopy,u=(t.Array32F,t.CHANNEL),h=t.FORMAT,f=t.MIME,c=0,d=t.Color,g=d.Gradient,p=t.Util.Image,m=t.Util.Filter,v=t.Canvas,_=t.CanvasProxy,y=t.Util.Array,w=y.arrayset,C=y.subarray,I=(Math.min,Math.floor),A=1<<u.R,R=1<<u.G,b=1<<u.B,M=1<<u.A,D=A|R|b|M,x=1,S=2,E=4,O=8,L=16,T=32,G=64,k=2,U=4,P=k|U,F=E|O,B=x|S,H=~F,N=~L,Y=~T;p.scale=p.resize=t.Interpolation.bilinear;var K=t.Image=t.Class({name:"Image",constructor:function j(t){var e=this,r=0,n=0;return e instanceof j?(e.id=++c,e.width=r,e.height=n,e.tmpCanvas=null,e.iCanvas=v(r,n),e.oCanvas=v(r,n),e.iData=null,e.iDataSel=null,e.oData=null,e.oDataSel=null,e.ictx=e.iCanvas.getContext("2d"),e.octx=e.oCanvas.getContext("2d"),e.domElement=e.oCanvas,e._gl=null,e._restorable=!0,e.gray=!1,e.selection=null,e._histogram=[null,null,null,null],e._integral=[null,null,null,null],e._spectrum=[null,null,null,null],e._refresh=0,e._hstRefresh=0,e._intRefresh=0,e._spcRefresh=0,e.nref=0,void(t&&e.image(t))):new j(t)},id:null,width:0,height:0,gray:!1,selection:null,tmpCanvas:null,iCanvas:null,oCanvas:null,ictx:null,octx:null,iData:null,iDataSel:null,oData:null,oDataSel:null,domElement:null,_restorable:!0,_gl:e,_histogram:null,_integral:null,_spectrum:null,_refresh:0,_hstRefresh:0,_intRefresh:0,_spcRefresh:0,nref:0,dispose:function(){var t=this;return t.id=null,t.width=t.height=null,t.selection=t.gray=null,t.iData=t.iDataSel=t.oData=t.oDataSel=null,t.domElement=t.tmpCanvas=t.iCanvas=t.oCanvas=t.ictx=t.octx=null,t._restorable=t._gl=null,t._histogram=t._integral=t._spectrum=null,t._hstRefresh=t._intRefresh=t._spcRefresh=t._refresh=t.nref=null,t},clone:function(t){return new K(!0===t?this.iCanvas:this.oCanvas)},gl:function(r){return e===this._gl&&(this._gl=t.GL(this.oCanvas,r)),this._gl},grayscale:function(t){var e=this;return arguments.length?(e.gray=!!t,e):e.gray},restorable:function(t){var e=this;return arguments.length||(t=!0),e._restorable=!!t,e},apply:function(t,e){return t.apply(this,this,e||null),this},apply2:function(t,e,r){return t.apply(this,e,r||null),this},select:function(t,e,r,n,a){var i=this,o=arguments.length;return!1===t?(i.selection=null,i.iDataSel=null,i.oDataSel=null,i._refresh&=H):(1>o&&(t=0),2>o&&(e=0),3>o&&(r=1),4>o&&(n=1),i.selection=a?[0>t?0:t,0>e?0:e,0>r?0:r,0>n?0:n,0]:[0>t?0:t>1?1:t,0>e?0:e>1?1:e,0>r?0:r>1?1:r,0>n?0:n>1?1:n,1],i._refresh|=F),i.nref++,i},deselect:function(){return this.select(!1)},store:function(){var t=this;return t._restorable&&(t.ictx.drawImage(t.oCanvas,0,0),t._refresh|=x,t.selection&&(t._refresh|=E),t.nref++),t},restore:function(){var t=this;return t._restorable&&(t.octx.drawImage(t.iCanvas,0,0),t._refresh|=S|L|T|G,t._hstRefresh=D,t._intRefresh=D,t._spcRefresh=D,t.selection&&(t._refresh|=O),t.nref++),t},dimensions:function(t,e,n){var a=this;return a._refresh|=B|L|T|G,a._hstRefresh=D,a._intRefresh=D,a._spcRefresh=D,a.selection&&(a._refresh|=F),a.nref++,r(a,t,e,P),a},setDimensions:null,scale:function(t,e){var r=this;if(t=t||1,e=e||t,1===t&&1===e)return r;r.tmpCanvas=r.tmpCanvas||v(r.width,r.height);var n=r.tmpCanvas.getContext("2d"),a=r.width,i=r.height;return n.scale(t,e),a=r.width=t*a+.5|0,i=r.height=e*i+.5|0,n.drawImage(r.oCanvas,0,0),r.oCanvas.style.width=a+"px",r.oCanvas.style.height=i+"px",r.oCanvas.width=a*o,r.oCanvas.height=i*o,r.octx.drawImage(r.tmpCanvas,0,0),r._restorable&&(n.drawImage(r.iCanvas,0,0),r.iCanvas.style.width=r.oCanvas.style.width,r.iCanvas.style.height=r.oCanvas.style.height,r.iCanvas.width=r.oCanvas.width,r.iCanvas.height=r.oCanvas.height,r.ictx.drawImage(r.tmpCanvas,0,0)),r.tmpCanvas.width=r.oCanvas.width,r.tmpCanvas.height=r.oCanvas.height,r._refresh|=B|L|T|G,r._hstRefresh=D,r._intRefresh=D,r._spcRefresh=D,r.selection&&(r._refresh|=F),r.nref++,r},flipHorizontal:function(){var t=this;t.tmpCanvas=t.tmpCanvas||v(t.width,t.height);var e=t.tmpCanvas.getContext("2d");return e.translate(t.width,0),e.scale(-1,1),e.drawImage(t.oCanvas,0,0),t.octx.drawImage(t.tmpCanvas,0,0),t._restorable&&(e.drawImage(t.iCanvas,0,0),
t.ictx.drawImage(t.tmpCanvas,0,0)),t._refresh|=B|T|G,t._intRefresh=D,t.selection&&(t._refresh|=F),t.nref++,t},flipVertical:function(){var t=this;t.tmpCanvas=t.tmpCanvas||v(t.width,t.height);var e=t.tmpCanvas.getContext("2d");return e.translate(0,t.height),e.scale(1,-1),e.drawImage(t.oCanvas,0,0),t.octx.drawImage(t.tmpCanvas,0,0),t._restorable&&(e.drawImage(t.iCanvas,0,0),t.ictx.drawImage(t.tmpCanvas,0,0)),t._refresh|=B|T|G,t._intRefresh=D,t.selection&&(t._refresh|=F),t.nref++,t},clear:function(){var t=this,e=t.width,r=t.height;return e&&r&&(t._restorable&&t.ictx.clearRect(0,0,e,r),t.octx.clearRect(0,0,e,r),t._refresh|=B|L|T|G,t._hstRefresh=D,t._intRefresh=D,t._spcRefresh=D,t.selection&&(t._refresh|=F),t.nref++),t},crop:function(t,e,r,n){var a,i,s,l,u,h,f,c,d=this,g=d.selection,p=d.width,m=d.height;if(arguments.length)u=t,h=e,f=r-t+1,c=n-e+1;else{if(!g)return d;a=I(g[0]*(p-1)),i=I(g[1]*(m-1)),s=I(g[2]*(p-1))-a+1,l=I(g[3]*(m-1))-i+1,u=a,h=i,f=s,c=l,g[0]=0,g[1]=0,g[2]=1,g[3]=1}d.tmpCanvas=d.tmpCanvas||v(d.width,d.height);var _=d.tmpCanvas.getContext("2d");return _.drawImage(d.oCanvas,0,0,p,m,u,h,f,c),d.oCanvas.style.width=f+"px",d.oCanvas.style.height=c+"px",d.oCanvas.width=f*o,d.oCanvas.height=c*o,d.octx.drawImage(d.tmpCanvas,0,0),d._restorable&&(_.drawImage(d.iCanvas,0,0,p,m,u,h,f,c),d.iCanvas.style.width=d.oCanvas.style.width,d.iCanvas.style.height=d.oCanvas.style.height,d.iCanvas.width=d.oCanvas.width,d.iCanvas.height=d.oCanvas.height,d.ictx.drawImage(d.tmpCanvas,0,0)),d.tmpCanvas.width=d.oCanvas.width,d.tmpCanvas.height=d.oCanvas.height,d._refresh|=B|L|T|G,d._hstRefresh=D,d._intRefresh=D,d._spcRefresh=D,g&&(d._refresh|=F),d.nref++,d},fill:function(t,r,n,a,i){var o,s,l,u,h=this,f=h.selection,c=h.width,d=h.height;f?(o=I(f[0]*(c-1)),s=I(f[1]*(d-1)),l=I(f[2]*(c-1))-o+1,u=I(f[3]*(d-1))-s+1):(o=0,s=0,l=c,u=d),e===r&&(r=o),e===n&&(n=s),e===a&&(a=l),e===i&&(i=u),a&&!c&&i&&!d&&h.createImageData(a,i);var g=h.ictx,p=h.octx;return t=t||0,h._restorable&&(g.fillStyle=t,g.fillRect(r,n,a,i)),p.fillStyle=t,p.fillRect(r,n,a,i),h._refresh|=B|L|T|G,h._hstRefresh=D,h._intRefresh=D,h._spcRefresh=D,f&&(h._refresh|=F),h.nref++,h},getData:function(t){var e,r=this;return r._restorable&&!t?(r._refresh&x&&n(r,x),e=r.iData):(r._refresh&S&&n(r,S),e=r.oData),new l(e.data)},getSelectedData:function(t){var e,r=this;return r.selection?r._restorable&&!t?(r._refresh&E&&a(r,E),e=r.iDataSel):(r._refresh&O&&a(r,O),e=r.oDataSel):r._restorable&&!t?(r._refresh&x&&n(r,x),e=r.iData):(r._refresh&S&&n(r,S),e=r.oData),[new l(e.data),e.width,e.height,2]},setData:y.hasArrayset?function(t){var e=this;return e._refresh&S&&n(e,S),e.oData.data.set(t),e.octx.putImageData(e.oData,0,0),e._refresh|=L|T|G,e._hstRefresh=D,e._intRefresh=D,e._spcRefresh=D,e.selection&&(e._refresh|=O),e.nref++,e}:function(t){var e=this;return e._refresh&S&&n(e,S),w(e.oData.data,t),e.octx.putImageData(e.oData,0,0),e._refresh|=L|T|G,e._hstRefresh=D,e._intRefresh=D,e._spcRefresh=D,e.selection&&(e._refresh|=O),e.nref++,e},setSelectedData:y.hasArrayset?function(t){var e=this,r=e.selection;if(r){var i=r[0],o=r[1];r[4]&&(i=I(i*(e.width-1)),o=I(o*(e.height-1))),e._refresh&O&&a(e,O),e.oDataSel.data.set(t),e.octx.putImageData(e.oDataSel,i,o),e._refresh|=S}else e._refresh&S&&n(e,S),e.oData.data.set(t),e.octx.putImageData(e.oData,0,0);return e._refresh|=L|T|G,e._hstRefresh=D,e._intRefresh=D,e._spcRefresh=D,e.nref++,e}:function(t){var e=this,r=e.selection;if(r){var i=r[0],o=r[1];r[4]&&(i=I(i*(e.width-1)),o=I(o*(e.height-1))),e._refresh&O&&a(e,O),w(e.oDataSel.data,t),e.octx.putImageData(e.oDataSel,i,o),e._refresh|=S}else e._refresh&S&&n(e,S),w(e.oData.data,t),e.octx.putImageData(e.oData,0,0);return e._refresh|=L|T|G,e._hstRefresh=D,e._intRefresh=D,e._spcRefresh=D,e.nref++,e},createImageData:function(t,e){var n,a,i=this;return r(i,t,e,P),i._restorable&&(n=i.ictx=i.iCanvas.getContext("2d"),n.createImageData(t,e)),a=i.octx=i.oCanvas.getContext("2d"),a.createImageData(t,e),i._refresh|=B,i.selection&&(i._refresh|=F),i.nref++,i},image:y.hasArrayset?function(t){if(!t)return this;var e,a,i,o,s,l,u,h=this;return t instanceof K&&(t=t.oCanvas),s="undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement,l="undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||t instanceof _,u="undefined"!=typeof Image&&t instanceof Image,s?(i=t.videoWidth,o=t.videoHeight):(i=t.width,o=t.height),u||l||s?(r(h,i,o,P),h._restorable&&(e=h.ictx=h.iCanvas.getContext("2d"),e.drawImage(t,0,0)),a=h.octx=h.oCanvas.getContext("2d"),a.drawImage(t,0,0),h._refresh|=B):(h.oData||(h.createImageData(i,o),n(h,B)),h._restorable&&(e=h.ictx=h.iCanvas.getContext("2d"),h.iData.data.set(t.data),e.putImageData(h.iData,0,0)),a=h.octx=h.oCanvas.getContext("2d"),h.oData.data.set(t.data),a.putImageData(h.oData,0,0)),h._refresh|=L|T|G,h._hstRefresh=D,h._intRefresh=D,h._spcRefresh=D,h.selection&&(h._refresh|=F),h.nref++,h}:function(t){if(!t)return this;var e,a,i,o,s,l,u,h=this;return t instanceof K&&(t=t.oCanvas),s="undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement,l="undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||t instanceof _,u="undefined"!=typeof Image&&t instanceof Image,s?(i=t.videoWidth,o=t.videoHeight):(i=t.width,o=t.height),u||l||s?(r(h,i,o,P),h._restorable&&(e=h.ictx=h.iCanvas.getContext("2d"),e.drawImage(t,0,0)),a=h.octx=h.oCanvas.getContext("2d"),a.drawImage(t,0,0)):(h.oData||(h.createImageData(i,o),n(h,B)),h._restorable&&(e=h.ictx=h.iCanvas.getContext("2d"),w(h.iData.data,t.data),e.putImageData(h.iData,0,0)),a=h.octx=h.oCanvas.getContext("2d"),w(h.oData.data,t.data),a.putImageData(h.oData,0,0)),h._refresh|=L|T|G,h._hstRefresh=D,h._intRefresh=D,h._spcRefresh=D,h.selection&&(h._refresh|=F),h.nref++,h},setImage:null,getPixel:function(t,e){var r,a=this,i=a.width,o=a.height;return 0>t||t>=i||0>e||e>=o?null:(a._refresh&S&&n(a,S),r=(e*i+t|0)<<2,C(a.oData.data,r,r+4))},setPixel:function(t,e,r){var n=this,a=n.width,i=n.height;return 0>t||t>=a||0>e||e>=i?n:(n.octx.putImageData(r,t,e),n._refresh|=S|L|T|G,n._hstRefresh=D,n._intRefresh=D,n._spcRefresh=D,n.selection&&(n._refresh|=O),n.nref++,n)},getPixelData:function(){return this._refresh&S&&n(this,S),this.oData},setPixelData:function(t){var e=this;return e.octx.putImageData(t,0,0),e._refresh|=S|L|T|G,e._hstRefresh=D,e._intRefresh=D,e._spcRefresh=D,e.selection&&(e._refresh|=O),e.nref++,e},integral:function(t){var e,r=this,n=r.gray,a=m.integral,i=r._integral;if(null==t){if(r._refresh&T){var o,s=r.getPixelData().data,l=r.width,u=r.height;i[0]=o=a(s,l,u,2,0),i[1]=n?o:a(s,l,u,2,1),i[2]=n?o:a(s,l,u,2,2),i[3]=null,r._intRefresh=0,r._refresh&=Y}}else t=t||0,e=1<<t,(r._refresh&T||r._intRefresh&e)&&(!n||r._intRefresh&A?!n||r._intRefresh&R?!n||r._intRefresh&b?i[t]=a(r.getPixelData().data,r.width,r.height,2,t):i[t]=i[2]:i[t]=i[1]:i[t]=i[0],r._intRefresh&=~e,r._refresh&=Y);return null==t?i:i[t||0]},sat:null,histogram:function(t,e){var r,n=this,a=n.gray,i=m.histogram,o=n._histogram;if(null==t){if(n._refresh&L){var s,l=n.getPixelData().data,u=n.width,h=n.height;o[0]=s=i(l,u,h,2,0,e),o[1]=a?s:i(l,u,h,2,1,e),o[2]=a?s:i(l,u,h,2,2,e),o[3]=null,n._hstRefresh=0,n._refresh&=N}}else t=t||0,r=1<<t,(n._refresh&L||n._hstRefresh&r)&&(!a||n._hstRefresh&A?!a||n._hstRefresh&R?!a||n._hstRefresh&b?o[t]=i(n.getPixelData().data,n.width,n.height,2,t,e):o[t]=o[2]:o[t]=o[1]:o[t]=o[0],n._hstRefresh&=~r,n._refresh&=N);return null==t?o:o[t||0]},spectrum:function(t){var e=this,r=e._spectrum;return null==t?r:r[t||0]},fft:null,linearGradient:function(t,e,r,n){var a=this,i=a.width,o=a.height,l=g.stops(t,e);return a.setData(g.linear(new s(i*o<<2),i,o,l[0],l[1],r,n||g.interpolate)),a},radialGradient:function(t,e,r,n,a,i,o){var l=this,u=l.width,h=l.height,f=g.stops(t,e);return l.setData(g.radial(new s(u*h<<2),u,h,f[0],f[1],r,n,a,i,o||g.interpolate)),l},perlinNoise:function(t,e,r,n,a,i,o,l,u,h){var f=this,c=f.width,d=f.height;return p.perlin&&(t&&p.perlin.seed(t),f.setData(p.perlin(new s(c*d<<2),c,d,e,r,n,a,i,o,l,u,h)),f.gray=!!r),f},toImage:function(t,e){t=t||0,e=e||1;var r=this.oCanvas,n=null,a=16&t;if(n=h.JPG===a?r.toDataURL(f.JPG,e):h.GIF===a?r.toDataURL(f.GIF,e):r.toDataURL(f.PNG,e),t&h.IMAGE){var i=new Image;return i.src=n,i}return n},toString:function(){return"[FILTER Image: "+this.name+"]"}});K[i].setImage=K[i].image,K[i].setDimensions=K[i].dimensions,K[i].sat=K[i].integral,K[i].fft=K[i].spectrum,K.LinearGradient=K.Gradient=function(t,e,r,n,a,i){return(new K).restorable(!1).createImageData(t,e).linearGradient(r,n,a,i||g.interpolate)},K.RadialGradient=function(t,e,r,n,a,i,o,s,l){return(new K).restorable(!1).createImageData(t,e).radialGradient(r,n,a,i,o,s,l||g.interpolate)},K.PerlinNoise=function(t,e,r,n,a,i,o,s,l,u,h,f){return(new K).restorable(!1).createImageData(t,e).perlinNoise(r,n,a,i,o,s,l,u,h,f)};var W=t.ScaledImage=t.Class(K,{name:"ScaledImage",constructor:function X(t,e,r){var n=this;return n instanceof X?(n.scaleX=t||1,n.scaleY=e||n.scaleX,void n.$super("constructor",r)):new X(t,e,r)},scaleX:1,scaleY:1,dispose:function(){var t=this;return t.scaleX=null,t.scaleY=null,t.$super("dispose"),t},clone:function(t){var e=this;return new W(e.scaleX,e.scaleY,!0===t?e.iCanvas:e.oCanvas)},setScale:function(t,e){var r=this,n=arguments.length;return n>0&&null!=t&&(r.scaleX=t,r.scaleY=t),n>1&&null!=e&&(r.scaleY=e),r},image:function(t){if(!t)return this;var e,n,a,i,o,s,l,u,h,f=this,c=f.scaleX,d=f.scaleY;return t instanceof K&&(t=t.oCanvas),l="undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement,u="undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||t instanceof _,h="undefined"!=typeof Image&&t instanceof Image,l?(a=t.videoWidth,i=t.videoHeight):(a=t.width,i=t.height),(h||u||l)&&(o=c*a+.5|0,s=d*i+.5|0,r(f,o,s,P),f._restorable&&(e=f.ictx=f.iCanvas.getContext("2d"),e.drawImage(t,0,0,a,i,0,0,o,s)),n=f.octx=f.oCanvas.getContext("2d"),n.drawImage(t,0,0,a,i,0,0,o,s),f._refresh|=B|L|T|G,f._hstRefresh=D,f._intRefresh=D,f._spcRefresh=D,f.selection&&(f._refresh|=F),f.nref++),f}});W[i].setImage=W[i].image}(a),!function(t,e){function r(t){var e,r;for(t>0&&1>t&&(t*=65536),t=f(t),256>t&&(t|=t<<8),r=0;256>r;r++)e=1&r?d[r]^255&t:d[r]^t>>8&255,g[r]=g[r+256]=e}function n(t,e,r){var n=7&t,a=4>n?e:r,i=4>n?r:e;return(1&n?-a:a)+(2&n?-2*i:2*i)}function a(t,e){var r,a,i,o,s,l=.366025403,u=.211324865,h=(t+e)*l,c=t+h,d=e+h,p=f(c),m=f(d),v=(p+m)*u,_=p-v,y=m-v,w=t-_,C=e-y;w>C?(o=1,s=0):(o=0,s=1);var I=w-o+u,A=C-s+u,R=w-1+2*u,b=C-1+2*u,M=255&p,D=255&m,x=.5-w*w-C*C;0>x?r=0:(x*=x,r=x*x*n(g[M+g[D]],w,C));var S=.5-I*I-A*A;0>S?a=0:(S*=S,a=S*S*n(g[M+o+g[D+s]],I,A));var E=.5-R*R-b*b;return 0>E?i=0:(E*=E,i=E*E*n(g[M+1+g[D+1]],R,b)),40*(r+a+i)}function i(t){return t*t*t*(t*(6*t-15)+10)}function o(t,e,r){return e+t*(r-e)}function s(t,e){var r,a,s,l,u,h,c,d,p,m,v,_,y,w;return r=f(t),a=f(e),u=t-r,h=e-a,c=u-1,d=h-1,s=r+1&255,l=a+1&255,r=255&r,a=255&a,m=i(h),p=i(u),v=n(g[r+g[a]],u,h),_=n(g[r+g[l]],u,d),y=o(m,v,_),v=n(g[s+g[a]],c,h),_=n(g[s+g[l]],c,d),w=o(m,v,_),.507*o(p,y,w)}function l(t,e,r,n,a,i,o,s,l,u,h,f,c){var d,g,p,m,v=0,_=f,y=1,w=0;for(d=0;u>d;d++)g=(n+h[d][0])%i,p=(a+h[d][1])%o,v+=r(_*g*s,_*p*l)*y,_*=2,w+=y,y*=c;m=~~(255*(.5*v/w+.5)),t[e]=m,t[e+1]=m,t[e+2]=m,t[e+3]=255}function u(t,e,r,n,a,i,o,s,l,u,h,f,c){var d,g,p,m,v=0,_=f,y=1,w=0;for(d=0;u>d;d++)g=(n+h[d][0])%i,p=(a+h[d][1])%o,v+=r(_*g*s,_*p*l)*y,_*=2,w+=y,y*=c;m=~~(16777215*(.5*v/w+.5)),t[e]=m>>>16&255,t[e+1]=m>>>8&255,t[e+2]=255&m,t[e+3]=255}if(!t.Util.LOADED_PERLIN){t.Util.LOADED_PERLIN=!0;var h=t.Util.Image,f=(t.Image,Math.floor),c=(Math.sin,Math.cos,t.CONST.PI2,t.Array8U),d=new c([151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180,151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180]),g=new c(d);h.perlin=function(t,e,r,n,i,o,h,f,c,d,g,p){var m,v,_,y,w,C,I=1/o,A=1/h,R=p?s:a,b=i?l:u,M=t.length,D=e>>>1,x=r>>>1;if(d=d||1,g=g||.5,f=f||1,c=c||[[0,0]],n)for(m=0,v=0,w=0;M>w;w+=4,m++)m>=e&&(m=0,v++),_=m>D?e-1-m:m,y=v>x?r-1-v:v,m>_||v>y?(C=y*e+_<<2,t[w]=t[C],t[w+1]=t[C+1],t[w+2]=t[C+2],t[w+3]=255):b(t,w,R,_,y,e,r,I,A,f,c,d,g);else for(m=0,v=0,w=0;M>w;w+=4,m++)m>=e&&(m=0,v++),b(t,w,R,m,v,e,r,I,A,f,c,d,g);return t},h.perlin.seed=r}}(a),a});
/**
*
*   FILTER.js MachineLearning Routines
*   @version: 0.9.6
*   @dependencies: Filter.js
*
*   JavaScript Image Processing Library (Machine Learning Routines)
*   https://github.com/foo123/FILTER.js
*
**/!function(e,r){"use strict";"object"==typeof module&&module.exports?module.exports=r.call(e,module.$deps&&module.$deps.FILTER||require("./FILTER".toLowerCase())):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified("FILTER_ML")?define("FILTER_ML",["module","FILTER"],function(n,o){return r.moduleUri=n.uri,r.call(e,o),o}):(r.call(e,e.FILTER)||1)&&"function"==typeof define&&define.amd&&define(function(){return e.FILTER})}(this,function(e){return!function(e,r){"use strict";function n(e,r){for(;r[e][1]!==e;)r[e][1]=r[r[e][1]][1],e=r[e][1];return e}function o(e,r,o){var f=n(e,o),t=n(r,o);f!==t&&(o[f][1]=t)}function f(e,r,n){var o=n.next;return o+1>n.length&&Array.prototype.push.apply(n,new Array(d)),n[o]=[o,o,0],++n.next,o}function t(e,r,t,i,u,l,c,s,p,y){i=0|i;var m,L,h,x,M,g,F,I,A,E,R=e.length,T=R>>>i,w=8===l,v=null,_=null!=p;for(g=new Array(d),g.next=0,F=new a(T),v=_?f(0,0,g):null,F[0]=_&&!c(u[0],p,s)?v:f(0,0,g),h=1;r>h;h++)F[h]=_&&!c(u[h],p,s)?v:c(u[h],u[h-1],s)?F[h-1]:f(h,0,g);for(x=1,M=r;t>x;x++,M+=r)for(F[M]=_&&!c(u[M],p,s)?v:c(u[M],u[M-r],s)?F[M-r]:f(0,x,g),h=1;r>h;h++)!_||c(u[M+h],p,s)?(L=v===F[M+h-1]?-1:c(u[M+h],u[M+h-1],s)?F[M+h-1]:-1,w&&v!==F[M-r+h-1]&&c(u[M+h],u[M-r+h-1],s)&&(L>-1?o(L,F[M-r+h-1],g):L=F[M-r+h-1]),v!==F[M-r+h]&&c(u[M+h],u[M-r+h],s)&&(L>-1?o(L,F[M-r+h],g):L=F[M-r+h]),F[M+h]=L>-1?L:f(h,x,g),w&&v!==F[M+h-1]&&v!==F[M-r+h]&&c(u[M+h-1],u[M-r+h],s)&&o(F[M+h-1],F[M-r+h],g)):F[M+h]=v;if(0===v)for(m=0,I=g.next,A=0;I>m;m++)m===g[m][1]&&(g[m][2]=0===g[m][1]?0:++A);else for(m=0,I=g.next,A=0;I>m;m++)m===g[m][1]&&(g[m][2]=A++);if(A=A>0?A:1,y)if(i)for(h=0,m=0;R>m;m+=4,h++)E=g[n(F[h],g)][2],E=255-255*E/A|0,e[m]=e[m+1]=e[m+2]=E;else for(h=0;R>h;h++)E=g[n(F[h],g)][2],E=255-255*E/A|0,e[h]=E;else if(i)for(h=0,m=0;R>m;m+=4,h++)E=g[n(F[h],g)][2],E=255*E/A|0,e[m]=e[m+1]=e[m+2]=E;else for(h=0;R>h;h++)E=g[n(F[h],g)][2],E=255*E/A|0,e[h]=E;return e}function i(e,r,n,o,f,t,i,d){o=0|o;var p,y,m,L,h,x,M,g,F,I,A,E,R,T,w,v,_=e.length,q=_>>>o,b=1<<o,U=r<<o,$=0,j=_-U,k=0,C=r-1<<o;if(p=i,y=d,m=i,L=d,w=new a(l(q/32)),E=new u(q<<2),R=0,M=i+d>>>o,w[M>>>5]|=1<<(31&M),d+U>=$&&j>=d+U&&(E[R]=d,E[R+1]=i,E[R+2]=i,E[R+3]=U,R+=4),E[R]=d+U,E[R+1]=i,E[R+2]=i,E[R+3]=-U,R+=4,o)for(;R>0;){for(R-=4,U=E[R+3],A=E[R]+U,F=E[R+1],I=E[R+2],y=c(y,A),L=s(L,A),p=c(p,F),m=s(m,I),g=F;g>=k&&(x=g+A,M=x>>>o,v=1&f[e[x]]|2&f[e[x+1]]|4&f[e[x+2]],!(v||w[M>>>5]&1<<(31&M)));g-=b)w[M>>>5]|=1<<(31&M),p=c(p,g);if(g>=F){for(x=g+A,M=x>>>o,v=1&f[e[x]]|2&f[e[x+1]]|4&f[e[x+2]];I>=g&&(v||w[M>>>5]&1<<(31&M));)g+=b,x=g+A,M=x>>>o,v=1&f[e[x]]|2&f[e[x+1]]|4&f[e[x+2]];h=g,T=I>=g}else h=g+b,F>h&&A>=$+U&&j+U>=A&&(E[R]=A,E[R+1]=h,E[R+2]=F-b,E[R+3]=-U,R+=4),g=F+b,T=!0;for(;T;){for(x=g+A,M=x>>>o,v=1&f[e[x]]|2&f[e[x+1]]|4&f[e[x+2]];C>=g&&!v&&!(w[M>>>5]&1<<(31&M));)w[M>>>5]|=1<<(31&M),m=s(m,g),g+=b,x=g+A,M=x>>>o,v=1&f[e[x]]|2&f[e[x+1]]|4&f[e[x+2]];for(A+U>=$&&j>=A+U&&(E[R]=A,E[R+1]=h,E[R+2]=g-b,E[R+3]=U,R+=4),g>I+b&&A-U>=$&&j>=A-U&&(E[R]=A,E[R+1]=I+b,E[R+2]=g-b,E[R+3]=-U,R+=4),x=g+A,M=x>>>o,v=1&f[e[x]]|2&f[e[x+1]]|4&f[e[x+2]];I>=g&&(v||w[M>>>5]&1<<(31&M));)g+=b,x=g+A,M=x>>>o,v=1&f[e[x]]|2&f[e[x+1]]|4&f[e[x+2]];h=g,T=I>=g}}else for(;R>0;){for(R-=4,U=E[R+3],A=E[R]+U,F=E[R+1],I=E[R+2],y=c(y,A),L=s(L,A),p=c(p,F),m=s(m,I),g=F;g>=k&&(x=g+A,M=x,!(1&f[e[x]]||w[M>>>5]&1<<(31&M)));g-=b)w[M>>>5]|=1<<(31&M),p=c(p,g);if(g>=F){for(x=g+A,M=x;I>=g&&(1&f[e[x]]||w[M>>>5]&1<<(31&M));)g+=b,x=g+A,M=x;h=g,T=I>=g}else h=g+b,F>h&&A>=$+U&&j+U>=A&&(E[R]=A,E[R+1]=h,E[R+2]=F-b,E[R+3]=-U,R+=4),g=F+b,T=!0;for(;T;){for(x=g+A,M=x;C>=g&&!(1&f[e[x]])&&!(w[M>>>5]&1<<(31&M));)w[M>>>5]|=1<<(31&M),m=s(m,g),g+=b,x=g+A,M=x;for(A+U>=$&&j>=A+U&&(E[R]=A,E[R+1]=h,E[R+2]=g-b,E[R+3]=U,R+=4),g>I+b&&A-U>=$&&j>=A-U&&(E[R]=A,E[R+1]=I+b,E[R+2]=g-b,E[R+3]=-U,R+=4),x=g+A,M=x;I>=g&&(1&f[e[x]]||w[M>>>5]&1<<(31&M));)g+=b,x=g+A,M=x;h=g,T=I>=g}}return{mask:w,box:[p,y,m,L]}}var u=e.Array32I,a=e.Array32U,l=(e.Array32F,e.Array8U,Math.ceil),c=Math.min,s=Math.max,d=(Math.abs,256);e.MachineLearning.connected_components=t,e.MachineLearning.connected_region=e.MachineLearning.flood_region=i}(e),e});
/**
*
*   FILTER.js I/O Classes
*   @version: 0.9.6
*   @dependencies: Filter.js
*
*   JavaScript Image Processing Library (I/O Loaders)
*   https://github.com/foo123/FILTER.js
*
**/!function(e,n){"use strict";"object"==typeof module&&module.exports?module.exports=n.call(e,module.$deps&&module.$deps.FILTER||require("./FILTER".toLowerCase())):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified("FILTER_IO")?define("FILTER_IO",["module","FILTER"],function(t,r){return n.moduleUri=t.uri,n.call(e,r),r}):(n.call(e,e.FILTER)||1)&&"function"==typeof define&&define.amd&&define(function(){return e.FILTER})}(this,function e(n){"use strict";n.getPath(e.moduleUri);return!function(e,n){e.IO.HTMLImageManager=e.Class(e.IO.Manager,{name:"IO.HTMLImageManager",constructor:function t(){return this instanceof t?void this.$super("constructor"):new t},read:function(n,t,r){var o=this,s=new Image,u=new e.Image;return s.onload=function(e){u.image(s),"function"==typeof t&&t(u,s)},s.onerror=function(e){"function"==typeof r&&r(e,u,s)},s.crossOrigin=o._crossOrigin||"",s.src=n,u}}),e.IO.HTMLImageLoader=e.IO.HTMLImageManager}(n),!function(e,n){function t(e,n,t){var r="";if(!e)return xhr?xhr:r;var o,i,l,c,f,p=u(e);if(t){for(i=0,l=p.length;l>i;i++)o=p[i],t.setHeader(o,e[o]);return t}if(n){for(i=0,l=p.length;l>i;i++)if(o=p[i],"[object Array]"===s.call(e[o]))for(c=0,f=e[o].length;f>c;c++)n.setRequestHeader(o,String(e[o][c]));else n.setRequestHeader(o,String(e[o]));return n}for(i=0,l=p.length;l>i;i++)if(o=p[i],"[object Array]"===s.call(e[o]))for(r.length&&(r+=a),r+=o+": "+String(e[o][0]),c=1,f=e[o].length;f>c;c++)r+=a+String(e[o][c]);else r.length&&(r+=a),r+=o+": "+String(e[o]);return r}function r(e,n){var t,r,s,u,l={},c=null;if(e)for(n=!0===n,e=e.split(a),r=0,s=e.length;s>r;r++)u=e[r],t=u.split(":"),t.length>1?(c=i(t.shift()),n&&(c=c.toLowerCase()),l[o](c)?("string"==typeof l[c]&&(l[c]=[l[c]]),l[c].push(i(t.join(":")))):l[c]=i(t.join(":"))):t[0].length&&c&&(l[c]=a+t[0]);return l}if(!e.Util.LOADED_XHR){e.Util.LOADED_XHR=!0;var o="hasOwnProperty",s=Object.prototype.toString,u=Object.keys,a="\r\n",i=e.Util.String.trim,l=e.Browser.isNode;e.Util.Http={Header:{encode:t,decode:r}};var c=e.Util.XHR=function f(e,n){var t=this,r=!1;t.readyState=f.UNSENT,t.status=null,t.statusText=null,t.responseType="text",t.responseURL=null,t.response=null,t.responseText=null,t.responseXml=null,t._rawHeaders=null,t._headers=null,t.send=function(n){return r||f.UNSENT!==t.readyState?t:(e&&e(n),t.readyState=f.OPENED,t)},t.abort=function(){return r?t:(r=!0,n&&n(),t)},t.getAllResponseHeaders=function(e){return f.DONE!==t.readyState?null:!0===e?t._headers:t._rawHeaders},t.getResponseHeader=function(e,n){if(null==e||f.DONE!==t.readyState)return null;var r=t._headers||{};return!1!==n&&(e=e.toLowerCase()),r[o](e)?r[e]:null},t.dispose=function(){return t.readyState=null,t.status=null,t.statusText=null,t.responseType=null,t.responseURL=null,t.response=null,t.responseText=null,t.responseXml=null,t._rawHeaders=null,t._headers=null,t.getAllResponseHeaders=null,t.getResponseHeader=null,t.send=null,t.abort=null,t}};c.UNSENT=0,c.OPENED=1,c.HEADERS_RECEIVED=2,c.LOADING=3,c.DONE=4,c.create=l?function(e,n){if(e=e||{},!e.url)return null;var r,o,u="[object Object]"===s.call(e.url)?e.url:require("url").parse(e.url),a={method:e.method||"GET",agent:!1,protocol:u.protocol,host:u.hostname,hostname:u.hostname,port:u.port||80,path:(u.pathname||"/")+(u.query?"?"+u.query:"")};return"file:"===a.protocol?(o=new c(function(n){o.readyState=c.OPENED,require("fs").readFile(a.path,{encoding:"arraybuffer"===o.responseType?null:o.responseType,flag:"r"},function(n,t){o.readyState=c.DONE,o.responseUrl=a.path,e.onLoadStart&&e.onLoadStart(o),e.onLoadEnd&&e.onLoadEnd(o),n?(o.status=500,o.statusText=n.toString(),e.onRequestError?e.onRequestError(o):e.onError&&e.onError(o)):(o.status=200,o.statusText=null,o.response=t,"arraybuffer"!==o.responseType?(o.responseText=t,o.responseXml=null):(o.responseText=null,o.responseXml=null),e.onComplete&&e.onComplete(o))})},function(){}),o.responseType=e.responseType||"text",arguments.length>1&&o.send(n),o):(o=new c(function(e){null!=e&&(e=String(e),r.setHeader("Content-Length",String(e.length)),r.write(e)),r.end()},function(){r.abort()}),r=("https:"===a.protocol?require("https").request:require("http").request)(a,function(n){var t="",r=0;o.readyState=c.OPENED,e.onStateChange&&e.onStateChange(o),o.readyState=c.HEADERS_RECEIVED,o._rawHeaders=n.rawHeaders.join("\r\n"),o._headers=n.headers,o.responseURL=n.url||null,o.status=n.statusCode||null,o.statusText=n.statusMessage||null,e.onStateChange&&e.onStateChange(o),n.on("data",function(n){r||(r=1,o.readyState=c.LOADING,e.onStateChange&&e.onStateChange(o),e.onLoadStart&&e.onLoadStart(o)),t+=n.toString(),e.onProgress&&e.onProgress(o)}),n.on("end",function(){o.readyState=c.DONE,o.responseType="text",o.response=o.responseText=t,e.onStateChange&&e.onStateChange(o),e.onLoadEnd&&e.onLoadEnd(o),c.DONE===o.readyState&&(200===o.status?e.onComplete&&e.onComplete(o):e.onRequestError?e.onRequestError(o):e.onError&&e.onError(o))}),n.on("error",function(n){o.statusText=n.toString(),e.onError&&e.onError(o)})}),r.setTimeout(e.timeout||3e4,function(n){e.onTimeout&&e.onTimeout(o)}),r.on("abort",function(n){e.onAbort&&e.onAbort(o)}),r.on("error",function(n){o.statusText=n.toString(),e.onError&&e.onError(o)}),e.headers&&t(e.headers,null,r),arguments.length>1&&o.send(n),o)}:function(e,n){if(e=e||{},!e.url)return null;var o="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),s=new c(function(e){o.send(e)},function(){o.abort()}),u=function(e,n){return e.readyState=n.readyState,e.status=n.status,e.statusText=n.statusText,e.responseURL=n.responseURL,e.response=n.response,"arraybuffer"!==n.responseType?(e.responseText=n.responseText,e.responseXml=n.responseXml):(e.responseText=null,e.responseXml=null),e};return s.getAllResponseHeaders=function(e){var n=o.getAllResponseHeaders();return!0===e?r(n):n},s.getResponseHeader=function(e){return o.getResponseHeader(e)},o.open(e.method||"GET",e.url,!e.sync),s.responseType=o.responseType=e.responseType||"text",o.timeout=e.timeout||3e4,e.onProgress&&(o.onprogress=function(){e.onProgress(u(s,o))}),e.onLoadStart&&(o.onloadstart=function(){e.onLoadStart(u(s,o))}),e.onLoadEnd&&(o.onloadend=function(){e.onLoadEnd(u(s,o))}),!e.sync&&e.onStateChange&&(o.onreadystatechange=function(){e.onStateChange(u(s,o))}),o.onload=function(){u(s,o),c.DONE===o.readyState&&(200===o.status?e.onComplete&&e.onComplete(s):e.onRequestError?e.onRequestError(s):e.onError&&e.onError(s))},o.onabort=function(){e.onAbort&&e.onAbort(u(s,o))},o.onerror=function(){e.onError&&e.onError(u(s,o))},o.ontimeout=function(){e.onTimeout&&e.onTimeout(u(s,o))},e.headers&&t(e.headers,o),e.mimeType&&o.overrideMimeType(e.mimeType),arguments.length>1&&s.send(n),s}}}(n),!function(e,n){var t=e.Class,r=e.IO.FileManager=t(e.IO.Manager,{name:"IO.FileManager",constructor:function o(){var e=this;return e instanceof o?void e.$super("constructor"):new o},read:function(n,t,r){var o=this;return e.Browser.isNode?"http://"===n.slice(0,7)||"https://"===n.slice(0,8)?e.Util.XHR.create({url:n,responseType:o._responseType,onComplete:function(e){"function"==typeof t&&t(e.response)},onError:function(e){"function"==typeof r&&r(e.statusText)}},null):require("fs").readFile("file://"===n.slice(0,7)?n.slice(7):n,{encoding:"arraybuffer"===o._responseType?null:o._responseType,flag:"r"},function(e,n){e?"function"==typeof r&&r(e.toString()):"function"==typeof t&&t(n)}):e.Util.XHR.create({url:n,responseType:o._responseType,onComplete:function(e){"function"==typeof t&&t(e.response)},onError:function(e){"function"==typeof r&&r(e.statusText)}},null),o},write:function(n,t,r,o){var s=this;return e.Browser.isNode&&require("fs").writeFile("file://"===n.slice(0,7)?n.slice(7):n,t,{encoding:"arraybuffer"===s._encoding?null:s._encoding,flag:"w"},function(e){e?"function"==typeof o&&o(e.toString()):"function"==typeof r&&r(n)}),s}});e.IO.FileLoader=e.IO.FileReader=e.IO.FileWriter=r,e.IO.BinaryManager=t(r,{name:"IO.BinaryManager",constructor:function s(e,n){var t=this;return t instanceof s?(t._codec="object"==typeof e?e:null,t._opts=n||null,void t.$super("constructor")):new s(e,n)},_codec:null,_opts:null,dispose:function(){var e=this;return e._opts=null,e._codec=null,e.$super("dispose"),e},codec:function(e){var n=this;return arguments.length?(n._codec="object"==typeof e?e:null,n):n._codec},options:function(e){var n=this;return arguments.length?(n._opts="object"==typeof e?e:null,n):n._opts},read:function(n,t,r){var o=this,s=new e.Image,u=o._codec?o._codec.decoder:null;return"function"==typeof u&&o.responseType("arraybuffer").$super("read",n,function(e){var n,o=null,a={};try{n=u(e,a)}catch(i){o=i,n=null}o||!n?"function"==typeof r&&r(o,e,s,a):(s.image(n),"function"==typeof t&&t(s,a))},r),s},write:function(e,n,t,r){var o,s=null,u=this,a=u._codec?u._codec.encoder:null;if(n&&"function"==typeof a){try{o=a(n.getPixelData(),u._opts||{})}catch(i){s=i,o=null}s||!o?"function"==typeof r&&r(s,n):u.encoding("arraybuffer").$super("write",e,o,t,r)}return u}}),e.IO.BinaryLoader=e.IO.BinaryReader=e.IO.BinaryWriter=e.IO.BinaryManager}(n),n});
/**
*
*   FILTER.js Codecs
*   @version: 0.9.6
*   @dependencies: Filter.js
*
*   JavaScript Image Processing Library (Image Codecs)
*   https://github.com/foo123/FILTER.js
*
**/!function(e,r){"use strict";"object"==typeof module&&module.exports?module.exports=r.call(e,module.$deps&&module.$deps.FILTER||require("./FILTER".toLowerCase())):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified("FILTER_CODECS")?define("FILTER_CODECS",["module","FILTER"],function(i,a){return r.moduleUri=i.uri,r.call(e,a),a}):(r.call(e,e.FILTER)||1)&&"function"==typeof define&&define.amd&&define(function(){return e.FILTER})}(this,function ModuleFactory__FILTER_CODECS(FILTER){"use strict";var FILTER_CODECS_PATH=FILTER.getPath(ModuleFactory__FILTER_CODECS.moduleUri);return!function(FILTER,undef){function w(e){eval.call(null,e)}function assert(e,r){e||F("Assertion failed: "+r)}function aa(e){var r;switch(r="i32","*"===r.charAt(r.length-1)&&(r="i32"),r){case"i1":return H[e>>0];case"i8":return H[e>>0];case"i16":return I[e>>1];case"i32":return J[e>>2];case"i64":return J[e>>2];case"float":return K[e>>2];case"double":return L[e>>3];default:F("invalid type for setValue: "+r)}return null}function M(e,r,i,a){var t,n;"number"==typeof e?(t=!0,n=e):(t=!1,n=e.length);var f="string"==typeof r?r:null;if(i=4==i?a:["function"==typeof N?N:B.n,B.m,B.n,B.b][void 0===i?2:i](Math.max(n,f?1:r.length)),t){for(a=i,assert(0==(3&i)),e=i+(-4&n);e>a;a+=4)J[a>>2]=0;for(e=i+n;e>a;)H[a++>>0]=0;return i}if("i8"===f)return e.subarray||e.slice?O.set(e,i):O.set(new Uint8Array(e),i),i;a=0;for(var o,l;n>a;){var s=e[a];if("function"==typeof s&&(s=B.M(s)),t=f||r[a],0===t)a++;else{"i64"==t&&(t="i32");var c=i+a,u=t,u=u||"i8";switch("*"===u.charAt(u.length-1)&&(u="i32"),u){case"i1":H[c>>0]=s;break;case"i8":H[c>>0]=s;break;case"i16":I[c>>1]=s;break;case"i32":J[c>>2]=s;break;case"i64":tempI64=[s>>>0,(tempDouble=s,1<=+ba(tempDouble)?0<tempDouble?(0|ca(+da(tempDouble/4294967296),4294967295))>>>0:~~+ea((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],J[c>>2]=tempI64[0],J[c+4>>2]=tempI64[1];break;case"float":K[c>>2]=s;break;case"double":L[c>>3]=s;break;default:F("invalid type for setValue: "+u)}l!==t&&(o=B.l(t),l=t),a+=o}}return i}function fa(e){var r;if(0===r||!e)return"";for(var i,a=0,t=0;(i=O[e+t>>0],a|=i,0!=i||r)&&(t++,!r||t!=r););if(r||(r=t),i="",128>a){for(;r>0;)a=String.fromCharCode.apply(String,O.subarray(e,e+Math.min(r,1024))),i=i?i+a:a,e+=1024,r-=1024;return i}return b.UTF8ToString(e)}function ga(){return ha().replace(/__Z[\w\d_]+/g,function(e){var r;e:{if(b.___cxa_demangle)try{for(var i=N(e.length),a=i,t=P(e.substr(1),void 0),n=0;n<t.length;)H[a+n>>0]=t[n],n+=1;var f=N(4),o=b.___cxa_demangle(i,0,0,f);if(0===aa(f)&&o){r=fa(o);break e}}catch(l){r=e;break e}finally{i&&Q(i),f&&Q(f),o&&Q(o)}B.a("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),r=e}return e===r?e:e+" ["+r+"]"})}function ha(){var e=Error();if(!e.stack){try{throw Error(0)}catch(r){e=r}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function ia(){var e=D;return e%4096>0&&(e+=4096-e%4096),e}function V(e){for(;0<e.length;){var r=e.shift();if("function"==typeof r)r();else{var i=r.I;"number"==typeof i?void 0===r.e?B.f("v",i):B.f("vi",i,[r.e]):i(void 0===r.e?null:r.e)}}}function ra(){var e=b.preRun.shift();na.unshift(e)}function P(e,r){for(var i=0,a=0;a<e.length;++a){var t=e.charCodeAt(a);t>=55296&&57343>=t&&(t=65536+((1023&t)<<10)|1023&e.charCodeAt(++a)),127>=t?++i:i=2047>=t?i+2:65535>=t?i+3:2097151>=t?i+4:67108863>=t?i+5:i+6}i=Array(i+1);var n=i.length,a=0;if(n>0){for(var t=a,n=a+n-1,f=0;f<e.length;++f){var o=e.charCodeAt(f);if(o>=55296&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++f)),127>=o){if(a>=n)break;i[a++]=o}else{if(2047>=o){if(a+1>=n)break;i[a++]=192|o>>6}else{if(65535>=o){if(a+2>=n)break;i[a++]=224|o>>12}else{if(2097151>=o){if(a+3>=n)break;i[a++]=240|o>>18}else{if(67108863>=o){if(a+4>=n)break;i[a++]=248|o>>24}else{if(a+5>=n)break;i[a++]=252|o>>30,i[a++]=128|o>>24&63}i[a++]=128|o>>18&63}i[a++]=128|o>>12&63}i[a++]=128|o>>6&63}i[a++]=128|63&o}}i[a]=0,a-=t}else a=0;return r&&(i.length=a),i}function Y(e){Y.s||(D=ia(),Y.s=!0,assert(B.b),Y.o=B.b,B.b=function(){F("cannot dynamically allocate, sbrk now has control")});var r=D;return 0==e||Y.o(e)?r:4294967295}function y(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ba(e){function r(){if(!b.calledRun&&(b.calledRun=!0,!G)){if(X||(X=!0,V(W)),V(oa),b.onRuntimeInitialized&&b.onRuntimeInitialized(),b._main&&Ca&&b.callMain(e),b.postRun)for("function"==typeof b.postRun&&(b.postRun=[b.postRun]);b.postRun.length;){var r=b.postRun.shift();qa.unshift(r)}V(qa)}}if(e=e||b.arguments,null===za&&(za=Date.now()),b.preRun)for("function"==typeof b.preRun&&(b.preRun=[b.preRun]);b.preRun.length;)ra();V(na),b.calledRun||(b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1),r()},1)):r())}function Aa(e,i){if(!i||!b.noExitRuntime)throw!b.noExitRuntime&&(G=!0,z=void 0,V(pa),b.onExit)&&b.onExit(e),r?process.exit(e):t&&"function"==typeof quit&&quit(e),new y(e)}function F(e){void 0!==e?(b.print(e),b.h(e),e=JSON.stringify(e)):e="",G=!0;var r="abort("+e+") at "+ga()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw Da&&Da.forEach(function(i){r=i(r,e)}),r}function assign(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){null!=r&&"object"==typeof r&&Object.keys(r).forEach(function(i){var a=r[i];null!=a&&("object"==typeof a?(e[i]=e[i]||{},assign(e[i],a)):e[i]=a)})}),e}function concat(e){var r,i,a=0;return r=e.map(function(e){return e.length}).reduce(function(e,r){return e+r},0),i=new Uint8Array(r),e.forEach(function(e){i.set(e,a),a+=e.length}),i}function zerror(e){return new Error("zlib-asm: "+e)}function validate(e){return{valid:e>=0,error:ERROR_TABLE[e]}}function BaseInflate(e,r){if(r=common.assign({},common.defaultParams,r),this.chunkSize=r.chunkSize,this.ctxPtr=Module._ZLIBJS_createInflateContext(e),!this.ctxPtr)throw common.zerror("ZLIBJS_createInflateContext");Module.ZLIBJS_instances[this.ctxPtr]=this,Module._ZLIBJS_init(this.chunkSize)}function BaseDeflate(e,r){if(r=common.assign({},common.defaultParams,r),this.chunkSize=r.chunkSize,r.level&&(r.compressionLevel=r.level),this.compressionLevel=r.compressionLevel=Math.min(Math.max(r.compressionLevel,0),9),this.ctxPtr=Module._ZLIBJS_createDeflateContext(this.compressionLevel,e),!this.ctxPtr)throw common.zerror("ZLIBJS_createDeflateContext");Module.ZLIBJS_instances[this.ctxPtr]=this,Module._ZLIBJS_init(this.chunkSize)}function Inflate(e,r){BaseInflate.call(this,e,r),this.src=r.input,this.streamFn=r.streamFn,this.shareMemory=r.shareMemory,this.offset=0,this.srcSize=0}function Deflate(e,r){BaseDeflate.call(this,e,r),this.src=r.input,this.streamFn=r.streamFn,this.shareMemory=r.shareMemory,this.offset=0,this.srcSize=0}function zlibInflate(e,r,i){var a=[],t=new Inflate(e,{input:r,chunkSize:i,shareMemory:!1,streamFn:function(e){a.push(e)}});return t.inflateAll(),common.concat(a)}function zlibDeflate(e,r,i,a){var t=[],n=new Deflate(e,{input:r,compressionLevel:i,chunkSize:a,shareMemory:!1,streamFn:function(e){t.push(e)}});return n.deflateAll(),common.concat(t)}if(!FILTER.Util.LOADED_ZLIB){FILTER.Util.LOADED_ZLIB=!0;var Module={ENVIRONMENT:FILTER.Browser.isNode?"NODE":FILTER.Browser.isInsideWorker?"WORKER":"WEB"},b=Module,f={},k;for(k in b)b.hasOwnProperty(k)&&(f[k]=b[k]);var n=!1,q=!1,r=!1,t=!1;if(b.ENVIRONMENT)if("WEB"===b.ENVIRONMENT)n=!0;else if("WORKER"===b.ENVIRONMENT)q=!0;else if("NODE"===b.ENVIRONMENT)r=!0;else{if("SHELL"!==b.ENVIRONMENT)throw Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");t=!0}else n="object"==typeof window,q="function"==typeof importScripts,r="object"==typeof process&&"function"==typeof require&&!n&&!q,t=!n&&!r&&!q;if(r){b.print||(b.print=console.log),b.printErr||(b.printErr=console.warn);var u,v;b.read=function(e,r){u||(u=require("fs")),v||(v=require("path")),e=v.normalize(e);var i=u.readFileSync(e);return i||e==v.resolve(e)||(e=path.join(__dirname,"..","src",e),i=u.readFileSync(e)),i&&!r&&(i=i.toString()),i},b.readBinary=function(e){return e=b.read(e,!0),e.buffer||(e=new Uint8Array(e)),assert(e.buffer),e},b.load=function(e){w(read(e))},b.thisProgram||(b.thisProgram=1<process.argv.length?process.argv[1].replace(/\\/g,"/"):"unknown-program"),b.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=b),process.on("uncaughtException",function(e){if(!(e instanceof y))throw e}),b.inspect=function(){return"[Emscripten Module object]"}}else if(t)b.print||(b.print=print),"undefined"!=typeof printErr&&(b.printErr=printErr),b.read="undefined"!=typeof read?read:function(){throw"no read() available (jsc?)"},b.readBinary=function(e){return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(e=read(e,"binary"),assert("object"==typeof e),e)},"undefined"!=typeof scriptArgs?b.arguments=scriptArgs:"undefined"!=typeof arguments&&(b.arguments=arguments),eval("if (typeof gc === 'function' && gc.toString().indexOf('[native code]') > 0) var gc = undefined");else{if(!n&&!q)throw"Unknown runtime environment. Where are we?";b.read=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},b.readAsync=function(e,r,i){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){200==a.status||0==a.status&&a.response?r(a.response):i()},a.onerror=i,a.send(null)},"undefined"!=typeof arguments&&(b.arguments=arguments),"undefined"!=typeof console?(b.print||(b.print=function(e){console.log(e)}),b.printErr||(b.printErr=function(e){console.warn(e)})):b.print||(b.print=function(){}),q&&(b.load=importScripts),"undefined"==typeof b.setWindowTitle&&(b.setWindowTitle=function(e){document.title=e})}!b.load&&b.read&&(b.load=function(e){w(b.read(e))}),b.print||(b.print=function(){}),b.printErr||(b.printErr=b.print),b.arguments||(b.arguments=[]),b.thisProgram||(b.thisProgram="./this.program"),b.print=b.print,b.h=b.printErr,b.preRun=[],b.postRun=[];for(k in f)f.hasOwnProperty(k)&&(b[k]=f[k]);var f=void 0,B={w:function(e){tempRet0=e},u:function(){return tempRet0},B:function(){return z},A:function(e){z=e},l:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return"*"===e[e.length-1]?B.d:"i"===e[0]?(e=parseInt(e.substr(1)),assert(0===e%8),e/8):0}},t:function(e){return Math.max(B.l(e),B.d)},C:16,P:function(e,r){return"double"===r||"i64"===r?7&e&&(assert(4===(7&e)),e+=4):assert(0===(3&e)),e},J:function(e,r,i){return i||"i64"!=e&&"double"!=e?e?Math.min(r||(e?B.t(e):0),B.d):Math.min(r,8):8},f:function(e,r,i){return i&&i.length?(i.splice||(i=Array.prototype.slice.call(i)),i.splice(0,0,r),b["dynCall_"+e].apply(null,i)):b["dynCall_"+e].call(null,r)},c:[],p:function(e){for(var r=0;r<B.c.length;r++)if(!B.c[r])return B.c[r]=e,2*(1+r);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},v:function(e){B.c[(e-2)/2]=null},a:function(e){B.a.i||(B.a.i={}),B.a.i[e]||(B.a.i[e]=1,b.h(e))},g:{},L:function(e,r){assert(r),B.g[r]||(B.g[r]={});var i=B.g[r];return i[e]||(i[e]=function(){return B.f(r,e,arguments)}),i[e]},K:function(){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},m:function(e){var r=z;return z=z+e|0,z=z+15&-16,r},n:function(e){var r=C;return C=C+e|0,C=C+15&-16,r},b:function(e){var r=D;return D=D+e|0,D=D+15&-16,(e=D>=E)&&(F("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+E+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 "),e=!0),e?(D=r,0):r},k:function(e,r){return Math.ceil(e/(r?r:16))*(r?r:16)},O:function(e,r,i){return i?+(e>>>0)+4294967296*+(r>>>0):+(e>>>0)+4294967296*+(0|r)},j:8,d:4,D:0};B.addFunction=B.p,B.removeFunction=B.v;for(var G=!1,buffer,H,O,I,R,J,ja,K,L,ka=0,C=0,la=0,z=0,S=0,D=0,ma=b.TOTAL_STACK||5242880,E=b.TOTAL_MEMORY||16777216,U=65536;E>U||2*ma>U;)U=16777216>U?2*U:U+16777216;if(U!==E&&(E=U),buffer=b.buffer?b.buffer:new ArrayBuffer(E),b.HEAP8=H=new Int8Array(buffer),b.HEAP16=I=new Int16Array(buffer),b.HEAP32=J=new Int32Array(buffer),b.HEAPU8=O=new Uint8Array(buffer),b.HEAPU16=R=new Uint16Array(buffer),b.HEAPU32=ja=new Uint32Array(buffer),b.HEAPF32=K=new Float32Array(buffer),b.HEAPF64=L=new Float64Array(buffer),J[0]=255,255!==O[0]||0!==O[3])throw"Typed arrays 2 must be run on a little-endian system";b.HEAP=void 0,b.buffer=buffer,b.HEAP8=H,b.HEAP16=I,b.HEAP32=J,b.HEAPU8=O,b.HEAPU16=R,b.HEAPU32=ja,b.HEAPF32=K,b.HEAPF64=L;var na=[],W=[],oa=[],pa=[],qa=[],X=!1;Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,r){var i=65535&e,a=65535&r;return i*a+((e>>>16)*a+i*(r>>>16)<<16)|0}),Math.N=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var r=0;32>r;r++)if(e&1<<31-r)return r;return 32}),Math.G=Math.clz32,Math.trunc||(Math.trunc=function(e){return 0>e?Math.ceil(e):Math.floor(e)}),Math.trunc=Math.trunc;var ba=Math.abs,ea=Math.ceil,da=Math.floor,ca=Math.min;b.preloadedImages={},b.preloadedAudios={};var ta=[function(e,r,i){return sa[e].$read(r,i)},function(e,r,i){sa[e].$write(r,i)}],ka=8,C=ka+14592;W.push(),M([0,0,0,0,0,0,0,0,1,0,0,0,4,0,4,0,8,0,4,0,2,0,0,0,4,0,5,0,16,0,8,0,2,0,0,0,4,0,6,0,32,0,32,0,2,0,0,0,4,0,4,0,16,0,16,0,3,0,0,0,8,0,16,0,32,0,32,0,3,0,0,0,8,0,16,0,128,0,128,0,3,0,0,0,8,0,32,0,128,0,0,1,3,0,0,0,32,0,128,0,2,1,0,4,3,0,0,0,32,0,2,1,2,1,0,16,3,0,0,0,130,44,0,0,148,0,0,0,1,1,0,0,30,1,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,0,0,0,0,2,49,0,0,28,1,0,0,0,0,0,0,30,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,6,0,0,0,6,0,0,0,7,0,0,0,7,0,0,0,8,0,0,0,8,0,0,0,9,0,0,0,9,0,0,0,10,0,0,0,10,0,0,0,11,0,0,0,11,0,0,0,12,0,0,0,12,0,0,0,13,0,0,0,13,0,0,0,0,0,0,0,168,1,0,0,0,0,0,0,19,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,7,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,10,0,0,0,12,0,0,0,14,0,0,0,16,0,0,0,20,0,0,0,24,0,0,0,28,0,0,0,32,0,0,0,40,0,0,0,48,0,0,0,56,0,0,0,64,0,0,0,80,0,0,0,96,0,0,0,112,0,0,0,128,0,0,0,160,0,0,0,192,0,0,0,224,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,8,0,0,0,12,0,0,0,16,0,0,0,24,0,0,0,32,0,0,0,48,0,0,0,64,0,0,0,96,0,0,0,128,0,0,0,192,0,0,0,0,1,0,0,128,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,8,0,0,0,12,0,0,0,16,0,0,0,24,0,0,0,32,0,0,0,48,0,0,0,64,0,0,0,96,0,0,0,0,0,0,150,48,7,119,44,97,14,238,186,81,9,153,25,196,109,7,143,244,106,112,53,165,99,233,163,149,100,158,50,136,219,14,164,184,220,121,30,233,213,224,136,217,210,151,43,76,182,9,189,124,177,126,7,45,184,231,145,29,191,144,100,16,183,29,242,32,176,106,72,113,185,243,222,65,190,132,125,212,218,26,235,228,221,109,81,181,212,244,199,133,211,131,86,152,108,19,192,168,107,100,122,249,98,253,236,201,101,138,79,92,1,20,217,108,6,99,99,61,15,250,245,13,8,141,200,32,110,59,94,16,105,76,228,65,96,213,114,113,103,162,209,228,3,60,71,212,4,75,253,133,13,210,107,181,10,165,250,168,181,53,108,152,178,66,214,201,187,219,64,249,188,172,227,108,216,50,117,92,223,69,207,13,214,220,89,61,209,171,172,48,217,38,58,0,222,81,128,81,215,200,22,97,208,191,181,244,180,33,35,196,179,86,153,149,186,207,15,165,189,184,158,184,2,40,8,136,5,95,178,217,12,198,36,233,11,177,135,124,111,47,17,76,104,88,171,29,97,193,61,45,102,182,144,65,220,118,6,113,219,1,188,32,210,152,42,16,213,239,137,133,177,113,31,181,182,6,165,228,191,159,51,212,184,232,162,201,7,120,52,249,0,15,142,168,9,150,24,152,14,225,187,13,106,127,45,61,109,8,151,108,100,145,1,92,99,230,244,81,107,107,98,97,108,28,216,48,101,133,78,0,98,242,237,149,6,108,123,165,1,27,193,244,8,130,87,196,15,245,198,217,176,101,80,233,183,18,234,184,190,139,124,136,185,252,223,29,221,98,73,45,218,21,243,124,211,140,101,76,212,251,88,97,178,77,206,81,181,58,116,0,188,163,226,48,187,212,65,165,223,74,215,149,216,61,109,196,209,164,251,244,214,211,106,233,105,67,252,217,110,52,70,136,103,173,208,184,96,218,115,45,4,68,229,29,3,51,95,76,10,170,201,124,13,221,60,113,5,80,170,65,2,39,16,16,11,190,134,32,12,201,37,181,104,87,179,133,111,32,9,212,102,185,159,228,97,206,14,249,222,94,152,201,217,41,34,152,208,176,180,168,215,199,23,61,179,89,129,13,180,46,59,92,189,183,173,108,186,192,32,131,184,237,182,179,191,154,12,226,182,3,154,210,177,116,57,71,213,234,175,119,210,157,21,38,219,4,131,22,220,115,18,11,99,227,132,59,100,148,62,106,109,13,168,90,106,122,11,207,14,228,157,255,9,147,39,174,0,10,177,158,7,125,68,147,15,240,210,163,8,135,104,242,1,30,254,194,6,105,93,87,98,247,203,103,101,128,113,54,108,25,231,6,107,110,118,27,212,254,224,43,211,137,90,122,218,16,204,74,221,103,111,223,185,249,249,239,190,142,67,190,183,23,213,142,176,96,232,163,214,214,126,147,209,161,196,194,216,56,82,242,223,79,241,103,187,209,103,87,188,166,221,6,181,63,75,54,178,72,218,43,13,216,76,27,10,175,246,74,3,54,96,122,4,65,195,239,96,223,85,223,103,168,239,142,110,49,121,190,105,70,140,179,97,203,26,131,102,188,160,210,111,37,54,226,104,82,149,119,12,204,3,71,11,187,185,22,2,34,47,38,5,85,190,59,186,197,40,11,189,178,146,90,180,43,4,106,179,92,167,255,215,194,49,207,208,181,139,158,217,44,29,174,222,91,176,194,100,155,38,242,99,236,156,163,106,117,10,147,109,2,169,6,9,156,63,54,14,235,133,103,7,114,19,87,0,5,130,74,191,149,20,122,184,226,174,43,177,123,56,27,182,12,155,142,210,146,13,190,213,229,183,239,220,124,33,223,219,11,212,210,211,134,66,226,212,241,248,179,221,104,110,131,218,31,205,22,190,129,91,38,185,246,225,119,176,111,119,71,183,24,230,90,8,136,112,106,15,255,202,59,6,102,92,11,1,17,255,158,101,143,105,174,98,248,211,255,107,97,69,207,108,22,120,226,10,160,238,210,13,215,84,131,4,78,194,179,3,57,97,38,103,167,247,22,96,208,77,71,105,73,219,119,110,62,74,106,209,174,220,90,214,217,102,11,223,64,240,59,216,55,83,174,188,169,197,158,187,222,127,207,178,71,233,255,181,48,28,242,189,189,138,194,186,202,48,147,179,83,166,163,180,36,5,54,208,186,147,6,215,205,41,87,222,84,191,103,217,35,46,122,102,179,184,74,97,196,2,27,104,93,148,43,111,42,55,190,11,180,161,142,12,195,27,223,5,90,141,239,2,45,0,0,0,0,65,49,27,25,130,98,54,50,195,83,45,43,4,197,108,100,69,244,119,125,134,167,90,86,199,150,65,79,8,138,217,200,73,187,194,209,138,232,239,250,203,217,244,227,12,79,181,172,77,126,174,181,142,45,131,158,207,28,152,135,81,18,194,74,16,35,217,83,211,112,244,120,146,65,239,97,85,215,174,46,20,230,181,55,215,181,152,28,150,132,131,5,89,152,27,130,24,169,0,155,219,250,45,176,154,203,54,169,93,93,119,230,28,108,108,255,223,63,65,212,158,14,90,205,162,36,132,149,227,21,159,140,32,70,178,167,97,119,169,190,166,225,232,241,231,208,243,232,36,131,222,195,101,178,197,218,170,174,93,93,235,159,70,68,40,204,107,111,105,253,112,118,174,107,49,57,239,90,42,32,44,9,7,11,109,56,28,18,243,54,70,223,178,7,93,198,113,84,112,237,48,101,107,244,247,243,42,187,182,194,49,162,117,145,28,137,52,160,7,144,251,188,159,23,186,141,132,14,121,222,169,37,56,239,178,60,255,121,243,115,190,72,232,106,125,27,197,65,60,42,222,88,5,79,121,240,68,126,98,233,135,45,79,194,198,28,84,219,1,138,21,148,64,187,14,141,131,232,35,166,194,217,56,191,13,197,160,56,76,244,187,33,143,167,150,10,206,150,141,19,9,0,204,92,72,49,215,69,139,98,250,110,202,83,225,119,84,93,187,186,21,108,160,163,214,63,141,136,151,14,150,145,80,152,215,222,17,169,204,199,210,250,225,236,147,203,250,245,92,215,98,114,29,230,121,107,222,181,84,64,159,132,79,89,88,18,14,22,25,35,21,15,218,112,56,36,155,65,35,61,167,107,253,101,230,90,230,124,37,9,203,87,100,56,208,78,163,174,145,1,226,159,138,24,33,204,167,51,96,253,188,42,175,225,36,173,238,208,63,180,45,131,18,159,108,178,9,134,171,36,72,201,234,21,83,208,41,70,126,251,104,119,101,226,246,121,63,47,183,72,36,54,116,27,9,29,53,42,18,4,242,188,83,75,179,141,72,82,112,222,101,121,49,239,126,96,254,243,230,231,191,194,253,254,124,145,208,213,61,160,203,204,250,54,138,131,187,7,145,154,120,84,188,177,57,101,167,168,75,152,131,59,10,169,152,34,201,250,181,9,136,203,174,16,79,93,239,95,14,108,244,70,205,63,217,109,140,14,194,116,67,18,90,243,2,35,65,234,193,112,108,193,128,65,119,216,71,215,54,151,6,230,45,142,197,181,0,165,132,132,27,188,26,138,65,113,91,187,90,104,152,232,119,67,217,217,108,90,30,79,45,21,95,126,54,12,156,45,27,39,221,28,0,62,18,0,152,185,83,49,131,160,144,98,174,139,209,83,181,146,22,197,244,221,87,244,239,196,148,167,194,239,213,150,217,246,233,188,7,174,168,141,28,183,107,222,49,156,42,239,42,133,237,121,107,202,172,72,112,211,111,27,93,248,46,42,70,225,225,54,222,102,160,7,197,127,99,84,232,84,34,101,243,77,229,243,178,2,164,194,169,27,103,145,132,48,38,160,159,41,184,174,197,228,249,159,222,253,58,204,243,214,123,253,232,207,188,107,169,128,253,90,178,153,62,9,159,178,127,56,132,171,176,36,28,44,241,21,7,53,50,70,42,30,115,119,49,7,180,225,112,72,245,208,107,81,54,131,70,122,119,178,93,99,78,215,250,203,15,230,225,210,204,181,204,249,141,132,215,224,74,18,150,175,11,35,141,182,200,112,160,157,137,65,187,132,70,93,35,3,7,108,56,26,196,63,21,49,133,14,14,40,66,152,79,103,3,169,84,126,192,250,121,85,129,203,98,76,31,197,56,129,94,244,35,152,157,167,14,179,220,150,21,170,27,0,84,229,90,49,79,252,153,98,98,215,216,83,121,206,23,79,225,73,86,126,250,80,149,45,215,123,212,28,204,98,19,138,141,45,82,187,150,52,145,232,187,31,208,217,160,6,236,243,126,94,173,194,101,71,110,145,72,108,47,160,83,117,232,54,18,58,169,7,9,35,106,84,36,8,43,101,63,17,228,121,167,150,165,72,188,143,102,27,145,164,39,42,138,189,224,188,203,242,161,141,208,235,98,222,253,192,35,239,230,217,189,225,188,20,252,208,167,13,63,131,138,38,126,178,145,63,185,36,208,112,248,21,203,105,59,70,230,66,122,119,253,91,181,107,101,220,244,90,126,197,55,9,83,238,118,56,72,247,177,174,9,184,240,159,18,161,51,204,63,138,114,253,36,147,0,0,0,0,55,106,194,1,110,212,132,3,89,190,70,2,220,168,9,7,235,194,203,6,178,124,141,4,133,22,79,5,184,81,19,14,143,59,209,15,214,133,151,13,225,239,85,12,100,249,26,9,83,147,216,8,10,45,158,10,61,71,92,11,112,163,38,28,71,201,228,29,30,119,162,31,41,29,96,30,172,11,47,27,155,97,237,26,194,223,171,24,245,181,105,25,200,242,53,18,255,152,247,19,166,38,177,17,145,76,115,16,20,90,60,21,35,48,254,20,122,142,184,22,77,228,122,23,224,70,77,56,215,44,143,57,142,146,201,59,185,248,11,58,60,238,68,63,11,132,134,62,82,58,192,60,101,80,2,61,88,23,94,54,111,125,156,55,54,195,218,53,1,169,24,52,132,191,87,49,179,213,149,48,234,107,211,50,221,1,17,51,144,229,107,36,167,143,169,37,254,49,239,39,201,91,45,38,76,77,98,35,123,39,160,34,34,153,230,32,21,243,36,33,40,180,120,42,31,222,186,43,70,96,252,41,113,10,62,40,244,28,113,45,195,118,179,44,154,200,245,46,173,162,55,47,192,141,154,112,247,231,88,113,174,89,30,115,153,51,220,114,28,37,147,119,43,79,81,118,114,241,23,116,69,155,213,117,120,220,137,126,79,182,75,127,22,8,13,125,33,98,207,124,164,116,128,121,147,30,66,120,202,160,4,122,253,202,198,123,176,46,188,108,135,68,126,109,222,250,56,111,233,144,250,110,108,134,181,107,91,236,119,106,2,82,49,104,53,56,243,105,8,127,175,98,63,21,109,99,102,171,43,97,81,193,233,96,212,215,166,101,227,189,100,100,186,3,34,102,141,105,224,103,32,203,215,72,23,161,21,73,78,31,83,75,121,117,145,74,252,99,222,79,203,9,28,78,146,183,90,76,165,221,152,77,152,154,196,70,175,240,6,71,246,78,64,69,193,36,130,68,68,50,205,65,115,88,15,64,42,230,73,66,29,140,139,67,80,104,241,84,103,2,51,85,62,188,117,87,9,214,183,86,140,192,248,83,187,170,58,82,226,20,124,80,213,126,190,81,232,57,226,90,223,83,32,91,134,237,102,89,177,135,164,88,52,145,235,93,3,251,41,92,90,69,111,94,109,47,173,95,128,27,53,225,183,113,247,224,238,207,177,226,217,165,115,227,92,179,60,230,107,217,254,231,50,103,184,229,5,13,122,228,56,74,38,239,15,32,228,238,86,158,162,236,97,244,96,237,228,226,47,232,211,136,237,233,138,54,171,235,189,92,105,234,240,184,19,253,199,210,209,252,158,108,151,254,169,6,85,255,44,16,26,250,27,122,216,251,66,196,158,249,117,174,92,248,72,233,0,243,127,131,194,242,38,61,132,240,17,87,70,241,148,65,9,244,163,43,203,245,250,149,141,247,205,255,79,246,96,93,120,217,87,55,186,216,14,137,252,218,57,227,62,219,188,245,113,222,139,159,179,223,210,33,245,221,229,75,55,220,216,12,107,215,239,102,169,214,182,216,239,212,129,178,45,213,4,164,98,208,51,206,160,209,106,112,230,211,93,26,36,210,16,254,94,197,39,148,156,196,126,42,218,198,73,64,24,199,204,86,87,194,251,60,149,195,162,130,211,193,149,232,17,192,168,175,77,203,159,197,143,202,198,123,201,200,241,17,11,201,116,7,68,204,67,109,134,205,26,211,192,207,45,185,2,206,64,150,175,145,119,252,109,144,46,66,43,146,25,40,233,147,156,62,166,150,171,84,100,151,242,234,34,149,197,128,224,148,248,199,188,159,207,173,126,158,150,19,56,156,161,121,250,157,36,111,181,152,19,5,119,153,74,187,49,155,125,209,243,154,48,53,137,141,7,95,75,140,94,225,13,142,105,139,207,143,236,157,128,138,219,247,66,139,130,73,4,137,181,35,198,136,136,100,154,131,191,14,88,130,230,176,30,128,209,218,220,129,84,204,147,132,99,166,81,133,58,24,23,135,13,114,213,134,160,208,226,169,151,186,32,168,206,4,102,170,249,110,164,171,124,120,235,174,75,18,41,175,18,172,111,173,37,198,173,172,24,129,241,167,47,235,51,166,118,85,117,164,65,63,183,165,196,41,248,160,243,67,58,161,170,253,124,163,157,151,190,162,208,115,196,181,231,25,6,180,190,167,64,182,137,205,130,183,12,219,205,178,59,177,15,179,98,15,73,177,85,101,139,176,104,34,215,187,95,72,21,186,6,246,83,184,49,156,145,185,180,138,222,188,131,224,28,189,218,94,90,191,237,52,152,190,0,0,0,0,101,103,188,184,139,200,9,170,238,175,181,18,87,151,98,143,50,240,222,55,220,95,107,37,185,56,215,157,239,40,180,197,138,79,8,125,100,224,189,111,1,135,1,215,184,191,214,74,221,216,106,242,51,119,223,224,86,16,99,88,159,87,25,80,250,48,165,232,20,159,16,250,113,248,172,66,200,192,123,223,173,167,199,103,67,8,114,117,38,111,206,205,112,127,173,149,21,24,17,45,251,183,164,63,158,208,24,135,39,232,207,26,66,143,115,162,172,32,198,176,201,71,122,8,62,175,50,160,91,200,142,24,181,103,59,10,208,0,135,178,105,56,80,47,12,95,236,151,226,240,89,133,135,151,229,61,209,135,134,101,180,224,58,221,90,79,143,207,63,40,51,119,134,16,228,234,227,119,88,82,13,216,237,64,104,191,81,248,161,248,43,240,196,159,151,72,42,48,34,90,79,87,158,226,246,111,73,127,147,8,245,199,125,167,64,213,24,192,252,109,78,208,159,53,43,183,35,141,197,24,150,159,160,127,42,39,25,71,253,186,124,32,65,2,146,143,244,16,247,232,72,168,61,88,20,155,88,63,168,35,182,144,29,49,211,247,161,137,106,207,118,20,15,168,202,172,225,7,127,190,132,96,195,6,210,112,160,94,183,23,28,230,89,184,169,244,60,223,21,76,133,231,194,209,224,128,126,105,14,47,203,123,107,72,119,195,162,15,13,203,199,104,177,115,41,199,4,97,76,160,184,217,245,152,111,68,144,255,211,252,126,80,102,238,27,55,218,86,77,39,185,14,40,64,5,182,198,239,176,164,163,136,12,28,26,176,219,129,127,215,103,57,145,120,210,43,244,31,110,147,3,247,38,59,102,144,154,131,136,63,47,145,237,88,147,41,84,96,68,180,49,7,248,12,223,168,77,30,186,207,241,166,236,223,146,254,137,184,46,70,103,23,155,84,2,112,39,236,187,72,240,113,222,47,76,201,48,128,249,219,85,231,69,99,156,160,63,107,249,199,131,211,23,104,54,193,114,15,138,121,203,55,93,228,174,80,225,92,64,255,84,78,37,152,232,246,115,136,139,174,22,239,55,22,248,64,130,4,157,39,62,188,36,31,233,33,65,120,85,153,175,215,224,139,202,176,92,51,59,182,89,237,94,209,229,85,176,126,80,71,213,25,236,255,108,33,59,98,9,70,135,218,231,233,50,200,130,142,142,112,212,158,237,40,177,249,81,144,95,86,228,130,58,49,88,58,131,9,143,167,230,110,51,31,8,193,134,13,109,166,58,181,164,225,64,189,193,134,252,5,47,41,73,23,74,78,245,175,243,118,34,50,150,17,158,138,120,190,43,152,29,217,151,32,75,201,244,120,46,174,72,192,192,1,253,210,165,102,65,106,28,94,150,247,121,57,42,79,151,150,159,93,242,241,35,229,5,25,107,77,96,126,215,245,142,209,98,231,235,182,222,95,82,142,9,194,55,233,181,122,217,70,0,104,188,33,188,208,234,49,223,136,143,86,99,48,97,249,214,34,4,158,106,154,189,166,189,7,216,193,1,191,54,110,180,173,83,9,8,21,154,78,114,29,255,41,206,165,17,134,123,183,116,225,199,15,205,217,16,146,168,190,172,42,70,17,25,56,35,118,165,128,117,102,198,216,16,1,122,96,254,174,207,114,155,201,115,202,34,241,164,87,71,150,24,239,169,57,173,253,204,94,17,69,6,238,77,118,99,137,241,206,141,38,68,220,232,65,248,100,81,121,47,249,52,30,147,65,218,177,38,83,191,214,154,235,233,198,249,179,140,161,69,11,98,14,240,25,7,105,76,161,190,81,155,60,219,54,39,132,53,153,146,150,80,254,46,46,153,185,84,38,252,222,232,158,18,113,93,140,119,22,225,52,206,46,54,169,171,73,138,17,69,230,63,3,32,129,131,187,118,145,224,227,19,246,92,91,253,89,233,73,152,62,85,241,33,6,130,108,68,97,62,212,170,206,139,198,207,169,55,126,56,65,127,214,93,38,195,110,179,137,118,124,214,238,202,196,111,214,29,89,10,177,161,225,228,30,20,243,129,121,168,75,215,105,203,19,178,14,119,171,92,161,194,185,57,198,126,1,128,254,169,156,229,153,21,36,11,54,160,54,110,81,28,142,167,22,102,134,194,113,218,62,44,222,111,44,73,185,211,148,240,129,4,9,149,230,184,177,123,73,13,163,30,46,177,27,72,62,210,67,45,89,110,251,195,246,219,233,166,145,103,81,31,169,176,204,122,206,12,116,148,97,185,102,241,6,5,222,0,0,0,0,119,7,48,150,238,14,97,44,153,9,81,186,7,109,196,25,112,106,244,143,233,99,165,53,158,100,149,163,14,219,136,50,121,220,184,164,224,213,233,30,151,210,217,136,9,182,76,43,126,177,124,189,231,184,45,7,144,191,29,145,29,183,16,100,106,176,32,242,243,185,113,72,132,190,65,222,26,218,212,125,109,221,228,235,244,212,181,81,131,211,133,199,19,108,152,86,100,107,168,192,253,98,249,122,138,101,201,236,20,1,92,79,99,6,108,217,250,15,61,99,141,8,13,245,59,110,32,200,76,105,16,94,213,96,65,228,162,103,113,114,60,3,228,209,75,4,212,71,210,13,133,253,165,10,181,107,53,181,168,250,66,178,152,108,219,187,201,214,172,188,249,64,50,216,108,227,69,223,92,117,220,214,13,207,171,209,61,89,38,217,48,172,81,222,0,58,200,215,81,128,191,208,97,22,33,180,244,181,86,179,196,35,207,186,149,153,184,189,165,15,40,2,184,158,95,5,136,8,198,12,217,178,177,11,233,36,47,111,124,135,88,104,76,17,193,97,29,171,182,102,45,61,118,220,65,144,1,219,113,6,152,210,32,188,239,213,16,42,113,177,133,137,6,182,181,31,159,191,228,165,232,184,212,51,120,7,201,162,15,0,249,52,150,9,168,142,225,14,152,24,127,106,13,187,8,109,61,45,145,100,108,151,230,99,92,1,107,107,81,244,28,108,97,98,133,101,48,216,242,98,0,78,108,6,149,237,27,1,165,123,130,8,244,193,245,15,196,87,101,176,217,198,18,183,233,80,139,190,184,234,252,185,136,124,98,221,29,223,21,218,45,73,140,211,124,243,251,212,76,101,77,178,97,88,58,181,81,206,163,188,0,116,212,187,48,226,74,223,165,65,61,216,149,215,164,209,196,109,211,214,244,251,67,105,233,106,52,110,217,252,173,103,136,70,218,96,184,208,68,4,45,115,51,3,29,229,170,10,76,95,221,13,124,201,80,5,113,60,39,2,65,170,190,11,16,16,201,12,32,134,87,104,181,37,32,111,133,179,185,102,212,9,206,97,228,159,94,222,249,14,41,217,201,152,176,208,152,34,199,215,168,180,89,179,61,23,46,180,13,129,183,189,92,59,192,186,108,173,237,184,131,32,154,191,179,182,3,182,226,12,116,177,210,154,234,213,71,57,157,210,119,175,4,219,38,21,115,220,22,131,227,99,11,18,148,100,59,132,13,109,106,62,122,106,90,168,228,14,207,11,147,9,255,157,10,0,174,39,125,7,158,177,240,15,147,68,135,8,163,210,30,1,242,104,105,6,194,254,247,98,87,93,128,101,103,203,25,108,54,113,110,107,6,231,254,212,27,118,137,211,43,224,16,218,122,90,103,221,74,204,249,185,223,111,142,190,239,249,23,183,190,67,96,176,142,213,214,214,163,232,161,209,147,126,56,216,194,196,79,223,242,82,209,187,103,241,166,188,87,103,63,181,6,221,72,178,54,75,216,13,43,218,175,10,27,76,54,3,74,246,65,4,122,96,223,96,239,195,168,103,223,85,49,110,142,239,70,105,190,121,203,97,179,140,188,102,131,26,37,111,210,160,82,104,226,54,204,12,119,149,187,11,71,3,34,2,22,185,85,5,38,47,197,186,59,190,178,189,11,40,43,180,90,146,92,179,106,4,194,215,255,167,181,208,207,49,44,217,158,139,91,222,174,29,155,100,194,176,236,99,242,38,117,106,163,156,2,109,147,10,156,9,6,169,235,14,54,63,114,7,103,133,5,0,87,19,149,191,74,130,226,184,122,20,123,177,43,174,12,182,27,56,146,210,142,155,229,213,190,13,124,220,239,183,11,219,223,33,134,211,210,212,241,212,226,66,104,221,179,248,31,218,131,110,129,190,22,205,246,185,38,91,111,176,119,225,24,183,71,119,136,8,90,230,255,15,106,112,102,6,59,202,17,1,11,92,143,101,158,255,248,98,174,105,97,107,255,211,22,108,207,69,160,10,226,120,215,13,210,238,78,4,131,84,57,3,179,194,167,103,38,97,208,96,22,247,73,105,71,77,62,110,119,219,174,209,106,74,217,214,90,220,64,223,11,102,55,216,59,240,169,188,174,83,222,187,158,197,71,178,207,127,48,181,255,233,189,189,242,28,202,186,194,138,83,179,147,48,36,180,163,166,186,208,54,5,205,215,6,147,84,222,87,41,35,217,103,191,179,102,122,46,196,97,74,184,93,104,27,2,42,111,43,148,180,11,190,55,195,12,142,161,90,5,223,27,45,2,239,141,0,0,0,0,25,27,49,65,50,54,98,130,43,45,83,195,100,108,197,4,125,119,244,69,86,90,167,134,79,65,150,199,200,217,138,8,209,194,187,73,250,239,232,138,227,244,217,203,172,181,79,12,181,174,126,77,158,131,45,142,135,152,28,207,74,194,18,81,83,217,35,16,120,244,112,211,97,239,65,146,46,174,215,85,55,181,230,20,28,152,181,215,5,131,132,150,130,27,152,89,155,0,169,24,176,45,250,219,169,54,203,154,230,119,93,93,255,108,108,28,212,65,63,223,205,90,14,158,149,132,36,162,140,159,21,227,167,178,70,32,190,169,119,97,241,232,225,166,232,243,208,231,195,222,131,36,218,197,178,101,93,93,174,170,68,70,159,235,111,107,204,40,118,112,253,105,57,49,107,174,32,42,90,239,11,7,9,44,18,28,56,109,223,70,54,243,198,93,7,178,237,112,84,113,244,107,101,48,187,42,243,247,162,49,194,182,137,28,145,117,144,7,160,52,23,159,188,251,14,132,141,186,37,169,222,121,60,178,239,56,115,243,121,255,106,232,72,190,65,197,27,125,88,222,42,60,240,121,79,5,233,98,126,68,194,79,45,135,219,84,28,198,148,21,138,1,141,14,187,64,166,35,232,131,191,56,217,194,56,160,197,13,33,187,244,76,10,150,167,143,19,141,150,206,92,204,0,9,69,215,49,72,110,250,98,139,119,225,83,202,186,187,93,84,163,160,108,21,136,141,63,214,145,150,14,151,222,215,152,80,199,204,169,17,236,225,250,210,245,250,203,147,114,98,215,92,107,121,230,29,64,84,181,222,89,79,132,159,22,14,18,88,15,21,35,25,36,56,112,218,61,35,65,155,101,253,107,167,124,230,90,230,87,203,9,37,78,208,56,100,1,145,174,163,24,138,159,226,51,167,204,33,42,188,253,96,173,36,225,175,180,63,208,238,159,18,131,45,134,9,178,108,201,72,36,171,208,83,21,234,251,126,70,41,226,101,119,104,47,63,121,246,54,36,72,183,29,9,27,116,4,18,42,53,75,83,188,242,82,72,141,179,121,101,222,112,96,126,239,49,231,230,243,254,254,253,194,191,213,208,145,124,204,203,160,61,131,138,54,250,154,145,7,187,177,188,84,120,168,167,101,57,59,131,152,75,34,152,169,10,9,181,250,201,16,174,203,136,95,239,93,79,70,244,108,14,109,217,63,205,116,194,14,140,243,90,18,67,234,65,35,2,193,108,112,193,216,119,65,128,151,54,215,71,142,45,230,6,165,0,181,197,188,27,132,132,113,65,138,26,104,90,187,91,67,119,232,152,90,108,217,217,21,45,79,30,12,54,126,95,39,27,45,156,62,0,28,221,185,152,0,18,160,131,49,83,139,174,98,144,146,181,83,209,221,244,197,22,196,239,244,87,239,194,167,148,246,217,150,213,174,7,188,233,183,28,141,168,156,49,222,107,133,42,239,42,202,107,121,237,211,112,72,172,248,93,27,111,225,70,42,46,102,222,54,225,127,197,7,160,84,232,84,99,77,243,101,34,2,178,243,229,27,169,194,164,48,132,145,103,41,159,160,38,228,197,174,184,253,222,159,249,214,243,204,58,207,232,253,123,128,169,107,188,153,178,90,253,178,159,9,62,171,132,56,127,44,28,36,176,53,7,21,241,30,42,70,50,7,49,119,115,72,112,225,180,81,107,208,245,122,70,131,54,99,93,178,119,203,250,215,78,210,225,230,15,249,204,181,204,224,215,132,141,175,150,18,74,182,141,35,11,157,160,112,200,132,187,65,137,3,35,93,70,26,56,108,7,49,21,63,196,40,14,14,133,103,79,152,66,126,84,169,3,85,121,250,192,76,98,203,129,129,56,197,31,152,35,244,94,179,14,167,157,170,21,150,220,229,84,0,27,252,79,49,90,215,98,98,153,206,121,83,216,73,225,79,23,80,250,126,86,123,215,45,149,98,204,28,212,45,141,138,19,52,150,187,82,31,187,232,145,6,160,217,208,94,126,243,236,71,101,194,173,108,72,145,110,117,83,160,47,58,18,54,232,35,9,7,169,8,36,84,106,17,63,101,43,150,167,121,228,143,188,72,165,164,145,27,102,189,138,42,39,242,203,188,224,235,208,141,161,192,253,222,98,217,230,239,35,20,188,225,189,13,167,208,252,38,138,131,63,63,145,178,126,112,208,36,185,105,203,21,248,66,230,70,59,91,253,119,122,220,101,107,181,197,126,90,244,238,83,9,55,247,72,56,118,184,9,174,177,161,18,159,240,138,63,204,51,147,36,253,114,0,0,0,0,1,194,106,55,3,132,212,110,2,70,190,89,7,9,168,220,6,203,194,235,4,141,124,178,5,79,22,133,14,19,81,184,15,209,59,143,13,151,133,214,12,85,239,225,9,26,249,100,8,216,147,83,10,158,45,10,11,92,71,61,28,38,163,112,29,228,201,71,31,162,119,30,30,96,29,41,27,47,11,172,26,237,97,155,24,171,223,194,25,105,181,245,18,53,242,200,19,247,152,255,17,177,38,166,16,115,76,145,21,60,90,20,20,254,48,35,22,184,142,122,23,122,228,77,56,77,70,224,57,143,44,215,59,201,146,142,58,11,248,185,63,68,238,60,62,134,132,11,60,192,58,82,61,2,80,101,54,94,23,88,55,156,125,111,53,218,195,54,52,24,169,1,49,87,191,132,48,149,213,179,50,211,107,234,51,17,1,221,36,107,229,144,37,169,143,167,39,239,49,254,38,45,91,201,35,98,77,76,34,160,39,123,32,230,153,34,33,36,243,21,42,120,180,40,43,186,222,31,41,252,96,70,40,62,10,113,45,113,28,244,44,179,118,195,46,245,200,154,47,55,162,173,112,154,141,192,113,88,231,247,115,30,89,174,114,220,51,153,119,147,37,28,118,81,79,43,116,23,241,114,117,213,155,69,126,137,220,120,127,75,182,79,125,13,8,22,124,207,98,33,121,128,116,164,120,66,30,147,122,4,160,202,123,198,202,253,108,188,46,176,109,126,68,135,111,56,250,222,110,250,144,233,107,181,134,108,106,119,236,91,104,49,82,2,105,243,56,53,98,175,127,8,99,109,21,63,97,43,171,102,96,233,193,81,101,166,215,212,100,100,189,227,102,34,3,186,103,224,105,141,72,215,203,32,73,21,161,23,75,83,31,78,74,145,117,121,79,222,99,252,78,28,9,203,76,90,183,146,77,152,221,165,70,196,154,152,71,6,240,175,69,64,78,246,68,130,36,193,65,205,50,68,64,15,88,115,66,73,230,42,67,139,140,29,84,241,104,80,85,51,2,103,87,117,188,62,86,183,214,9,83,248,192,140,82,58,170,187,80,124,20,226,81,190,126,213,90,226,57,232,91,32,83,223,89,102,237,134,88,164,135,177,93,235,145,52,92,41,251,3,94,111,69,90,95,173,47,109,225,53,27,128,224,247,113,183,226,177,207,238,227,115,165,217,230,60,179,92,231,254,217,107,229,184,103,50,228,122,13,5,239,38,74,56,238,228,32,15,236,162,158,86,237,96,244,97,232,47,226,228,233,237,136,211,235,171,54,138,234,105,92,189,253,19,184,240,252,209,210,199,254,151,108,158,255,85,6,169,250,26,16,44,251,216,122,27,249,158,196,66,248,92,174,117,243,0,233,72,242,194,131,127,240,132,61,38,241,70,87,17,244,9,65,148,245,203,43,163,247,141,149,250,246,79,255,205,217,120,93,96,216,186,55,87,218,252,137,14,219,62,227,57,222,113,245,188,223,179,159,139,221,245,33,210,220,55,75,229,215,107,12,216,214,169,102,239,212,239,216,182,213,45,178,129,208,98,164,4,209,160,206,51,211,230,112,106,210,36,26,93,197,94,254,16,196,156,148,39,198,218,42,126,199,24,64,73,194,87,86,204,195,149,60,251,193,211,130,162,192,17,232,149,203,77,175,168,202,143,197,159,200,201,123,198,201,11,17,241,204,68,7,116,205,134,109,67,207,192,211,26,206,2,185,45,145,175,150,64,144,109,252,119,146,43,66,46,147,233,40,25,150,166,62,156,151,100,84,171,149,34,234,242,148,224,128,197,159,188,199,248,158,126,173,207,156,56,19,150,157,250,121,161,152,181,111,36,153,119,5,19,155,49,187,74,154,243,209,125,141,137,53,48,140,75,95,7,142,13,225,94,143,207,139,105,138,128,157,236,139,66,247,219,137,4,73,130,136,198,35,181,131,154,100,136,130,88,14,191,128,30,176,230,129,220,218,209,132,147,204,84,133,81,166,99,135,23,24,58,134,213,114,13,169,226,208,160,168,32,186,151,170,102,4,206,171,164,110,249,174,235,120,124,175,41,18,75,173,111,172,18,172,173,198,37,167,241,129,24,166,51,235,47,164,117,85,118,165,183,63,65,160,248,41,196,161,58,67,243,163,124,253,170,162,190,151,157,181,196,115,208,180,6,25,231,182,64,167,190,183,130,205,137,178,205,219,12,179,15,177,59,177,73,15,98,176,139,101,85,187,215,34,104,186,21,72,95,184,83,246,6,185,145,156,49,188,222,138,180,189,28,224,131,191,90,94,218,190,152,52,237,0,0,0,0,184,188,103,101,170,9,200,139,18,181,175,238,143,98,151,87,55,222,240,50,37,107,95,220,157,215,56,185,197,180,40,239,125,8,79,138,111,189,224,100,215,1,135,1,74,214,191,184,242,106,216,221,224,223,119,51,88,99,16,86,80,25,87,159,232,165,48,250,250,16,159,20,66,172,248,113,223,123,192,200,103,199,167,173,117,114,8,67,205,206,111,38,149,173,127,112,45,17,24,21,63,164,183,251,135,24,208,158,26,207,232,39,162,115,143,66,176,198,32,172,8,122,71,201,160,50,175,62,24,142,200,91,10,59,103,181,178,135,0,208,47,80,56,105,151,236,95,12,133,89,240,226,61,229,151,135,101,134,135,209,221,58,224,180,207,143,79,90,119,51,40,63,234,228,16,134,82,88,119,227,64,237,216,13,248,81,191,104,240,43,248,161,72,151,159,196,90,34,48,42,226,158,87,79,127,73,111,246,199,245,8,147,213,64,167,125,109,252,192,24,53,159,208,78,141,35,183,43,159,150,24,197,39,42,127,160,186,253,71,25,2,65,32,124,16,244,143,146,168,72,232,247,155,20,88,61,35,168,63,88,49,29,144,182,137,161,247,211,20,118,207,106,172,202,168,15,190,127,7,225,6,195,96,132,94,160,112,210,230,28,23,183,244,169,184,89,76,21,223,60,209,194,231,133,105,126,128,224,123,203,47,14,195,119,72,107,203,13,15,162,115,177,104,199,97,4,199,41,217,184,160,76,68,111,152,245,252,211,255,144,238,102,80,126,86,218,55,27,14,185,39,77,182,5,64,40,164,176,239,198,28,12,136,163,129,219,176,26,57,103,215,127,43,210,120,145,147,110,31,244,59,38,247,3,131,154,144,102,145,47,63,136,41,147,88,237,180,68,96,84,12,248,7,49,30,77,168,223,166,241,207,186,254,146,223,236,70,46,184,137,84,155,23,103,236,39,112,2,113,240,72,187,201,76,47,222,219,249,128,48,99,69,231,85,107,63,160,156,211,131,199,249,193,54,104,23,121,138,15,114,228,93,55,203,92,225,80,174,78,84,255,64,246,232,152,37,174,139,136,115,22,55,239,22,4,130,64,248,188,62,39,157,33,233,31,36,153,85,120,65,139,224,215,175,51,92,176,202,237,89,182,59,85,229,209,94,71,80,126,176,255,236,25,213,98,59,33,108,218,135,70,9,200,50,233,231,112,142,142,130,40,237,158,212,144,81,249,177,130,228,86,95,58,88,49,58,167,143,9,131,31,51,110,230,13,134,193,8,181,58,166,109,189,64,225,164,5,252,134,193,23,73,41,47,175,245,78,74,50,34,118,243,138,158,17,150,152,43,190,120,32,151,217,29,120,244,201,75,192,72,174,46,210,253,1,192,106,65,102,165,247,150,94,28,79,42,57,121,93,159,150,151,229,35,241,242,77,107,25,5,245,215,126,96,231,98,209,142,95,222,182,235,194,9,142,82,122,181,233,55,104,0,70,217,208,188,33,188,136,223,49,234,48,99,86,143,34,214,249,97,154,106,158,4,7,189,166,189,191,1,193,216,173,180,110,54,21,8,9,83,29,114,78,154,165,206,41,255,183,123,134,17,15,199,225,116,146,16,217,205,42,172,190,168,56,25,17,70,128,165,118,35,216,198,102,117,96,122,1,16,114,207,174,254,202,115,201,155,87,164,241,34,239,24,150,71,253,173,57,169,69,17,94,204,118,77,238,6,206,241,137,99,220,68,38,141,100,248,65,232,249,47,121,81,65,147,30,52,83,38,177,218,235,154,214,191,179,249,198,233,11,69,161,140,25,240,14,98,161,76,105,7,60,155,81,190,132,39,54,219,150,146,153,53,46,46,254,80,38,84,185,153,158,232,222,252,140,93,113,18,52,225,22,119,169,54,46,206,17,138,73,171,3,63,230,69,187,131,129,32,227,224,145,118,91,92,246,19,73,233,89,253,241,85,62,152,108,130,6,33,212,62,97,68,198,139,206,170,126,55,169,207,214,127,65,56,110,195,38,93,124,118,137,179,196,202,238,214,89,29,214,111,225,161,177,10,243,20,30,228,75,168,121,129,19,203,105,215,171,119,14,178,185,194,161,92,1,126,198,57,156,169,254,128,36,21,153,229,54,160,54,11,142,28,81,110,134,102,22,167,62,218,113,194,44,111,222,44,148,211,185,73,9,4,129,240,177,184,230,149,163,13,73,123,27,177,46,30,67,210,62,72,251,110,89,45,233,219,246,195,81,103,145,166,204,176,169,31,116,12,206,122,102,185,97,148,222,5,6,241,96,7,0,0,0,8,80,0,0,8,16,0,20,8,115,0,18,7,31,0,0,8,112,0,0,8,48,0,0,9,192,0,16,7,10,0,0,8,96,0,0,8,32,0,0,9,160,0,0,8,0,0,0,8,128,0,0,8,64,0,0,9,224,0,16,7,6,0,0,8,88,0,0,8,24,0,0,9,144,0,19,7,59,0,0,8,120,0,0,8,56,0,0,9,208,0,17,7,17,0,0,8,104,0,0,8,40,0,0,9,176,0,0,8,8,0,0,8,136,0,0,8,72,0,0,9,240,0,16,7,4,0,0,8,84,0,0,8,20,0,21,8,227,0,19,7,43,0,0,8,116,0,0,8,52,0,0,9,200,0,17,7,13,0,0,8,100,0,0,8,36,0,0,9,168,0,0,8,4,0,0,8,132,0,0,8,68,0,0,9,232,0,16,7,8,0,0,8,92,0,0,8,28,0,0,9,152,0,20,7,83,0,0,8,124,0,0,8,60,0,0,9,216,0,18,7,23,0,0,8,108,0,0,8,44,0,0,9,184,0,0,8,12,0,0,8,140,0,0,8,76,0,0,9,248,0,16,7,3,0,0,8,82,0,0,8,18,0,21,8,163,0,19,7,35,0,0,8,114,0,0,8,50,0,0,9,196,0,17,7,11,0,0,8,98,0,0,8,34,0,0,9,164,0,0,8,2,0,0,8,130,0,0,8,66,0,0,9,228,0,16,7,7,0,0,8,90,0,0,8,26,0,0,9,148,0,20,7,67,0,0,8,122,0,0,8,58,0,0,9,212,0,18,7,19,0,0,8,106,0,0,8,42,0,0,9,180,0,0,8,10,0,0,8,138,0,0,8,74,0,0,9,244,0,16,7,5,0,0,8,86,0,0,8,22,0,64,8,0,0,19,7,51,0,0,8,118,0,0,8,54,0,0,9,204,0,17,7,15,0,0,8,102,0,0,8,38,0,0,9,172,0,0,8,6,0,0,8,134,0,0,8,70,0,0,9,236,0,16,7,9,0,0,8,94,0,0,8,30,0,0,9,156,0,20,7,99,0,0,8,126,0,0,8,62,0,0,9,220,0,18,7,27,0,0,8,110,0,0,8,46,0,0,9,188,0,0,8,14,0,0,8,142,0,0,8,78,0,0,9,252,0,96,7,0,0,0,8,81,0,0,8,17,0,21,8,131,0,18,7,31,0,0,8,113,0,0,8,49,0,0,9,194,0,16,7,10,0,0,8,97,0,0,8,33,0,0,9,162,0,0,8,1,0,0,8,129,0,0,8,65,0,0,9,226,0,16,7,6,0,0,8,89,0,0,8,25,0,0,9,146,0,19,7,59,0,0,8,121,0,0,8,57,0,0,9,210,0,17,7,17,0,0,8,105,0,0,8,41,0,0,9,178,0,0,8,9,0,0,8,137,0,0,8,73,0,0,9,242,0,16,7,4,0,0,8,85,0,0,8,21,0,16,8,2,1,19,7,43,0,0,8,117,0,0,8,53,0,0,9,202,0,17,7,13,0,0,8,101,0,0,8,37,0,0,9,170,0,0,8,5,0,0,8,133,0,0,8,69,0,0,9,234,0,16,7,8,0,0,8,93,0,0,8,29,0,0,9,154,0,20,7,83,0,0,8,125,0,0,8,61,0,0,9,218,0,18,7,23,0,0,8,109,0,0,8,45,0,0,9,186,0,0,8,13,0,0,8,141,0,0,8,77,0,0,9,250,0,16,7,3,0,0,8,83,0,0,8,19,0,21,8,195,0,19,7,35,0,0,8,115,0,0,8,51,0,0,9,198,0,17,7,11,0,0,8,99,0,0,8,35,0,0,9,166,0,0,8,3,0,0,8,131,0,0,8,67,0,0,9,230,0,16,7,7,0,0,8,91,0,0,8,27,0,0,9,150,0,20,7,67,0,0,8,123,0,0,8,59,0,0,9,214,0,18,7,19,0,0,8,107,0,0,8,43,0,0,9,182,0,0,8,11,0,0,8,139,0,0,8,75,0,0,9,246,0,16,7,5,0,0,8,87,0,0,8,23,0,64,8,0,0,19,7,51,0,0,8,119,0,0,8,55,0,0,9,206,0,17,7,15,0,0,8,103,0,0,8,39,0,0,9,174,0,0,8,7,0,0,8,135,0,0,8,71,0,0,9,238,0,16,7,9,0,0,8,95,0,0,8,31,0,0,9,158,0,20,7,99,0,0,8,127,0,0,8,63,0,0,9,222,0,18,7,27,0,0,8,111,0,0,8,47,0,0,9,190,0,0,8,15,0,0,8,143,0,0,8,79,0,0,9,254,0,96,7,0,0,0,8,80,0,0,8,16,0,20,8,115,0,18,7,31,0,0,8,112,0,0,8,48,0,0,9,193,0,16,7,10,0,0,8,96,0,0,8,32,0,0,9,161,0,0,8,0,0,0,8,128,0,0,8,64,0,0,9,225,0,16,7,6,0,0,8,88,0,0,8,24,0,0,9,145,0,19,7,59,0,0,8,120,0,0,8,56,0,0,9,209,0,17,7,17,0,0,8,104,0,0,8,40,0,0,9,177,0,0,8,8,0,0,8,136,0,0,8,72,0,0,9,241,0,16,7,4,0,0,8,84,0,0,8,20,0,21,8,227,0,19,7,43,0,0,8,116,0,0,8,52,0,0,9,201,0,17,7,13,0,0,8,100,0,0,8,36,0,0,9,169,0,0,8,4,0,0,8,132,0,0,8,68,0,0,9,233,0,16,7,8,0,0,8,92,0,0,8,28,0,0,9,153,0,20,7,83,0,0,8,124,0,0,8,60,0,0,9,217,0,18,7,23,0,0,8,108,0,0,8,44,0,0,9,185,0,0,8,12,0,0,8,140,0,0,8,76,0,0,9,249,0,16,7,3,0,0,8,82,0,0,8,18,0,21,8,163,0,19,7,35,0,0,8,114,0,0,8,50,0,0,9,197,0,17,7,11,0,0,8,98],"i8",4,B.j),
M([8,34,0,0,9,165,0,0,8,2,0,0,8,130,0,0,8,66,0,0,9,229,0,16,7,7,0,0,8,90,0,0,8,26,0,0,9,149,0,20,7,67,0,0,8,122,0,0,8,58,0,0,9,213,0,18,7,19,0,0,8,106,0,0,8,42,0,0,9,181,0,0,8,10,0,0,8,138,0,0,8,74,0,0,9,245,0,16,7,5,0,0,8,86,0,0,8,22,0,64,8,0,0,19,7,51,0,0,8,118,0,0,8,54,0,0,9,205,0,17,7,15,0,0,8,102,0,0,8,38,0,0,9,173,0,0,8,6,0,0,8,134,0,0,8,70,0,0,9,237,0,16,7,9,0,0,8,94,0,0,8,30,0,0,9,157,0,20,7,99,0,0,8,126,0,0,8,62,0,0,9,221,0,18,7,27,0,0,8,110,0,0,8,46,0,0,9,189,0,0,8,14,0,0,8,142,0,0,8,78,0,0,9,253,0,96,7,0,0,0,8,81,0,0,8,17,0,21,8,131,0,18,7,31,0,0,8,113,0,0,8,49,0,0,9,195,0,16,7,10,0,0,8,97,0,0,8,33,0,0,9,163,0,0,8,1,0,0,8,129,0,0,8,65,0,0,9,227,0,16,7,6,0,0,8,89,0,0,8,25,0,0,9,147,0,19,7,59,0,0,8,121,0,0,8,57,0,0,9,211,0,17,7,17,0,0,8,105,0,0,8,41,0,0,9,179,0,0,8,9,0,0,8,137,0,0,8,73,0,0,9,243,0,16,7,4,0,0,8,85,0,0,8,21,0,16,8,2,1,19,7,43,0,0,8,117,0,0,8,53,0,0,9,203,0,17,7,13,0,0,8,101,0,0,8,37,0,0,9,171,0,0,8,5,0,0,8,133,0,0,8,69,0,0,9,235,0,16,7,8,0,0,8,93,0,0,8,29,0,0,9,155,0,20,7,83,0,0,8,125,0,0,8,61,0,0,9,219,0,18,7,23,0,0,8,109,0,0,8,45,0,0,9,187,0,0,8,13,0,0,8,141,0,0,8,77,0,0,9,251,0,16,7,3,0,0,8,83,0,0,8,19,0,21,8,195,0,19,7,35,0,0,8,115,0,0,8,51,0,0,9,199,0,17,7,11,0,0,8,99,0,0,8,35,0,0,9,167,0,0,8,3,0,0,8,131,0,0,8,67,0,0,9,231,0,16,7,7,0,0,8,91,0,0,8,27,0,0,9,151,0,20,7,67,0,0,8,123,0,0,8,59,0,0,9,215,0,18,7,19,0,0,8,107,0,0,8,43,0,0,9,183,0,0,8,11,0,0,8,139,0,0,8,75,0,0,9,247,0,16,7,5,0,0,8,87,0,0,8,23,0,64,8,0,0,19,7,51,0,0,8,119,0,0,8,55,0,0,9,207,0,17,7,15,0,0,8,103,0,0,8,39,0,0,9,175,0,0,8,7,0,0,8,135,0,0,8,71,0,0,9,239,0,16,7,9,0,0,8,95,0,0,8,31,0,0,9,159,0,20,7,99,0,0,8,127,0,0,8,63,0,0,9,223,0,18,7,27,0,0,8,111,0,0,8,47,0,0,9,191,0,0,8,15,0,0,8,143,0,0,8,79,0,0,9,255,0,16,5,1,0,23,5,1,1,19,5,17,0,27,5,1,16,17,5,5,0,25,5,1,4,21,5,65,0,29,5,1,64,16,5,3,0,24,5,1,2,20,5,33,0,28,5,1,32,18,5,9,0,26,5,1,8,22,5,129,0,64,5,0,0,16,5,2,0,23,5,129,1,19,5,25,0,27,5,1,24,17,5,7,0,25,5,1,6,21,5,97,0,29,5,1,96,16,5,4,0,24,5,1,3,20,5,49,0,28,5,1,48,18,5,13,0,26,5,1,12,22,5,193,0,64,5,0,0,16,0,17,0,18,0,0,0,8,0,7,0,9,0,6,0,10,0,5,0,11,0,4,0,12,0,3,0,13,0,2,0,14,0,1,0,15,0,3,0,4,0,5,0,6,0,7,0,8,0,9,0,10,0,11,0,13,0,15,0,17,0,19,0,23,0,27,0,31,0,35,0,43,0,51,0,59,0,67,0,83,0,99,0,115,0,131,0,163,0,195,0,227,0,2,1,0,0,0,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,17,0,17,0,17,0,17,0,18,0,18,0,18,0,18,0,19,0,19,0,19,0,19,0,20,0,20,0,20,0,20,0,21,0,21,0,21,0,21,0,16,0,72,0,78,0,1,0,2,0,3,0,4,0,5,0,7,0,9,0,13,0,17,0,25,0,33,0,49,0,65,0,97,0,129,0,193,0,1,1,129,1,1,2,1,3,1,4,1,6,1,8,1,12,1,16,1,24,1,32,1,48,1,64,1,96,0,0,0,0,16,0,16,0,16,0,16,0,17,0,17,0,18,0,18,0,19,0,19,0,20,0,20,0,21,0,21,0,22,0,22,0,23,0,23,0,24,0,24,0,25,0,25,0,26,0,26,0,27,0,27,0,28,0,28,0,29,0,29,0,64,0,64,0,12,0,8,0,140,0,8,0,76,0,8,0,204,0,8,0,44,0,8,0,172,0,8,0,108,0,8,0,236,0,8,0,28,0,8,0,156,0,8,0,92,0,8,0,220,0,8,0,60,0,8,0,188,0,8,0,124,0,8,0,252,0,8,0,2,0,8,0,130,0,8,0,66,0,8,0,194,0,8,0,34,0,8,0,162,0,8,0,98,0,8,0,226,0,8,0,18,0,8,0,146,0,8,0,82,0,8,0,210,0,8,0,50,0,8,0,178,0,8,0,114,0,8,0,242,0,8,0,10,0,8,0,138,0,8,0,74,0,8,0,202,0,8,0,42,0,8,0,170,0,8,0,106,0,8,0,234,0,8,0,26,0,8,0,154,0,8,0,90,0,8,0,218,0,8,0,58,0,8,0,186,0,8,0,122,0,8,0,250,0,8,0,6,0,8,0,134,0,8,0,70,0,8,0,198,0,8,0,38,0,8,0,166,0,8,0,102,0,8,0,230,0,8,0,22,0,8,0,150,0,8,0,86,0,8,0,214,0,8,0,54,0,8,0,182,0,8,0,118,0,8,0,246,0,8,0,14,0,8,0,142,0,8,0,78,0,8,0,206,0,8,0,46,0,8,0,174,0,8,0,110,0,8,0,238,0,8,0,30,0,8,0,158,0,8,0,94,0,8,0,222,0,8,0,62,0,8,0,190,0,8,0,126,0,8,0,254,0,8,0,1,0,8,0,129,0,8,0,65,0,8,0,193,0,8,0,33,0,8,0,161,0,8,0,97,0,8,0,225,0,8,0,17,0,8,0,145,0,8,0,81,0,8,0,209,0,8,0,49,0,8,0,177,0,8,0,113,0,8,0,241,0,8,0,9,0,8,0,137,0,8,0,73,0,8,0,201,0,8,0,41,0,8,0,169,0,8,0,105,0,8,0,233,0,8,0,25,0,8,0,153,0,8,0,89,0,8,0,217,0,8,0,57,0,8,0,185,0,8,0,121,0,8,0,249,0,8,0,5,0,8,0,133,0,8,0,69,0,8,0,197,0,8,0,37,0,8,0,165,0,8,0,101,0,8,0,229,0,8,0,21,0,8,0,149,0,8,0,85,0,8,0,213,0,8,0,53,0,8,0,181,0,8,0,117,0,8,0,245,0,8,0,13,0,8,0,141,0,8,0,77,0,8,0,205,0,8,0,45,0,8,0,173,0,8,0,109,0,8,0,237,0,8,0,29,0,8,0,157,0,8,0,93,0,8,0,221,0,8,0,61,0,8,0,189,0,8,0,125,0,8,0,253,0,8,0,19,0,9,0,19,1,9,0,147,0,9,0,147,1,9,0,83,0,9,0,83,1,9,0,211,0,9,0,211,1,9,0,51,0,9,0,51,1,9,0,179,0,9,0,179,1,9,0,115,0,9,0,115,1,9,0,243,0,9,0,243,1,9,0,11,0,9,0,11,1,9,0,139,0,9,0,139,1,9,0,75,0,9,0,75,1,9,0,203,0,9,0,203,1,9,0,43,0,9,0,43,1,9,0,171,0,9,0,171,1,9,0,107,0,9,0,107,1,9,0,235,0,9,0,235,1,9,0,27,0,9,0,27,1,9,0,155,0,9,0,155,1,9,0,91,0,9,0,91,1,9,0,219,0,9,0,219,1,9,0,59,0,9,0,59,1,9,0,187,0,9,0,187,1,9,0,123,0,9,0,123,1,9,0,251,0,9,0,251,1,9,0,7,0,9,0,7,1,9,0,135,0,9,0,135,1,9,0,71,0,9,0,71,1,9,0,199,0,9,0,199,1,9,0,39,0,9,0,39,1,9,0,167,0,9,0,167,1,9,0,103,0,9,0,103,1,9,0,231,0,9,0,231,1,9,0,23,0,9,0,23,1,9,0,151,0,9,0,151,1,9,0,87,0,9,0,87,1,9,0,215,0,9,0,215,1,9,0,55,0,9,0,55,1,9,0,183,0,9,0,183,1,9,0,119,0,9,0,119,1,9,0,247,0,9,0,247,1,9,0,15,0,9,0,15,1,9,0,143,0,9,0,143,1,9,0,79,0,9,0,79,1,9,0,207,0,9,0,207,1,9,0,47,0,9,0,47,1,9,0,175,0,9,0,175,1,9,0,111,0,9,0,111,1,9,0,239,0,9,0,239,1,9,0,31,0,9,0,31,1,9,0,159,0,9,0,159,1,9,0,95,0,9,0,95,1,9,0,223,0,9,0,223,1,9,0,63,0,9,0,63,1,9,0,191,0,9,0,191,1,9,0,127,0,9,0,127,1,9,0,255,0,9,0,255,1,9,0,0,0,7,0,64,0,7,0,32,0,7,0,96,0,7,0,16,0,7,0,80,0,7,0,48,0,7,0,112,0,7,0,8,0,7,0,72,0,7,0,40,0,7,0,104,0,7,0,24,0,7,0,88,0,7,0,56,0,7,0,120,0,7,0,4,0,7,0,68,0,7,0,36,0,7,0,100,0,7,0,20,0,7,0,84,0,7,0,52,0,7,0,116,0,7,0,3,0,8,0,131,0,8,0,67,0,8,0,195,0,8,0,35,0,8,0,163,0,8,0,99,0,8,0,227,0,8,0,0,0,5,0,16,0,5,0,8,0,5,0,24,0,5,0,4,0,5,0,20,0,5,0,12,0,5,0,28,0,5,0,2,0,5,0,18,0,5,0,10,0,5,0,26,0,5,0,6,0,5,0,22,0,5,0,14,0,5,0,30,0,5,0,1,0,5,0,17,0,5,0,9,0,5,0,25,0,5,0,5,0,5,0,21,0,5,0,13,0,5,0,29,0,5,0,3,0,5,0,19,0,5,0,11,0,5,0,27,0,5,0,7,0,5,0,23,0,5,0,123,114,101,116,117,114,110,32,90,76,73,66,74,83,95,114,101,97,100,40,36,48,44,32,36,49,44,32,36,50,41,125,0,123,90,76,73,66,74,83,95,119,114,105,116,101,40,36,48,44,32,36,49,44,32,36,50,41,125,0,49,46,50,46,56,0,105,110,99,111,114,114,101,99,116,32,104,101,97,100,101,114,32,99,104,101,99,107,0,117,110,107,110,111,119,110,32,99,111,109,112,114,101,115,115,105,111,110,32,109,101,116,104,111,100,0,105,110,118,97,108,105,100,32,119,105,110,100,111,119,32,115,105,122,101,0,117,110,107,110,111,119,110,32,104,101,97,100,101,114,32,102,108,97,103,115,32,115,101,116,0,104,101,97,100,101,114,32,99,114,99,32,109,105,115,109,97,116,99,104,0,105,110,118,97,108,105,100,32,98,108,111,99,107,32,116,121,112,101,0,105,110,118,97,108,105,100,32,115,116,111,114,101,100,32,98,108,111,99,107,32,108,101,110,103,116,104,115,0,116,111,111,32,109,97,110,121,32,108,101,110,103,116,104,32,111,114,32,100,105,115,116,97,110,99,101,32,115,121,109,98,111,108,115,0,105,110,118,97,108,105,100,32,99,111,100,101,32,108,101,110,103,116,104,115,32,115,101,116,0,105,110,118,97,108,105,100,32,98,105,116,32,108,101,110,103,116,104,32,114,101,112,101,97,116,0,105,110,118,97,108,105,100,32,99,111,100,101,32,45,45,32,109,105,115,115,105,110,103,32,101,110,100,45,111,102,45,98,108,111,99,107,0,105,110,118,97,108,105,100,32,108,105,116,101,114,97,108,47,108,101,110,103,116,104,115,32,115,101,116,0,105,110,118,97,108,105,100,32,100,105,115,116,97,110,99,101,115,32,115,101,116,0,105,110,99,111,114,114,101,99,116,32,100,97,116,97,32,99,104,101,99,107,0,105,110,99,111,114,114,101,99,116,32,108,101,110,103,116,104,32,99,104,101,99,107,0,0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15,115,116,114,101,97,109,32,101,114,114,111,114,0,105,110,115,117,102,102,105,99,105,101,110,116,32,109,101,109,111,114,121,0,98,117,102,102,101,114,32,101,114,114,111,114,0,105,110,118,97,108,105,100,32,100,105,115,116,97,110,99,101,32,116,111,111,32,102,97,114,32,98,97,99,107,0,105,110,118,97,108,105,100,32,100,105,115,116,97,110,99,101,32,99,111,100,101,0,105,110,118,97,108,105,100,32,108,105,116,101,114,97,108,47,108,101,110,103,116,104,32,99,111,100,101,0],"i8",4,B.j+10241);var ua=C,C=C+16;b._memset=va,b._llvm_bswap_i32=wa,b._pthread_self=xa,b._memcpy=ya,la=z=B.k(C),S=la+ma,D=B.k(S),b.q={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},b.r={abort:F,assert:assert,invoke_iiii:function(e,r,i,a){try{return b.dynCall_iiii(e,r,i,a)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;Z.setThrew(1,0)}},invoke_vii:function(e,r,i){try{b.dynCall_vii(e,r,i)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;Z.setThrew(1,0)}},invoke_iii:function(e,r,i){try{return b.dynCall_iii(e,r,i)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;Z.setThrew(1,0)}},_sbrk:Y,_emscripten_memcpy_big:function(e,r,i){return O.set(O.subarray(r,r+i),e),e},_abort:function(){b.abort()},_emscripten_asm_const_iiii:function(e,r,i,a){return ta[e](r,i,a)},STACKTOP:z,STACK_MAX:S,tempDoublePtr:ua,ABORT:G};var Z=function(e,r,i){"use asm";var a=new e.Int8Array(i);var t=new e.Int16Array(i);var n=new e.Int32Array(i);var f=new e.Uint8Array(i);var o=new e.Uint16Array(i);var l=new e.Uint32Array(i);var s=new e.Float32Array(i);var c=new e.Float64Array(i);var u=r.STACKTOP|0;var h=r.STACK_MAX|0;var b=r.tempDoublePtr|0;var d=r.ABORT|0;var p=0;var k=0;var w=0;var v=0;var m=e.NaN,y=e.Infinity;var g=0,_=0,A=0,E=0,I=0.0,R=0,M=0,T=0,B=0.0;var S=0;var C=0;var L=0;var P=0;var x=0;var O=0;var D=0;var U=0;var z=0;var F=0;var Z=e.Math.floor;var N=e.Math.abs;var H=e.Math.sqrt;var G=e.Math.pow;var J=e.Math.cos;var Y=e.Math.sin;var q=e.Math.tan;var X=e.Math.acos;var W=e.Math.asin;var j=e.Math.atan;var V=e.Math.atan2;var $=e.Math.exp;var K=e.Math.log;var Q=e.Math.ceil;var ee=e.Math.imul;var re=e.Math.min;var ie=e.Math.clz32;var ae=r.abort;var te=r.assert;var ne=r.invoke_iiii;var fe=r.invoke_vii;var oe=r.invoke_iii;var le=r._sbrk;var se=r._emscripten_memcpy_big;var ce=r._abort;var ue=r._emscripten_asm_const_iiii;var he=0.0;function be(e){e=e|0;var r=0;r=u;u=u+e|0;u=u+15&-16;return r|0}function de(){return u|0}function pe(e){e=e|0;u=e}function ke(e,r){e=e|0;r=r|0;u=e;h=r}function we(e,r){e=e|0;r=r|0;if(!p){p=e;k=r}}function ve(e){e=e|0;a[b>>0]=a[e>>0];a[b+1>>0]=a[e+1>>0];a[b+2>>0]=a[e+2>>0];a[b+3>>0]=a[e+3>>0]}function me(e){e=e|0;a[b>>0]=a[e>>0];a[b+1>>0]=a[e+1>>0];a[b+2>>0]=a[e+2>>0];a[b+3>>0]=a[e+3>>0];a[b+4>>0]=a[e+4>>0];a[b+5>>0]=a[e+5>>0];a[b+6>>0]=a[e+6>>0];a[b+7>>0]=a[e+7>>0]}function ye(e){e=e|0;S=e}function ge(){return S|0}function _e(e){e=e|0;if((n[3507]|0)>>>0>=e>>>0)return;n[3507]=e;$e(n[3508]|0);$e(n[3509]|0);e=n[3507]|0;n[3508]=Ve(e)|0;n[3509]=Ve(e)|0;return}function Ae(e,r){e=e|0;r=r|0;var i=0;i=Ve(56)|0;n[i+32>>2]=0;n[i+36>>2]=0;n[i+40>>2]=0;if(!(Be(i,e,8,r*15|0,9,0,12726,56)|0)){r=i;return r|0}Se(i)|0;r=0;return r|0}function Ee(e,r,i){e=e|0;r=r|0;i=i|0;var a=0,t=0,f=0;n[e+4>>2]=ue(0,e|0,n[3508]|0,r|0)|0;n[e>>2]=n[3508];t=e+16|0;f=e+12|0;a=i|0?4:0;while(1){n[t>>2]=r;n[f>>2]=n[3509];i=De(e,a)|0;if((i|0)==-2){i=-2;a=4;break}ue(1,e|0,n[3509]|0,r-(n[t>>2]|0)|0)|0;if(n[t>>2]|0){a=4;break}}if((a|0)==4)return i|0;return 0}function Ie(e){e=e|0;Se(e)|0;return}function Re(e){e=e|0;var r=0,i=0,a=0,t=0,f=0,o=0,l=0,s=0,c=0,u=0,h=0,b=0;c=Ve(56)|0;r=c+32|0;n[r>>2]=0;u=c+36|0;n[u>>2]=0;b=c+40|0;n[b>>2]=0;n[c+4>>2]=0;n[c>>2]=0;i=e*15|0;if(!c){b=0;return b|0}l=c+24|0;n[l>>2]=0;n[r>>2]=1;n[b>>2]=0;n[u>>2]=1;o=qe(0,1,7116)|0;h=c+28|0;if(!o){r=n[h>>2]|0;if(!r){b=0;return b|0}e=n[u>>2]|0;if(!e){b=0;return b|0}i=n[r+52>>2]|0;if(i){cr[e&1](n[b>>2]|0,i);e=n[u>>2]|0;r=n[h>>2]|0}cr[e&1](n[b>>2]|0,r);n[h>>2]=0;b=0;return b|0}n[h>>2]=o;n[o+52>>2]=0;f=n[h>>2]|0;do if(f|0){if((e|0)<0){r=0-i|0;t=0}else{if((i|0)>=48)break;r=i&15;t=(i>>4)+1|0}if(r){if((r&-8|0)!=8)break}else r=0;e=f+52|0;i=n[e>>2]|0;a=f+36|0;if(i|0?(n[a>>2]|0)!=(r|0):0){cr[n[u>>2]&1](n[b>>2]|0,i);n[e>>2]=0}n[f+8>>2]=t;n[a>>2]=r;r=n[h>>2]|0;if(r|0?(n[r+40>>2]=0,n[r+44>>2]=0,n[r+48>>2]=0,s=n[h>>2]|0,s|0):0){n[s+28>>2]=0;n[c+20>>2]=0;n[c+8>>2]=0;n[l>>2]=0;r=n[s+8>>2]|0;if(r|0)n[c+48>>2]=r&1;n[s>>2]=0;n[s+4>>2]=0;n[s+12>>2]=0;n[s+20>>2]=32768;n[s+32>>2]=0;n[s+56>>2]=0;n[s+60>>2]=0;b=s+1328|0;n[s+108>>2]=b;n[s+80>>2]=b;n[s+76>>2]=b;n[s+7104>>2]=1;n[s+7108>>2]=-1;b=c;return b|0}}while(0);cr[n[u>>2]&1](n[b>>2]|0,o);n[h>>2]=0;b=0;return b|0}function Me(e,r){e=e|0;r=r|0;var i=0,l=0,s=0,c=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0,A=0,E=0,I=0,R=0,M=0,T=0,B=0,S=0,C=0,L=0,P=0,x=0,O=0,D=0,U=0,z=0,F=0,Z=0,N=0,H=0,G=0,J=0,Y=0,q=0,X=0,W=0,j=0,V=0,$=0,K=0,Q=0,ee=0,re=0,ie=0,ae=0,te=0,ne=0,fe=0,oe=0,le=0,se=0,ce=0,he=0,be=0,de=0,pe=0,ke=0,we=0,ve=0,me=0,ye=0,ge=0,_e=0,Ae=0,Ee=0,Ie=0,Re=0,Me=0,Te=0,Be=0,Se=0,Ce=0,Le=0,Pe=0,xe=0,Oe=0,De=0,ze=0,Fe=0,Ze=0,Ne=0,He=0,Ge=0,Je=0,Ye=0,qe=0,Xe=0;Xe=u;u=u+16|0;Ye=Xe;Ge=e+4|0;n[Ge>>2]=ue(0,e|0,n[3508]|0,r|0)|0;n[e>>2]=n[3508];Je=e+16|0;qe=e+12|0;Be=e+28|0;Oe=e+24|0;De=e+48|0;ze=Ye+1|0;Fe=e+20|0;Ze=Ye+2|0;Ne=Ye+3|0;He=e+8|0;Re=e+44|0;Me=e+32|0;Te=e+40|0;e:while(1){n[Je>>2]=r;Ee=n[3509]|0;n[qe>>2]=Ee;Ie=n[Be>>2]|0;l=Ee;r:do if(!((Ie|0)==0|(Ee|0)==0)){s=n[e>>2]|0;if((s|0)==0?n[Ge>>2]|0:0){i=-2;N=368;break}i=n[Ie>>2]|0;if((i|0)==11){n[Ie>>2]=12;i=12;l=n[qe>>2]|0;s=n[e>>2]|0;p=n[Je>>2]|0}else p=r;ge=n[Ge>>2]|0;_e=Ie+60|0;ke=Ie+56|0;ve=Ie+8|0;ye=Ie+16|0;G=Ie+32|0;J=Ie+36|0;Y=Ie+20|0;Ae=Ie+24|0;q=Ie+64|0;X=Ie+12|0;Ee=Ie+4|0;W=Ie+76|0;j=Ie+84|0;V=Ie+80|0;$=Ie+88|0;K=Ie+104|0;Q=Ie+96|0;ee=Ie+100|0;re=Ie+624|0;ie=Ie+1328|0;ae=Ie+108|0;H=ie;te=Ie+112|0;ne=Ie+752|0;fe=Ie+7108|0;oe=Ie+72|0;le=Ie+7112|0;se=Ie+68|0;ce=Ie+44|0;he=Ie+7104|0;be=Ie+48|0;de=Ie+52|0;we=Ie+40|0;me=Ie+28|0;pe=Ie+92|0;k=i;h=n[_e>>2]|0;d=ge;c=n[ke>>2]|0;b=p;w=p;i=0;i:while(1){a:do switch(k|0){case 30:break e;case 28:{i=1;N=347;break i}case 29:{i=-3;break i}case 0:{p=n[ve>>2]|0;if(!p){n[Ie>>2]=12;v=b;break a}while(1){if(h>>>0>=16)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}if((p&2|0)!=0&(c|0)==35615){n[Ae>>2]=0;a[Ye>>0]=31;a[ze>>0]=-117;n[Ae>>2]=je(n[Ae>>2]|0,Ye,2)|0;n[Ie>>2]=1;h=0;c=0;v=b;break a}n[ye>>2]=0;k=n[G>>2]|0;if(k){n[k+48>>2]=-1;p=n[ve>>2]|0}if(p&1|0?((((c<<8&65280)+(c>>>8)|0)>>>0)%31|0|0)==0:0){if((c&15|0)!=8){n[Oe>>2]=12755;n[Ie>>2]=29;v=b;break a}v=c>>>4;h=h+-4|0;p=(v&15)+8|0;k=n[J>>2]|0;if(k){if(p>>>0>k>>>0){n[Oe>>2]=12782;n[Ie>>2]=29;c=v;v=b;break a}}else n[J>>2]=p;n[Y>>2]=1<<p;n[Ae>>2]=1;n[De>>2]=1;n[Ie>>2]=c>>>12&2^11;h=0;c=0;v=b;break a}n[Oe>>2]=12732;n[Ie>>2]=29;v=b;break}case 1:{while(1){if(h>>>0>=16)break;if(!d){d=0;break i}c=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;s=s+1|0}n[ye>>2]=c;if((c&255|0)!=8){n[Oe>>2]=12755;n[Ie>>2]=29;v=b;break a}if(c&57344|0){n[Oe>>2]=12802;n[Ie>>2]=29;v=b;break a}h=n[G>>2]|0;if(!h)h=c;else{n[h>>2]=c>>>8&1;h=n[ye>>2]|0}if(h&512|0){a[Ye>>0]=c;a[ze>>0]=c>>>8;n[Ae>>2]=je(n[Ae>>2]|0,Ye,2)|0}n[Ie>>2]=2;h=0;c=0;N=44;break}case 2:{N=44;break}case 3:{N=52;break}case 4:{N=60;break}case 5:{N=71;break}case 6:{p=n[ye>>2]|0;N=81;break}case 7:{N=94;break}case 8:{N=107;break}case 9:{while(1){if(h>>>0>=32)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}h=er(c|0)|0;n[Ae>>2]=h;n[De>>2]=h;n[Ie>>2]=10;h=0;c=0;N=120;break}case 10:{N=120;break}case 12:case 11:{p=h;N=123;break}case 13:{p=h&-8;c=c>>>(h&7);while(1){if(p>>>0>=32)break;if(!d){h=p;d=0;break i}Z=c+(f[s>>0]<<p)|0;p=p+8|0;d=d+-1|0;c=Z;s=s+1|0}h=c&65535;if((h|0)==(c>>>16^65535|0)){n[q>>2]=h;n[Ie>>2]=14;h=0;c=0;N=142;break a}else{n[Oe>>2]=12866;n[Ie>>2]=29;h=p;v=b;break a}}case 14:{N=142;break}case 15:{N=143;break}case 16:{while(1){if(h>>>0>=14)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}F=(c&31)+257|0;n[Q>>2]=F;Z=(c>>>5&31)+1|0;n[ee>>2]=Z;p=(c>>>10&15)+4|0;n[pe>>2]=p;c=c>>>14;h=h+-14|0;if(F>>>0>286|Z>>>0>30){n[Oe>>2]=12895;n[Ie>>2]=29;v=b;break a}else{n[K>>2]=0;n[Ie>>2]=17;k=0;N=153;break a}}case 17:{k=n[K>>2]|0;p=n[pe>>2]|0;N=153;break}case 18:{N=164;break}case 19:{N=203;break}case 20:{N=204;break}case 21:{k=n[oe>>2]|0;N=283;break}case 22:{N=290;break}case 23:{p=n[oe>>2]|0;N=304;break}case 24:{N=310;break}case 25:{if(!b){b=0;N=347;break i}a[l>>0]=n[q>>2];n[Ie>>2]=20;v=b+-1|0;l=l+1|0;break}case 26:{if(n[ve>>2]|0){while(1){if(h>>>0>=32)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}v=w-b|0;n[Fe>>2]=(n[Fe>>2]|0)+v;n[me>>2]=(n[me>>2]|0)+v;if((w|0)!=(b|0)){p=n[Ae>>2]|0;k=l+(0-v)|0;if(!(n[ye>>2]|0))p=We(p,k,v)|0;else p=je(p,k,v)|0;n[Ae>>2]=p;n[De>>2]=p}F=(n[ye>>2]|0)==0;Z=er(c|0)|0;if(((F?Z:c)|0)==(n[Ae>>2]|0)){h=0;c=0;w=b}else{n[Oe>>2]=13069;n[Ie>>2]=29;v=b;w=b;break a}}n[Ie>>2]=27;N=339;break}case 27:{N=339;break}default:{i=-2;N=368;break r}}while(0);do if((N|0)==44){while(1){N=0;if(h>>>0>=32)break;if(!d){d=0;break i}N=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=N;s=s+1|0;N=44}h=n[G>>2]|0;if(h|0)n[h+4>>2]=c;if(n[ye>>2]&512|0){a[Ye>>0]=c;a[ze>>0]=c>>>8;a[Ze>>0]=c>>>16;a[Ne>>0]=c>>>24;n[Ae>>2]=je(n[Ae>>2]|0,Ye,4)|0}n[Ie>>2]=3;h=0;c=0;N=52}else if((N|0)==120){if(!(n[X>>2]|0)){N=121;break e}n[Ae>>2]=1;n[De>>2]=1;n[Ie>>2]=11;p=h;N=123}else if((N|0)==142){n[Ie>>2]=15;N=143}else if((N|0)==153){N=0;while(1){if(k>>>0>=p>>>0){i=k;break}while(1){if(h>>>0>=3)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}Z=k+1|0;n[K>>2]=Z;t[Ie+112+(o[11104+(k<<1)>>1]<<1)>>1]=c&7;k=Z;h=h+-3|0;c=c>>>3}while(1){if(i>>>0>=19)break;Z=i+1|0;n[K>>2]=Z;t[Ie+112+(o[11104+(i<<1)>>1]<<1)>>1]=0;i=Z}n[ae>>2]=ie;n[W>>2]=H;n[j>>2]=7;i=Ue(0,te,19,ae,j,ne)|0;if(!i){n[K>>2]=0;n[Ie>>2]=18;i=0;N=164;break}else{n[Oe>>2]=12931;n[Ie>>2]=29;v=b;break}}else if((N|0)==339){N=0;if(!(n[ve>>2]|0)){i=d;N=346;break i}if(!(n[ye>>2]|0)){i=d;N=346;break i}while(1){if(h>>>0>=32)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}if((c|0)==(n[me>>2]|0)){h=0;i=d;c=0;N=346;break i}n[Oe>>2]=13090;n[Ie>>2]=29;v=b}while(0);do if((N|0)==52){while(1){N=0;if(h>>>0>=16)break;if(!d){d=0;break i}N=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=N;s=s+1|0;N=52}h=n[G>>2]|0;if(h|0){n[h+8>>2]=c&255;n[(n[G>>2]|0)+12>>2]=c>>>8}if(n[ye>>2]&512|0){a[Ye>>0]=c;a[ze>>0]=c>>>8;n[Ae>>2]=je(n[Ae>>2]|0,Ye,2)|0}n[Ie>>2]=4;h=0;c=0;N=60}else if((N|0)==123){N=0;if(!(n[Ee>>2]|0))h=p;else{n[Ie>>2]=26;h=p&-8;c=c>>>(p&7);v=b;break}while(1){if(h>>>0>=3)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}n[Ee>>2]=c&1;switch(c>>>1&3|0){case 0:{n[Ie>>2]=13;break}case 1:{n[W>>2]=8928;n[j>>2]=9;n[V>>2]=10976;n[$>>2]=5;n[Ie>>2]=19;break}case 2:{n[Ie>>2]=16;break}case 3:{n[Oe>>2]=12847;n[Ie>>2]=29;break}default:{N=133;break e}}h=h+-3|0;c=c>>>3;v=b}else if((N|0)==143){N=0;p=n[q>>2]|0;if(!p){n[Ie>>2]=11;v=b;break}p=p>>>0>d>>>0?d:p;p=p>>>0>b>>>0?b:p;if(!p){N=347;break i}ir(l|0,s|0,p|0)|0;n[q>>2]=(n[q>>2]|0)-p;d=d-p|0;v=b-p|0;s=s+p|0;l=l+p|0}else if((N|0)==164){N=0;a:while(1){y=n[K>>2]|0;g=(n[Q>>2]|0)+(n[ee>>2]|0)|0;if(y>>>0>=g>>>0){N=195;break}k=(1<<n[j>>2])+-1|0;v=n[W>>2]|0;while(1){p=v+((c&k)<<2)|0;p=o[p>>1]|o[p+2>>1]<<16;m=p>>>8&255;if(h>>>0>=m>>>0)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}p=p>>>16&65535;if((p&65535)<16){n[K>>2]=y+1;t[Ie+112+(y<<1)>>1]=p;h=h-m|0;c=c>>>m;continue}switch(p<<16>>16){case 16:{p=m+2|0;while(1){if(h>>>0>=p>>>0)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}c=c>>>m;h=h-m|0;if(!y){N=178;break a}h=h+-2|0;p=(c&3)+3|0;c=c>>>2;k=o[Ie+112+(y+-1<<1)>>1]|0;break}case 17:{p=m+3|0;while(1){if(h>>>0>=p>>>0)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}c=c>>>m;h=h-m+-3|0;p=(c&7)+3|0;c=c>>>3;k=0;break}default:{p=m+7|0;while(1){if(h>>>0>=p>>>0)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}c=c>>>m;h=h-m+-7|0;p=(c&127)+11|0;c=c>>>7;k=0}}if((y+p|0)>>>0>g>>>0){N=192;break}k=k&65535;while(1){if(!p)continue a;Z=n[K>>2]|0;n[K>>2]=Z+1;t[Ie+112+(Z<<1)>>1]=k;p=p+-1|0}}if((N|0)==178){N=0;n[Oe>>2]=12956;n[Ie>>2]=29;v=b;break}else if((N|0)==192){N=0;n[Oe>>2]=12956;n[Ie>>2]=29;v=b;break}else if((N|0)==195){N=0;if((n[Ie>>2]|0)==29){v=b;break}if(!(t[re>>1]|0)){n[Oe>>2]=12982;n[Ie>>2]=29;v=b;break}n[ae>>2]=ie;n[W>>2]=H;n[j>>2]=9;i=Ue(1,te,n[Q>>2]|0,ae,j,ne)|0;if(i|0){n[Oe>>2]=13019;n[Ie>>2]=29;v=b;break}n[V>>2]=n[ae>>2];n[$>>2]=6;i=Ue(2,Ie+112+(n[Q>>2]<<1)|0,n[ee>>2]|0,ae,$,ne)|0;if(!i){n[Ie>>2]=19;i=0;N=203;break}else{n[Oe>>2]=13047;n[Ie>>2]=29;v=b;break}}}while(0);if((N|0)==60){N=0;p=n[ye>>2]|0;if(!(p&1024)){p=n[G>>2]|0;if(p)n[p+16>>2]=0}else{while(1){if(h>>>0>=16)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}n[q>>2]=c;h=n[G>>2]|0;if(!h)h=p;else{n[h+20>>2]=c;h=n[ye>>2]|0}if(!(h&512)){h=0;c=0}else{a[Ye>>0]=c;a[ze>>0]=c>>>8;n[Ae>>2]=je(n[Ae>>2]|0,Ye,2)|0;h=0;c=0}}n[Ie>>2]=5;N=71}else if((N|0)==203){n[Ie>>2]=20;N=204}do if((N|0)==71){p=n[ye>>2]|0;if(p&1024){v=n[q>>2]|0;m=v>>>0>d>>>0?d:v;if(m){k=n[G>>2]|0;if((k|0)!=0?(Se=n[k+16>>2]|0,(Se|0)!=0):0){p=(n[k+20>>2]|0)-v|0;N=n[k+24>>2]|0;ir(Se+p|0,s|0,((p+m|0)>>>0>N>>>0?N-p|0:m)|0)|0;p=n[ye>>2]|0}if(p&512|0)n[Ae>>2]=je(n[Ae>>2]|0,s,m)|0;v=(n[q>>2]|0)-m|0;n[q>>2]=v;d=d-m|0;s=s+m|0}if(v){N=347;break i}}n[q>>2]=0;n[Ie>>2]=6;N=81}else if((N|0)==204){N=0;if(!(d>>>0>5&b>>>0>257)){n[fe>>2]=0;k=(1<<n[j>>2])+-1|0;y=n[W>>2]|0;while(1){p=y+((c&k)<<2)|0;p=o[p>>1]|o[p+2>>1]<<16;v=p>>>8;g=v&255;if(g>>>0<=h>>>0)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}k=p&255;m=p>>>16;if(k<<24>>24)if((k&255)<16){k=p>>>16;p=(1<<g+(p&255))+-1|0;while(1){m=y+(k+((c&p)>>>g)<<2)|0;m=o[m>>1]|o[m+2>>1]<<16;v=m>>>8;if((g+(v&255)|0)>>>0<=h>>>0)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}n[fe>>2]=g;y=g;h=h-g|0;k=m&255;p=m>>>16;c=c>>>g}else{y=0;p=m}else{y=0;k=0;p=m}Z=v&255;c=c>>>Z;h=h-Z|0;n[fe>>2]=y+Z;n[q>>2]=p;if(!(k<<24>>24)){n[Ie>>2]=25;v=b;break}if(k&32){n[fe>>2]=-1;n[Ie>>2]=11;v=b;break}if(!(k&64)){k=k&15;n[oe>>2]=k;n[Ie>>2]=21;N=283;break}else{n[Oe>>2]=13998;n[Ie>>2]=29;v=b;break}}n[qe>>2]=l;n[Je>>2]=b;n[e>>2]=s;n[Ge>>2]=d;n[ke>>2]=c;n[_e>>2]=h;A=n[Be>>2]|0;s=(n[e>>2]|0)+-1|0;U=s+((n[Ge>>2]|0)+-5)|0;l=(n[qe>>2]|0)+-1|0;C=n[Je>>2]|0;z=l+(C+-257)|0;E=n[A+40>>2]|0;I=n[A+44>>2]|0;R=n[A+48>>2]|0;F=A+56|0;Z=A+60|0;M=n[A+76>>2]|0;T=n[A+80>>2]|0;B=(1<<n[A+84>>2])+-1|0;S=(1<<n[A+88>>2])+-1|0;C=l+(C-w)|0;L=A+7104|0;P=(n[A+52>>2]|0)+-1|0;x=(R|0)==0;O=E+R|0;D=C-R|0;b=n[Z>>2]|0;c=n[F>>2]|0;a:while(1){if(b>>>0<15){N=s+2|0;h=b+16|0;c=c+(f[s+1>>0]<<b)+(f[N>>0]<<b+8)|0;s=N}else h=b;b=c&B;while(1){b=M+(b<<2)|0;b=o[b>>1]|o[b+2>>1]<<16;p=b>>>16;N=b>>>8&255;c=c>>>N;h=h-N|0;if(!((b&255)<<24>>24)){N=210;break}if(b&16|0){N=212;break}if(b&64|0){N=259;break a}b=p+(c&(1<<(b&255))+-1)|0}do if((N|0)==210){N=0;l=l+1|0;a[l>>0]=p}else if((N|0)==212){N=0;k=b&15;if(!k)d=c;else{if(h>>>0<k>>>0){s=s+1|0;b=h+8|0;c=c+(f[s>>0]<<h)|0}else b=h;h=b-k|0;d=c>>>k;p=p+(c&(1<<k)+-1)|0}if(h>>>0<15){k=s+2|0;b=h+16|0;c=d+(f[s+1>>0]<<h)+(f[k>>0]<<h+8)|0}else{b=h;c=d;k=s}s=c&S;h=b;while(1){s=T+(s<<2)|0;s=o[s>>1]|o[s+2>>1]<<16;g=s>>>16;_=s>>>8&255;c=c>>>_;h=h-_|0;if(s&16|0)break;if(s&64|0){N=256;break a}s=g+(c&(1<<(s&255))+-1)|0}d=s&15;if(h>>>0<d>>>0){s=k+1|0;c=c+(f[s>>0]<<h)|0;b=h+8|0;if(b>>>0<d>>>0){s=k+2|0;h=h+16|0;c=c+(f[s>>0]<<b)|0}else h=b}else s=k;y=c&(1<<d)+-1;_=g+y|0;c=c>>>d;h=h-d|0;m=l;b=m-C|0;if(_>>>0<=b>>>0){k=l+(0-_)|0;d=l;while(1){a[d+1>>0]=a[k+1>>0]|0;a[d+2>>0]=a[k+2>>0]|0;b=k+3|0;l=d+3|0;a[l>>0]=a[b>>0]|0;p=p+-3|0;if(p>>>0<=2)break;else{k=b;d=l}}if(!p)break;l=d+4|0;a[l>>0]=a[k+4>>0]|0;if(p>>>0<=1)break;l=d+5|0;a[l>>0]=a[k+5>>0]|0;break}d=_-b|0;if(d>>>0>I>>>0?n[L>>2]|0:0){N=226;break a}do if(x){k=P+(E-d)|0;if(p>>>0>d>>>0){b=p-d|0;v=y+g-m|0;p=l;do{k=k+1|0;p=p+1|0;a[p>>0]=a[k>>0]|0;d=d+-1|0}while((d|0)!=0);l=l+C+v|0;k=l+(0-_)|0}else b=p}else{if(R>>>0>=d>>>0){k=P+(R-d)|0;if(p>>>0<=d>>>0){b=p;break}b=p-d|0;v=y+g-m|0;p=l;do{k=k+1|0;p=p+1|0;a[p>>0]=a[k>>0]|0;d=d+-1|0}while((d|0)!=0);l=l+C+v|0;k=l+(0-_)|0;break}k=P+(O-d)|0;d=d-R|0;if(p>>>0>d>>>0){b=p-d|0;v=y+g-m|0;p=l;do{k=k+1|0;p=p+1|0;a[p>>0]=a[k>>0]|0;d=d+-1|0}while((d|0)!=0);d=l+D+v|0;if(b>>>0<=R>>>0){k=P;l=d;break}b=b-R|0;p=y+g-m|0;k=P;v=R;do{k=k+1|0;d=d+1|0;a[d>>0]=a[k>>0]|0;v=v+-1|0}while((v|0)!=0);l=l+C+p|0;k=l+(0-_)|0}else b=p}while(0);while(1){if(b>>>0<=2)break;a[l+1>>0]=a[k+1>>0]|0;a[l+2>>0]=a[k+2>>0]|0;g=k+3|0;_=l+3|0;a[_>>0]=a[g>>0]|0;k=g;b=b+-3|0;l=_}if(b){d=l+1|0;a[d>>0]=a[k+1>>0]|0;if(b>>>0>1){l=l+2|0;a[l>>0]=a[k+2>>0]|0}else l=d}}while(0);if(s>>>0<U>>>0&l>>>0<z>>>0)b=h;else break}do if((N|0)==226){N=0;n[Oe>>2]=13946;n[A>>2]=29}else if((N|0)==256){N=0;n[Oe>>2]=13976;n[A>>2]=29;s=k}else if((N|0)==259){N=0;if(!(b&32)){n[Oe>>2]=13998;n[A>>2]=29;break}else{n[A>>2]=11;break}}while(0);b=h>>>3;s=s+(0-b)|0;b=h-(b<<3)|0;n[e>>2]=s+1;n[qe>>2]=l+1;n[Ge>>2]=(s>>>0<U>>>0?U-s|0:U-s|0)+5;n[Je>>2]=(l>>>0<z>>>0?z-l|0:z-l|0)+257;n[F>>2]=c&(1<<b)+-1;n[Z>>2]=b;l=n[qe>>2]|0;b=n[Je>>2]|0;s=n[e>>2]|0;d=n[Ge>>2]|0;c=n[ke>>2]|0;h=n[_e>>2]|0;if((n[Ie>>2]|0)==11){n[fe>>2]=-1;v=b}else v=b}while(0);if((N|0)==81){if(!(p&2048)){p=n[G>>2]|0;if(p)n[p+28>>2]=0}else{if(!d){d=0;N=347;break}else k=0;do{v=k;k=k+1|0;v=a[s+v>>0]|0;p=n[G>>2]|0;if((p|0?(Ce=p+28|0,n[Ce>>2]|0):0)?(Le=n[q>>2]|0,Le>>>0<(n[p+32>>2]|0)>>>0):0){n[q>>2]=Le+1;a[(n[Ce>>2]|0)+Le>>0]=v}}while(v<<24>>24!=0&d>>>0>k>>>0);if(n[ye>>2]&512|0)n[Ae>>2]=je(n[Ae>>2]|0,s,k)|0;d=d-k|0;s=s+k|0;if(v<<24>>24){N=347;break}}n[q>>2]=0;n[Ie>>2]=7;N=94}else if((N|0)==283){N=0;if(!k)p=n[q>>2]|0;else{while(1){if(h>>>0>=k>>>0)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}p=(n[q>>2]|0)+(c&(1<<k)+-1)|0;n[q>>2]=p;n[fe>>2]=(n[fe>>2]|0)+k;h=h-k|0;c=c>>>k}n[le>>2]=p;n[Ie>>2]=22;N=290}do if((N|0)==94){if(!(n[ye>>2]&4096)){p=n[G>>2]|0;if(p)n[p+36>>2]=0}else{if(!d){d=0;N=347;break i}else k=0;do{v=k;k=k+1|0;v=a[s+v>>0]|0;p=n[G>>2]|0;if((p|0?(Pe=p+36|0,n[Pe>>2]|0):0)?(xe=n[q>>2]|0,xe>>>0<(n[p+40>>2]|0)>>>0):0){n[q>>2]=xe+1;a[(n[Pe>>2]|0)+xe>>0]=v}}while(v<<24>>24!=0&d>>>0>k>>>0);if(n[ye>>2]&512|0)n[Ae>>2]=je(n[Ae>>2]|0,s,k)|0;d=d-k|0;s=s+k|0;if(v<<24>>24){N=347;break i}}n[Ie>>2]=8;N=107}else if((N|0)==290){N=0;p=(1<<n[$>>2])+-1|0;y=n[V>>2]|0;while(1){v=y+((c&p)<<2)|0;v=o[v>>1]|o[v+2>>1]<<16;k=v>>>8;g=k&255;if(g>>>0<=h>>>0)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}p=v&255;if((p&255)<16){m=v>>>16;p=(1<<g+(v&255))+-1|0;while(1){v=y+(m+((c&p)>>>g)<<2)|0;v=o[v>>1]|o[v+2>>1]<<16;k=v>>>8;if((g+(k&255)|0)>>>0<=h>>>0)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}m=(n[fe>>2]|0)+g|0;n[fe>>2]=m;h=h-g|0;p=v&255;c=c>>>g}else m=n[fe>>2]|0;Z=k&255;c=c>>>Z;h=h-Z|0;n[fe>>2]=m+Z;if(!(p&64)){n[se>>2]=v>>>16;p=p&15;n[oe>>2]=p;n[Ie>>2]=23;N=304;break}else{n[Oe>>2]=13976;n[Ie>>2]=29;v=b;break}}while(0);do if((N|0)==107){N=0;k=n[ye>>2]|0;if(k&512){while(1){if(h>>>0>=16)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}if((c|0)==(n[Ae>>2]&65535|0)){h=0;c=0}else{n[Oe>>2]=12827;n[Ie>>2]=29;v=b;break}}p=n[G>>2]|0;if(p|0){n[p+44>>2]=k>>>9&1;n[(n[G>>2]|0)+48>>2]=1}n[Ae>>2]=0;n[De>>2]=0;n[Ie>>2]=11;v=b}else if((N|0)==304){N=0;if(p){while(1){if(h>>>0>=p>>>0)break;if(!d){d=0;break i}Z=c+(f[s>>0]<<h)|0;h=h+8|0;d=d+-1|0;c=Z;s=s+1|0}n[se>>2]=(n[se>>2]|0)+(c&(1<<p)+-1);n[fe>>2]=(n[fe>>2]|0)+p;h=h-p|0;c=c>>>p}n[Ie>>2]=24;N=310}while(0);do if((N|0)==310){N=0;if(!b){b=0;N=347;break i}p=w-b|0;k=n[se>>2]|0;if(k>>>0>p>>>0){p=k-p|0;if(p>>>0>(n[ce>>2]|0)>>>0?n[he>>2]|0:0){n[Oe>>2]=13946;n[Ie>>2]=29;v=b;break}k=n[be>>2]|0;if(p>>>0>k>>>0){p=p-k|0;v=p;p=(n[de>>2]|0)+((n[we>>2]|0)-p)|0}else{v=p;p=(n[de>>2]|0)+(k-p)|0}Z=n[q>>2]|0;m=Z;v=v>>>0>Z>>>0?Z:v}else{v=n[q>>2]|0;m=v;p=l+(0-k)|0}v=v>>>0>b>>>0?b:v;n[q>>2]=m-v;k=v;while(1){Z=l;l=l+1|0;a[Z>>0]=a[p>>0]|0;k=k+-1|0;if(!k)break;else p=p+1|0}b=b-v|0;if(!(n[q>>2]|0)){n[Ie>>2]=20;v=b}else v=b}while(0);k=n[Ie>>2]|0;b=v}if((N|0)==346){N=0;n[Ie>>2]=28;d=i;i=1}else if((N|0)==347)N=0;n[qe>>2]=l;n[Je>>2]=b;n[e>>2]=s;n[Ge>>2]=d;n[ke>>2]=c;n[_e>>2]=h;l=n[Je>>2]|0;if(!(n[we>>2]|0)){if((w|0)!=(l|0)?(n[Ie>>2]|0)>>>0<29:0)N=351}else N=351;do if((N|0)==351){N=0;p=n[qe>>2]|0;k=w-l|0;b=n[Be>>2]|0;d=b+52|0;l=n[d>>2]|0;if(!l){l=sr[n[Me>>2]&1](n[Te>>2]|0,1<<n[b+36>>2],1)|0;n[d>>2]=l;if(!l){N=361;break e}}h=b+40|0;s=n[h>>2]|0;if(!s){s=1<<n[b+36>>2];n[h>>2]=s;n[b+48>>2]=0;n[b+44>>2]=0}if(s>>>0<=k>>>0){ir(l|0,p+(0-s)|0,s|0)|0;n[b+48>>2]=0;n[b+44>>2]=n[h>>2];break}c=b+48|0;ke=n[c>>2]|0;we=s-ke|0;we=we>>>0>k>>>0?k:we;ir(l+ke|0,p+(0-k)|0,we|0)|0;l=k-we|0;if((k|0)!=(we|0)){ir(n[d>>2]|0,p+(0-l)|0,l|0)|0;n[c>>2]=l;n[b+44>>2]=n[h>>2];break}l=(n[c>>2]|0)+k|0;n[c>>2]=l;we=n[h>>2]|0;n[c>>2]=(l|0)==(we|0)?0:l;l=b+44|0;s=n[l>>2]|0;if(s>>>0<we>>>0)n[l>>2]=s+k}while(0);h=n[Ge>>2]|0;b=n[Je>>2]|0;c=w-b|0;n[He>>2]=(n[He>>2]|0)+(ge-h);n[Fe>>2]=(n[Fe>>2]|0)+c;n[me>>2]=(n[me>>2]|0)+c;if(!((n[ve>>2]|0)==0|(w|0)==(b|0))){l=n[Ae>>2]|0;s=(n[qe>>2]|0)+(0-c)|0;if(!(n[ye>>2]|0))l=We(l,s,c)|0;else l=je(l,s,c)|0;n[Ae>>2]=l;n[De>>2]=l}Ie=n[Ie>>2]|0;n[Re>>2]=(n[_e>>2]|0)+(n[Ee>>2]|0?64:0)+((Ie|0)==11?128:0)+((Ie|0)==19|(Ie|0)==14?256:0);if((ge|0)==(h|0)&(w|0)==(b|0)&(i|0)==0){i=-5;N=368}else switch(i|0){case 2:{N=372;break e}case-4:case-3:{N=373;break e}default:{}}}else{i=-2;N=368}while(0);if((N|0)==368)N=0;ue(1,e|0,n[3509]|0,r-(n[Je>>2]|0)|0)|0;if(n[Je>>2]|0){N=373;break}}if((N|0)==121){n[qe>>2]=l;n[Je>>2]=b;n[e>>2]=s;n[Ge>>2]=d;n[ke>>2]=c;n[_e>>2]=h;e=-3;u=Xe;return e|0}else if((N|0)!=133)if((N|0)==361)n[Ie>>2]=30;else if((N|0)==372){e=-3;u=Xe;return e|0}else if((N|0)==373){u=Xe;return i|0}e=-4;u=Xe;return e|0}function Te(e){e=e|0;var r=0,i=0,a=0,t=0,f=0;if(!e)return;f=e+28|0;r=n[f>>2]|0;if(!r)return;a=e+36|0;i=n[a>>2]|0;if(!i)return;t=n[r+52>>2]|0;e=e+40|0;if(t){cr[i&1](n[e>>2]|0,t);i=n[a>>2]|0;r=n[f>>2]|0}cr[i&1](n[e>>2]|0,r);n[f>>2]=0;return}function Be(e,r,i,f,l,s,c,u){e=e|0;r=r|0;i=i|0;f=f|0;l=l|0;s=s|0;c=c|0;u=u|0;var h=0,b=0,d=0,p=0,k=0,w=0,v=0;if(!c){e=-6;return e|0}if(!((a[c>>0]|0)==49&(u|0)==56)){e=-6;return e|0}if(!e){e=-2;return e|0}p=e+24|0;n[p>>2]=0;k=e+32|0;u=n[k>>2]|0;if(!u){n[k>>2]=1;n[e+40>>2]=0;u=1}d=e+36|0;if(!(n[d>>2]|0))n[d>>2]=1;b=(r|0)==-1?6:r;if((f|0)<0){c=0-f|0;h=0}else{h=(f|0)>15;c=h?f+-16|0:f;h=h?2:1}if(s>>>0>4|(b>>>0>9|((c&-8|0)!=8|((i|0)!=8|(l+-1|0)>>>0>8)))){
e=-2;return e|0}c=(c|0)==8?9:c;r=e+40|0;f=sr[u&1](n[r>>2]|0,1,5828)|0;if(!f){e=-4;return e|0}i=e+28|0;n[i>>2]=f;n[f>>2]=e;n[f+24>>2]=h;n[f+28>>2]=0;n[f+48>>2]=c;w=1<<c;h=f+44|0;n[h>>2]=w;n[f+52>>2]=w+-1;v=l+7|0;n[f+80>>2]=v;v=1<<v;u=f+76|0;n[u>>2]=v;n[f+84>>2]=v+-1;n[f+88>>2]=((l+9|0)>>>0)/3|0;v=f+56|0;n[v>>2]=sr[n[k>>2]&1](n[r>>2]|0,w,2)|0;w=f+64|0;n[w>>2]=sr[n[k>>2]&1](n[r>>2]|0,n[h>>2]|0,2)|0;h=f+68|0;n[h>>2]=sr[n[k>>2]&1](n[r>>2]|0,n[u>>2]|0,2)|0;n[f+5824>>2]=0;u=1<<l+6;c=f+5788|0;n[c>>2]=u;u=sr[n[k>>2]&1](n[r>>2]|0,u,4)|0;n[f+8>>2]=u;c=n[c>>2]|0;n[f+12>>2]=c<<2;if((n[v>>2]|0?n[w>>2]|0:0)?!((n[h>>2]|0)==0|(u|0)==0):0){n[f+5796>>2]=u+(c>>>1<<1);n[f+5784>>2]=u+(c*3|0);n[f+132>>2]=b;n[f+136>>2]=s;a[f+36>>0]=8;r=n[i>>2]|0;if(!r){v=-2;return v|0}if(!(n[k>>2]|0)){v=-2;return v|0}if(!(n[d>>2]|0)){v=-2;return v|0}n[e+20>>2]=0;n[e+8>>2]=0;n[p>>2]=0;n[e+44>>2]=2;n[r+20>>2]=0;n[r+16>>2]=n[r+8>>2];c=r+24|0;u=n[c>>2]|0;if((u|0)<0){u=0-u|0;n[c>>2]=u}n[r+4>>2]=u|0?42:113;n[e+48>>2]=(u|0)!=2&1;n[r+40>>2]=0;n[r+2840>>2]=r+148;n[r+2848>>2]=128;n[r+2852>>2]=r+2440;n[r+2860>>2]=264;n[r+2864>>2]=r+2684;n[r+2872>>2]=404;t[r+5816>>1]=0;n[r+5820>>2]=0;u=0;while(1){if((u|0)==286){u=0;break}t[r+148+(u<<2)>>1]=0;u=u+1|0}while(1){if((u|0)==30){u=0;break}t[r+2440+(u<<2)>>1]=0;u=u+1|0}while(1){if((u|0)==19)break;t[r+2684+(u<<2)>>1]=0;u=u+1|0}t[r+1172>>1]=1;n[r+5804>>2]=0;n[r+5800>>2]=0;n[r+5808>>2]=0;n[r+5792>>2]=0;v=n[i>>2]|0;n[v+60>>2]=n[v+44>>2]<<1;w=v+76|0;e=v+68|0;t[(n[e>>2]|0)+((n[w>>2]|0)+-1<<1)>>1]=0;Qe(n[e>>2]|0,0,(n[w>>2]<<1)+-2|0)|0;w=n[v+132>>2]|0;n[v+128>>2]=o[8+(w*12|0)+2>>1];n[v+140>>2]=o[8+(w*12|0)>>1];n[v+144>>2]=o[8+(w*12|0)+4>>1];n[v+124>>2]=o[8+(w*12|0)+6>>1];n[v+108>>2]=0;n[v+92>>2]=0;n[v+116>>2]=0;n[v+5812>>2]=0;n[v+120>>2]=2;n[v+96>>2]=2;n[v+104>>2]=0;n[v+72>>2]=0;v=0;return v|0}n[f+4>>2]=666;n[p>>2]=13913;Se(e)|0;v=-4;return v|0}function Se(e){e=e|0;var r=0,i=0,a=0,t=0,f=0;if(!e){f=-2;return f|0}t=e+28|0;r=n[t>>2]|0;if(!r){f=-2;return f|0}f=n[r+4>>2]|0;switch(f|0){case 666:case 113:case 103:case 91:case 73:case 69:case 42:break;default:{f=-2;return f|0}}i=n[r+8>>2]|0;if(i){cr[n[e+36>>2]&1](n[e+40>>2]|0,i);r=n[t>>2]|0}i=n[r+68>>2]|0;if(i){cr[n[e+36>>2]&1](n[e+40>>2]|0,i);r=n[t>>2]|0}i=n[r+64>>2]|0;if(i){cr[n[e+36>>2]&1](n[e+40>>2]|0,i);r=n[t>>2]|0}i=n[r+56>>2]|0;if(!i){a=e+40|0;i=e+36|0}else{r=e+36|0;a=e+40|0;cr[n[r>>2]&1](n[a>>2]|0,i);i=r;r=n[t>>2]|0}cr[n[i>>2]&1](n[a>>2]|0,r);n[t>>2]=0;f=(f|0)==113?-3:0;return f|0}function Ce(e,r){e=e|0;r=r|0;var i=0,f=0,l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0;u=(n[e+12>>2]|0)+-5|0;u=u>>>0<65535?u:65535;b=e+116|0;w=e+108|0;v=e+92|0;k=e+56|0;p=e+44|0;while(1){i=n[b>>2]|0;if(i>>>0<2){Le(e);i=n[b>>2]|0;f=(i|0)==0;if(!((r|0)!=0|f^1)){i=0;f=55;break}if(f){f=30;break}}i=(n[w>>2]|0)+i|0;n[w>>2]=i;n[b>>2]=0;l=n[v>>2]|0;f=l+u|0;if(!((i|0)!=0&i>>>0<f>>>0)){n[b>>2]=i-f;n[w>>2]=f;if((l|0)>-1)i=(n[k>>2]|0)+l|0;else i=0;Ze(e,i,u,0);n[v>>2]=n[w>>2];s=n[e>>2]|0;c=n[s+28>>2]|0;i=c+5820|0;f=n[i>>2]|0;do if((f|0)!=16)if((f|0)>7){l=c+5816|0;g=t[l>>1]&255;f=c+20|0;y=n[f>>2]|0;n[f>>2]=y+1;a[(n[c+8>>2]|0)+y>>0]=g;t[l>>1]=(o[l>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{f=c+20|0;break}else{g=c+5816|0;y=t[g>>1]&255;f=c+20|0;_=n[f>>2]|0;n[f>>2]=_+1;l=c+8|0;a[(n[l>>2]|0)+_>>0]=y;_=(o[g>>1]|0)>>>8&255;y=n[f>>2]|0;n[f>>2]=y+1;a[(n[l>>2]|0)+y>>0]=_;t[g>>1]=0;n[i>>2]=0}while(0);i=n[f>>2]|0;l=s+16|0;_=n[l>>2]|0;i=i>>>0>_>>>0?_:i;if(i|0?(_=s+12|0,d=c+16|0,ir(n[_>>2]|0,n[d>>2]|0,i|0)|0,n[_>>2]=(n[_>>2]|0)+i,n[d>>2]=(n[d>>2]|0)+i,_=s+20|0,n[_>>2]=(n[_>>2]|0)+i,n[l>>2]=(n[l>>2]|0)-i,_=n[f>>2]|0,n[f>>2]=_-i,(_|0)==(i|0)):0)n[d>>2]=n[c+8>>2];if(!(n[(n[e>>2]|0)+16>>2]|0)){i=0;f=55;break}i=n[w>>2]|0;l=n[v>>2]|0}f=i-l|0;if(f>>>0<((n[p>>2]|0)+-262|0)>>>0)continue;if((l|0)>-1)i=(n[k>>2]|0)+l|0;else i=0;Ze(e,i,f,0);n[v>>2]=n[w>>2];s=n[e>>2]|0;c=n[s+28>>2]|0;i=c+5820|0;f=n[i>>2]|0;do if((f|0)!=16)if((f|0)>7){_=c+5816|0;y=t[_>>1]&255;f=c+20|0;g=n[f>>2]|0;n[f>>2]=g+1;a[(n[c+8>>2]|0)+g>>0]=y;t[_>>1]=(o[_>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{f=c+20|0;break}else{_=c+5816|0;g=t[_>>1]&255;f=c+20|0;l=n[f>>2]|0;n[f>>2]=l+1;y=c+8|0;a[(n[y>>2]|0)+l>>0]=g;l=(o[_>>1]|0)>>>8&255;g=n[f>>2]|0;n[f>>2]=g+1;a[(n[y>>2]|0)+g>>0]=l;t[_>>1]=0;n[i>>2]=0}while(0);i=n[f>>2]|0;l=s+16|0;_=n[l>>2]|0;i=i>>>0>_>>>0?_:i;if(i|0?(_=s+12|0,h=c+16|0,ir(n[_>>2]|0,n[h>>2]|0,i|0)|0,n[_>>2]=(n[_>>2]|0)+i,n[h>>2]=(n[h>>2]|0)+i,_=s+20|0,n[_>>2]=(n[_>>2]|0)+i,n[l>>2]=(n[l>>2]|0)-i,_=n[f>>2]|0,n[f>>2]=_-i,(_|0)==(i|0)):0)n[h>>2]=n[c+8>>2];if(!(n[(n[e>>2]|0)+16>>2]|0)){i=0;f=55;break}}if((f|0)==30){n[e+5812>>2]=0;if((r|0)==4){f=n[v>>2]|0;if((f|0)>-1)i=(n[k>>2]|0)+f|0;else i=0;Ze(e,i,(n[w>>2]|0)-f|0,1);n[v>>2]=n[w>>2];c=n[e>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;f=n[i>>2]|0;do if((f|0)!=16)if((f|0)>7){_=u+5816|0;y=t[_>>1]&255;f=u+20|0;g=n[f>>2]|0;n[f>>2]=g+1;a[(n[u+8>>2]|0)+g>>0]=y;t[_>>1]=(o[_>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{f=u+20|0;break}else{_=u+5816|0;g=t[_>>1]&255;f=u+20|0;m=n[f>>2]|0;n[f>>2]=m+1;y=u+8|0;a[(n[y>>2]|0)+m>>0]=g;m=(o[_>>1]|0)>>>8&255;g=n[f>>2]|0;n[f>>2]=g+1;a[(n[y>>2]|0)+g>>0]=m;t[_>>1]=0;n[i>>2]=0}while(0);i=n[f>>2]|0;l=c+16|0;_=n[l>>2]|0;i=i>>>0>_>>>0?_:i;if(!i){_=n[e>>2]|0;_=_+16|0;_=n[_>>2]|0;_=(_|0)==0;_=_?2:3;return _|0}_=c+12|0;s=u+16|0;ir(n[_>>2]|0,n[s>>2]|0,i|0)|0;n[_>>2]=(n[_>>2]|0)+i;n[s>>2]=(n[s>>2]|0)+i;_=c+20|0;n[_>>2]=(n[_>>2]|0)+i;n[l>>2]=(n[l>>2]|0)-i;_=n[f>>2]|0;n[f>>2]=_-i;if((_|0)!=(i|0)){_=n[e>>2]|0;_=_+16|0;_=n[_>>2]|0;_=(_|0)==0;_=_?2:3;return _|0}n[s>>2]=n[u+8>>2];_=n[e>>2]|0;_=_+16|0;_=n[_>>2]|0;_=(_|0)==0;_=_?2:3;return _|0}f=n[w>>2]|0;l=n[v>>2]|0;if((f|0)>(l|0)){if((l|0)>-1)i=(n[k>>2]|0)+l|0;else i=0;Ze(e,i,f-l|0,0);n[v>>2]=n[w>>2];s=n[e>>2]|0;c=n[s+28>>2]|0;i=c+5820|0;f=n[i>>2]|0;do if((f|0)!=16)if((f|0)>7){_=c+5816|0;y=t[_>>1]&255;f=c+20|0;g=n[f>>2]|0;n[f>>2]=g+1;a[(n[c+8>>2]|0)+g>>0]=y;t[_>>1]=(o[_>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{f=c+20|0;break}else{_=c+5816|0;g=t[_>>1]&255;f=c+20|0;v=n[f>>2]|0;n[f>>2]=v+1;y=c+8|0;a[(n[y>>2]|0)+v>>0]=g;v=(o[_>>1]|0)>>>8&255;g=n[f>>2]|0;n[f>>2]=g+1;a[(n[y>>2]|0)+g>>0]=v;t[_>>1]=0;n[i>>2]=0}while(0);i=n[f>>2]|0;l=s+16|0;_=n[l>>2]|0;i=i>>>0>_>>>0?_:i;if(i|0?(_=s+12|0,m=c+16|0,ir(n[_>>2]|0,n[m>>2]|0,i|0)|0,n[_>>2]=(n[_>>2]|0)+i,n[m>>2]=(n[m>>2]|0)+i,_=s+20|0,n[_>>2]=(n[_>>2]|0)+i,n[l>>2]=(n[l>>2]|0)-i,_=n[f>>2]|0,n[f>>2]=_-i,(_|0)==(i|0)):0)n[m>>2]=n[c+8>>2];if(!(n[(n[e>>2]|0)+16>>2]|0)){_=0;return _|0}}_=1;return _|0}else if((f|0)==55)return i|0;return 0}function Le(e){e=e|0;var r=0,i=0,a=0,l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0,A=0,E=0,I=0,R=0,M=0;h=e+44|0;b=n[h>>2]|0;E=e+60|0;I=e+116|0;R=e+108|0;M=e+56|0;y=e+5812|0;g=e+72|0;_=e+88|0;A=e+84|0;d=e+68|0;p=e+52|0;k=e+64|0;w=e+112|0;v=e+92|0;m=e+76|0;r=n[I>>2]|0;i=b;while(1){u=n[R>>2]|0;a=(n[E>>2]|0)-r-u|0;if(u>>>0>=(b+(i+-262)|0)>>>0){i=n[M>>2]|0;ir(i|0,i+b|0,b|0)|0;n[w>>2]=(n[w>>2]|0)-b;n[R>>2]=(n[R>>2]|0)-b;n[v>>2]=(n[v>>2]|0)-b;i=n[m>>2]|0;r=i;i=(n[d>>2]|0)+(i<<1)|0;do{i=i+-2|0;u=o[i>>1]|0;t[i>>1]=u>>>0<b>>>0?0:u-b&65535;r=r+-1|0}while((r|0)!=0);r=b;i=(n[k>>2]|0)+(b<<1)|0;do{i=i+-2|0;u=o[i>>1]|0;t[i>>1]=u>>>0<b>>>0?0:u-b&65535;r=r+-1|0}while((r|0)!=0);a=a+b|0}l=n[e>>2]|0;s=l+4|0;c=n[s>>2]|0;if(!c)break;r=n[I>>2]|0;u=(n[M>>2]|0)+(n[R>>2]|0)+r|0;i=c>>>0>a>>>0?a:c;if(!i)i=0;else{n[s>>2]=c-i;ir(u|0,n[l>>2]|0,i|0)|0;switch(n[(n[l+28>>2]|0)+24>>2]|0){case 1:{c=l+48|0;n[c>>2]=We(n[c>>2]|0,u,i)|0;break}case 2:{c=l+48|0;n[c>>2]=je(n[c>>2]|0,u,i)|0;break}default:{}}n[l>>2]=(n[l>>2]|0)+i;r=l+8|0;n[r>>2]=(n[r>>2]|0)+i;r=n[I>>2]|0}r=r+i|0;n[I>>2]=r;i=n[y>>2]|0;e:do if((r+i|0)>>>0>2){a=(n[R>>2]|0)-i|0;u=n[M>>2]|0;c=f[u+a>>0]|0;n[g>>2]=c;n[g>>2]=(c<<n[_>>2]^(f[u+(a+1)>>0]|0))&n[A>>2];while(1){if(!i)break e;i=(n[g>>2]<<n[_>>2]^(f[(n[M>>2]|0)+(a+2)>>0]|0))&n[A>>2];n[g>>2]=i;t[(n[k>>2]|0)+((a&n[p>>2])<<1)>>1]=t[(n[d>>2]|0)+(i<<1)>>1]|0;t[(n[d>>2]|0)+(n[g>>2]<<1)>>1]=a;i=(n[y>>2]|0)+-1|0;n[y>>2]=i;r=n[I>>2]|0;if((r+i|0)>>>0<3)break e;a=a+1|0}}while(0);if(r>>>0>=262)break;if(!(n[(n[e>>2]|0)+4>>2]|0))break;i=n[h>>2]|0}a=e+5824|0;l=n[a>>2]|0;i=n[E>>2]|0;if(i>>>0<=l>>>0)return;r=(n[R>>2]|0)+(n[I>>2]|0)|0;if(l>>>0<r>>>0){R=i-r|0;R=R>>>0>258?258:R;Qe((n[M>>2]|0)+r|0,0,R|0)|0;n[a>>2]=r+R;return}r=r+258|0;if(r>>>0<=l>>>0)return;R=r-l|0;I=i-l|0;R=R>>>0>I>>>0?I:R;Qe((n[M>>2]|0)+l|0,0,R|0)|0;n[a>>2]=(n[a>>2]|0)+R;return}function Pe(e,r){e=e|0;r=r|0;var i=0,l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0,A=0,E=0,I=0,R=0,M=0,T=0,B=0,S=0,C=0,L=0,P=0,x=0;h=e+116|0;b=e+72|0;y=e+88|0;S=e+108|0;T=e+56|0;_=e+84|0;A=e+68|0;E=e+52|0;I=e+64|0;R=e+44|0;d=e+96|0;p=e+112|0;M=e+5792|0;k=e+5796|0;w=e+5784|0;v=e+5788|0;m=e+128|0;B=e+92|0;while(1){if((n[h>>2]|0)>>>0<262){Le(e);i=n[h>>2]|0;if(!(i>>>0>261|(r|0)!=0)){i=0;l=54;break}if(!i){l=29;break}if(i>>>0<=2)l=9;else l=6}else l=6;if((l|0)==6){l=0;i=n[S>>2]|0;u=(n[b>>2]<<n[y>>2]^(f[(n[T>>2]|0)+(i+2)>>0]|0))&n[_>>2];n[b>>2]=u;u=t[(n[A>>2]|0)+(u<<1)>>1]|0;t[(n[I>>2]|0)+((i&n[E>>2])<<1)>>1]=u;i=u&65535;t[(n[A>>2]|0)+(n[b>>2]<<1)>>1]=n[S>>2];if(u<<16>>16!=0?((n[S>>2]|0)-i|0)>>>0<=((n[R>>2]|0)+-262|0)>>>0:0){i=xe(e,i)|0;n[d>>2]=i}else l=9}if((l|0)==9)i=n[d>>2]|0;do if(i>>>0>2){l=i+253|0;i=(n[S>>2]|0)-(n[p>>2]|0)&65535;t[(n[k>>2]|0)+(n[M>>2]<<1)>>1]=i;u=n[M>>2]|0;n[M>>2]=u+1;a[(n[w>>2]|0)+u>>0]=l;i=i+-1<<16>>16;l=e+148+((f[13625+(l&255)>>0]|0|256)+1<<2)|0;t[l>>1]=(t[l>>1]|0)+1<<16>>16;l=i&65535;l=e+2440+((f[13113+((i&65535)<256?l:(l>>>7)+256|0)>>0]|0)<<2)|0;t[l>>1]=(t[l>>1]|0)+1<<16>>16;l=(n[M>>2]|0)==((n[v>>2]|0)+-1|0)&1;i=n[d>>2]|0;u=(n[h>>2]|0)-i|0;n[h>>2]=u;if(!(u>>>0>2?i>>>0<=(n[m>>2]|0)>>>0:0)){s=(n[S>>2]|0)+i|0;n[S>>2]=s;n[d>>2]=0;i=n[T>>2]|0;u=f[i+s>>0]|0;n[b>>2]=u;n[b>>2]=(u<<n[y>>2]^(f[i+(s+1)>>0]|0))&n[_>>2];i=l;break}n[d>>2]=i+-1;do{c=n[S>>2]|0;u=c+1|0;n[S>>2]=u;c=(n[b>>2]<<n[y>>2]^(f[(n[T>>2]|0)+(c+3)>>0]|0))&n[_>>2];n[b>>2]=c;t[(n[I>>2]|0)+((u&n[E>>2])<<1)>>1]=t[(n[A>>2]|0)+(c<<1)>>1]|0;t[(n[A>>2]|0)+(n[b>>2]<<1)>>1]=n[S>>2];u=(n[d>>2]|0)+-1|0;n[d>>2]=u}while((u|0)!=0);s=(n[S>>2]|0)+1|0;n[S>>2]=s;i=l}else{i=a[(n[T>>2]|0)+(n[S>>2]|0)>>0]|0;t[(n[k>>2]|0)+(n[M>>2]<<1)>>1]=0;s=n[M>>2]|0;n[M>>2]=s+1;a[(n[w>>2]|0)+s>>0]=i;i=e+148+((i&255)<<2)|0;t[i>>1]=(t[i>>1]|0)+1<<16>>16;i=(n[M>>2]|0)==((n[v>>2]|0)+-1|0)&1;n[h>>2]=(n[h>>2]|0)+-1;s=(n[S>>2]|0)+1|0;n[S>>2]=s}while(0);if(!i)continue;i=n[B>>2]|0;if((i|0)>-1)l=(n[T>>2]|0)+i|0;else l=0;Ze(e,l,s-i|0,0);n[B>>2]=n[S>>2];c=n[e>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){s=u+5816|0;P=t[s>>1]&255;l=u+20|0;L=n[l>>2]|0;n[l>>2]=L+1;a[(n[u+8>>2]|0)+L>>0]=P;t[s>>1]=(o[s>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=u+20|0;break}else{P=u+5816|0;L=t[P>>1]&255;l=u+20|0;x=n[l>>2]|0;n[l>>2]=x+1;s=u+8|0;a[(n[s>>2]|0)+x>>0]=L;x=(o[P>>1]|0)>>>8&255;L=n[l>>2]|0;n[l>>2]=L+1;a[(n[s>>2]|0)+L>>0]=x;t[P>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=c+16|0;x=n[s>>2]|0;i=i>>>0>x>>>0?x:i;if(i|0?(x=c+12|0,g=u+16|0,ir(n[x>>2]|0,n[g>>2]|0,i|0)|0,n[x>>2]=(n[x>>2]|0)+i,n[g>>2]=(n[g>>2]|0)+i,x=c+20|0,n[x>>2]=(n[x>>2]|0)+i,n[s>>2]=(n[s>>2]|0)-i,x=n[l>>2]|0,n[l>>2]=x-i,(x|0)==(i|0)):0)n[g>>2]=n[u+8>>2];if(!(n[(n[e>>2]|0)+16>>2]|0)){i=0;l=54;break}}if((l|0)==29){s=n[S>>2]|0;n[e+5812>>2]=s>>>0<2?s:2;if((r|0)==4){l=n[B>>2]|0;if((l|0)>-1)i=(n[T>>2]|0)+l|0;else i=0;Ze(e,i,s-l|0,1);n[B>>2]=n[S>>2];u=n[e>>2]|0;h=n[u+28>>2]|0;i=h+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){x=h+5816|0;L=t[x>>1]&255;l=h+20|0;P=n[l>>2]|0;n[l>>2]=P+1;a[(n[h+8>>2]|0)+P>>0]=L;t[x>>1]=(o[x>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=h+20|0;break}else{x=h+5816|0;P=t[x>>1]&255;l=h+20|0;C=n[l>>2]|0;n[l>>2]=C+1;L=h+8|0;a[(n[L>>2]|0)+C>>0]=P;C=(o[x>>1]|0)>>>8&255;P=n[l>>2]|0;n[l>>2]=P+1;a[(n[L>>2]|0)+P>>0]=C;t[x>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=u+16|0;x=n[s>>2]|0;i=i>>>0>x>>>0?x:i;if(!i){x=n[e>>2]|0;x=x+16|0;x=n[x>>2]|0;x=(x|0)==0;x=x?2:3;return x|0}x=u+12|0;c=h+16|0;ir(n[x>>2]|0,n[c>>2]|0,i|0)|0;n[x>>2]=(n[x>>2]|0)+i;n[c>>2]=(n[c>>2]|0)+i;x=u+20|0;n[x>>2]=(n[x>>2]|0)+i;n[s>>2]=(n[s>>2]|0)-i;x=n[l>>2]|0;n[l>>2]=x-i;if((x|0)!=(i|0)){x=n[e>>2]|0;x=x+16|0;x=n[x>>2]|0;x=(x|0)==0;x=x?2:3;return x|0}n[c>>2]=n[h+8>>2];x=n[e>>2]|0;x=x+16|0;x=n[x>>2]|0;x=(x|0)==0;x=x?2:3;return x|0}if(n[M>>2]|0){l=n[B>>2]|0;if((l|0)>-1)i=(n[T>>2]|0)+l|0;else i=0;Ze(e,i,s-l|0,0);n[B>>2]=n[S>>2];c=n[e>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){x=u+5816|0;L=t[x>>1]&255;l=u+20|0;P=n[l>>2]|0;n[l>>2]=P+1;a[(n[u+8>>2]|0)+P>>0]=L;t[x>>1]=(o[x>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=u+20|0;break}else{x=u+5816|0;P=t[x>>1]&255;l=u+20|0;S=n[l>>2]|0;n[l>>2]=S+1;L=u+8|0;a[(n[L>>2]|0)+S>>0]=P;S=(o[x>>1]|0)>>>8&255;P=n[l>>2]|0;n[l>>2]=P+1;a[(n[L>>2]|0)+P>>0]=S;t[x>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=c+16|0;x=n[s>>2]|0;i=i>>>0>x>>>0?x:i;if(i|0?(x=c+12|0,C=u+16|0,ir(n[x>>2]|0,n[C>>2]|0,i|0)|0,n[x>>2]=(n[x>>2]|0)+i,n[C>>2]=(n[C>>2]|0)+i,x=c+20|0,n[x>>2]=(n[x>>2]|0)+i,n[s>>2]=(n[s>>2]|0)-i,x=n[l>>2]|0,n[l>>2]=x-i,(x|0)==(i|0)):0)n[C>>2]=n[u+8>>2];if(!(n[(n[e>>2]|0)+16>>2]|0)){x=0;return x|0}}x=1;return x|0}else if((l|0)==54)return i|0;return 0}function xe(e,r){e=e|0;r=r|0;var i=0,t=0,f=0,l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0;s=n[e+124>>2]|0;k=n[e+56>>2]|0;b=n[e+108>>2]|0;f=k+b|0;l=n[e+120>>2]|0;h=n[e+144>>2]|0;u=(n[e+44>>2]|0)+-262|0;u=b>>>0>u>>>0?b-u|0:0;b=n[e+64>>2]|0;d=n[e+52>>2]|0;p=f+258|0;g=n[e+116>>2]|0;h=h>>>0>g>>>0?g:h;w=e+112|0;v=p;m=p+-258|0;c=r;t=l;s=l>>>0<(n[e+140>>2]|0)>>>0?s:s>>>2;e=f;i=a[f+l>>0]|0;l=a[f+(l+-1)>>0]|0;while(1){r=k+c|0;if((((a[r+t>>0]|0)==i<<24>>24?(a[r+(t+-1)>>0]|0)==l<<24>>24:0)?(a[r>>0]|0)==(a[e>>0]|0):0)?(y=r+1|0,(a[y>>0]|0)==(a[e+1>>0]|0)):0){f=y+1|0;e=e+2|0;while(1){r=e+1|0;if((a[r>>0]|0)!=(a[f+1>>0]|0))break;r=e+2|0;if((a[r>>0]|0)!=(a[f+2>>0]|0))break;r=e+3|0;if((a[r>>0]|0)!=(a[f+3>>0]|0))break;r=e+4|0;if((a[r>>0]|0)!=(a[f+4>>0]|0))break;r=e+5|0;if((a[r>>0]|0)!=(a[f+5>>0]|0))break;r=e+6|0;if((a[r>>0]|0)!=(a[f+6>>0]|0))break;r=e+7|0;if((a[r>>0]|0)!=(a[f+7>>0]|0))break;r=e+8|0;f=f+8|0;if(!(r>>>0<p>>>0?(a[r>>0]|0)==(a[f>>0]|0):0))break;else e=r}e=r-v|0;r=e+258|0;if((r|0)>(t|0)){n[w>>2]=c;if((r|0)>=(h|0)){e=20;break}t=r;f=m;i=a[m+r>>0]|0;r=a[m+(e+257)>>0]|0}else{f=m;r=l}}else{f=e;r=l}c=o[b+((c&d)<<1)>>1]|0;if(c>>>0<=u>>>0){r=t;e=20;break}s=s+-1|0;if(!s){r=t;e=20;break}else{e=f;l=r}}if((e|0)==20)return(r>>>0>g>>>0?g:r)|0;return 0}function Oe(e,r){e=e|0;r=r|0;var i=0,l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0,A=0,E=0,I=0,R=0,M=0,T=0,B=0,S=0,C=0,L=0,P=0,x=0,O=0,D=0,U=0,z=0,F=0,Z=0;b=e+116|0;d=e+72|0;A=e+88|0;U=e+108|0;O=e+56|0;T=e+84|0;B=e+68|0;S=e+52|0;C=e+64|0;L=e+96|0;p=e+120|0;k=e+112|0;w=e+100|0;P=e+5792|0;v=e+5796|0;m=e+5784|0;y=e+5788|0;g=e+104|0;D=e+92|0;_=e+128|0;E=e+44|0;R=e+136|0;e:while(1){i=n[b>>2]|0;while(1){if(i>>>0<262){Le(e);i=n[b>>2]|0;if(!(i>>>0>261|(r|0)!=0)){i=0;x=74;break e}if(!i){x=47;break e}if(i>>>0<=2){n[p>>2]=n[L>>2];n[w>>2]=n[k>>2];n[L>>2]=2;i=2}else x=8}else x=8;do if((x|0)==8){x=0;h=n[U>>2]|0;i=(n[d>>2]<<n[A>>2]^(f[(n[O>>2]|0)+(h+2)>>0]|0))&n[T>>2];n[d>>2]=i;i=t[(n[B>>2]|0)+(i<<1)>>1]|0;t[(n[C>>2]|0)+((h&n[S>>2])<<1)>>1]=i;i=i&65535;t[(n[B>>2]|0)+(n[d>>2]<<1)>>1]=n[U>>2];h=n[L>>2]|0;n[p>>2]=h;n[w>>2]=n[k>>2];n[L>>2]=2;if(((i|0)!=0?h>>>0<(n[_>>2]|0)>>>0:0)?((n[U>>2]|0)-i|0)>>>0<=((n[E>>2]|0)+-262|0)>>>0:0){i=xe(e,i)|0;n[L>>2]=i;if(i>>>0<6){if((n[R>>2]|0)!=1){if((i|0)!=3)break;if(((n[U>>2]|0)-(n[k>>2]|0)|0)>>>0<=4096){i=3;break}}n[L>>2]=2;i=2}}else i=2}while(0);l=n[p>>2]|0;if(!(l>>>0<3|i>>>0>l>>>0))break;if(!(n[g>>2]|0)){n[g>>2]=1;n[U>>2]=(n[U>>2]|0)+1;i=(n[b>>2]|0)+-1|0;n[b>>2]=i;continue}h=a[(n[O>>2]|0)+((n[U>>2]|0)+-1)>>0]|0;t[(n[v>>2]|0)+(n[P>>2]<<1)>>1]=0;u=n[P>>2]|0;n[P>>2]=u+1;a[(n[m>>2]|0)+u>>0]=h;h=e+148+((h&255)<<2)|0;t[h>>1]=(t[h>>1]|0)+1<<16>>16;if((n[P>>2]|0)==((n[y>>2]|0)+-1|0)){i=n[D>>2]|0;if((i|0)>-1)l=(n[O>>2]|0)+i|0;else l=0;Ze(e,l,(n[U>>2]|0)-i|0,0);n[D>>2]=n[U>>2];c=n[e>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){h=u+5816|0;F=t[h>>1]&255;l=u+20|0;s=n[l>>2]|0;n[l>>2]=s+1;a[(n[u+8>>2]|0)+s>>0]=F;t[h>>1]=(o[h>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=u+20|0;break}else{F=u+5816|0;h=t[F>>1]&255;l=u+20|0;Z=n[l>>2]|0;n[l>>2]=Z+1;s=u+8|0;a[(n[s>>2]|0)+Z>>0]=h;Z=(o[F>>1]|0)>>>8&255;h=n[l>>2]|0;n[l>>2]=h+1;a[(n[s>>2]|0)+h>>0]=Z;t[F>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=c+16|0;Z=n[s>>2]|0;i=i>>>0>Z>>>0?Z:i;if(i|0?(Z=c+12|0,M=u+16|0,ir(n[Z>>2]|0,n[M>>2]|0,i|0)|0,n[Z>>2]=(n[Z>>2]|0)+i,n[M>>2]=(n[M>>2]|0)+i,Z=c+20|0,n[Z>>2]=(n[Z>>2]|0)+i,n[s>>2]=(n[s>>2]|0)-i,Z=n[l>>2]|0,n[l>>2]=Z-i,(Z|0)==(i|0)):0)n[M>>2]=n[u+8>>2]}n[U>>2]=(n[U>>2]|0)+1;i=(n[b>>2]|0)+-1|0;n[b>>2]=i;if(!(n[(n[e>>2]|0)+16>>2]|0)){i=0;x=74;break e}}u=n[U>>2]|0;h=u+(n[b>>2]|0)+-3|0;c=l+253|0;u=u+65535-(n[w>>2]|0)&65535;t[(n[v>>2]|0)+(n[P>>2]<<1)>>1]=u;i=n[P>>2]|0;n[P>>2]=i+1;a[(n[m>>2]|0)+i>>0]=c;u=u+-1<<16>>16;c=e+148+((f[13625+(c&255)>>0]|0|256)+1<<2)|0;t[c>>1]=(t[c>>1]|0)+1<<16>>16;c=u&65535;c=e+2440+((f[13113+((u&65535)<256?c:(c>>>7)+256|0)>>0]|0)<<2)|0;t[c>>1]=(t[c>>1]|0)+1<<16>>16;c=n[P>>2]|0;u=(n[y>>2]|0)+-1|0;i=n[p>>2]|0;n[b>>2]=(n[b>>2]|0)-(i+-1);i=i+-2|0;n[p>>2]=i;do{l=n[U>>2]|0;s=l+1|0;n[U>>2]=s;if(s>>>0<=h>>>0){i=(n[d>>2]<<n[A>>2]^(f[(n[O>>2]|0)+(l+3)>>0]|0))&n[T>>2];n[d>>2]=i;t[(n[C>>2]|0)+((s&n[S>>2])<<1)>>1]=t[(n[B>>2]|0)+(i<<1)>>1]|0;t[(n[B>>2]|0)+(n[d>>2]<<1)>>1]=n[U>>2];i=n[p>>2]|0}i=i+-1|0;n[p>>2]=i}while((i|0)!=0);n[g>>2]=0;n[L>>2]=2;s=(n[U>>2]|0)+1|0;n[U>>2]=s;if((c|0)!=(u|0))continue;i=n[D>>2]|0;if((i|0)>-1)l=(n[O>>2]|0)+i|0;else l=0;Ze(e,l,s-i|0,0);n[D>>2]=n[U>>2];c=n[e>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){Z=u+5816|0;h=t[Z>>1]&255;l=u+20|0;F=n[l>>2]|0;n[l>>2]=F+1;a[(n[u+8>>2]|0)+F>>0]=h;t[Z>>1]=(o[Z>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=u+20|0;break}else{Z=u+5816|0;F=t[Z>>1]&255;l=u+20|0;s=n[l>>2]|0;n[l>>2]=s+1;h=u+8|0;a[(n[h>>2]|0)+s>>0]=F;s=(o[Z>>1]|0)>>>8&255;F=n[l>>2]|0;n[l>>2]=F+1;a[(n[h>>2]|0)+F>>0]=s;t[Z>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=c+16|0;Z=n[s>>2]|0;i=i>>>0>Z>>>0?Z:i;if(i|0?(Z=c+12|0,I=u+16|0,ir(n[Z>>2]|0,n[I>>2]|0,i|0)|0,n[Z>>2]=(n[Z>>2]|0)+i,n[I>>2]=(n[I>>2]|0)+i,Z=c+20|0,n[Z>>2]=(n[Z>>2]|0)+i,n[s>>2]=(n[s>>2]|0)-i,Z=n[l>>2]|0,n[l>>2]=Z-i,(Z|0)==(i|0)):0)n[I>>2]=n[u+8>>2];if(!(n[(n[e>>2]|0)+16>>2]|0)){i=0;x=74;break}}if((x|0)==47){if(n[g>>2]|0){Z=a[(n[O>>2]|0)+((n[U>>2]|0)+-1)>>0]|0;t[(n[v>>2]|0)+(n[P>>2]<<1)>>1]=0;F=n[P>>2]|0;n[P>>2]=F+1;a[(n[m>>2]|0)+F>>0]=Z;Z=e+148+((Z&255)<<2)|0;t[Z>>1]=(t[Z>>1]|0)+1<<16>>16;n[g>>2]=0}s=n[U>>2]|0;n[e+5812>>2]=s>>>0<2?s:2;if((r|0)==4){l=n[D>>2]|0;if((l|0)>-1)i=(n[O>>2]|0)+l|0;else i=0;Ze(e,i,s-l|0,1);n[D>>2]=n[U>>2];u=n[e>>2]|0;h=n[u+28>>2]|0;i=h+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){Z=h+5816|0;z=t[Z>>1]&255;l=h+20|0;F=n[l>>2]|0;n[l>>2]=F+1;a[(n[h+8>>2]|0)+F>>0]=z;t[Z>>1]=(o[Z>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=h+20|0;break}else{Z=h+5816|0;F=t[Z>>1]&255;l=h+20|0;U=n[l>>2]|0;n[l>>2]=U+1;z=h+8|0;a[(n[z>>2]|0)+U>>0]=F;U=(o[Z>>1]|0)>>>8&255;F=n[l>>2]|0;n[l>>2]=F+1;a[(n[z>>2]|0)+F>>0]=U;t[Z>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=u+16|0;Z=n[s>>2]|0;i=i>>>0>Z>>>0?Z:i;if(!i){Z=n[e>>2]|0;Z=Z+16|0;Z=n[Z>>2]|0;Z=(Z|0)==0;Z=Z?2:3;return Z|0}Z=u+12|0;c=h+16|0;ir(n[Z>>2]|0,n[c>>2]|0,i|0)|0;n[Z>>2]=(n[Z>>2]|0)+i;n[c>>2]=(n[c>>2]|0)+i;Z=u+20|0;n[Z>>2]=(n[Z>>2]|0)+i;n[s>>2]=(n[s>>2]|0)-i;Z=n[l>>2]|0;n[l>>2]=Z-i;if((Z|0)!=(i|0)){Z=n[e>>2]|0;Z=Z+16|0;Z=n[Z>>2]|0;Z=(Z|0)==0;Z=Z?2:3;return Z|0}n[c>>2]=n[h+8>>2];Z=n[e>>2]|0;Z=Z+16|0;Z=n[Z>>2]|0;Z=(Z|0)==0;Z=Z?2:3;return Z|0}if(n[P>>2]|0){l=n[D>>2]|0;if((l|0)>-1)i=(n[O>>2]|0)+l|0;else i=0;Ze(e,i,s-l|0,0);n[D>>2]=n[U>>2];c=n[e>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){Z=u+5816|0;U=t[Z>>1]&255;l=u+20|0;F=n[l>>2]|0;n[l>>2]=F+1;a[(n[u+8>>2]|0)+F>>0]=U;t[Z>>1]=(o[Z>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=u+20|0;break}else{Z=u+5816|0;F=t[Z>>1]&255;l=u+20|0;D=n[l>>2]|0;n[l>>2]=D+1;U=u+8|0;a[(n[U>>2]|0)+D>>0]=F;D=(o[Z>>1]|0)>>>8&255;F=n[l>>2]|0;n[l>>2]=F+1;a[(n[U>>2]|0)+F>>0]=D;t[Z>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=c+16|0;Z=n[s>>2]|0;i=i>>>0>Z>>>0?Z:i;if(i|0?(Z=c+12|0,z=u+16|0,ir(n[Z>>2]|0,n[z>>2]|0,i|0)|0,n[Z>>2]=(n[Z>>2]|0)+i,n[z>>2]=(n[z>>2]|0)+i,Z=c+20|0,n[Z>>2]=(n[Z>>2]|0)+i,n[s>>2]=(n[s>>2]|0)-i,Z=n[l>>2]|0,n[l>>2]=Z-i,(Z|0)==(i|0)):0)n[z>>2]=n[u+8>>2];if(!(n[(n[e>>2]|0)+16>>2]|0)){Z=0;return Z|0}}Z=1;return Z|0}else if((x|0)==74)return i|0;return 0}function De(e,r){e=e|0;r=r|0;var i=0,l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0,A=0,E=0,I=0,R=0,M=0,T=0,B=0,S=0,C=0,L=0,P=0,x=0,O=0,D=0,U=0,z=0,F=0,Z=0,N=0,H=0,G=0,J=0,Y=0,q=0,X=0;if(!e){e=-2;return e|0}Z=e+28|0;N=n[Z>>2]|0;if(r>>>0>5|(N|0)==0){e=-2;return e|0}J=e+12|0;do if(n[J>>2]|0){if((n[e>>2]|0)==0?n[e+4>>2]|0:0)break;z=N+4|0;i=n[z>>2]|0;if((i|0)!=666|(r|0)==4){G=e+16|0;if(!(n[G>>2]|0)){n[e+24>>2]=13933;e=-5;return e|0}n[N>>2]=e;F=N+40|0;I=n[F>>2]|0;n[F>>2]=r;do if((i|0)==42){if((n[N+24>>2]|0)!=2){l=(n[N+48>>2]<<12)+-30720|0;if((n[N+136>>2]|0)<=1?(s=n[N+132>>2]|0,(s|0)>=2):0)if((s|0)<6)i=64;else i=(s|0)==6?128:192;else i=0;w=l|i;R=N+108|0;w=(n[R>>2]|0)==0?w:w|32;n[z>>2]=113;l=N+20|0;i=n[l>>2]|0;n[l>>2]=i+1;s=N+8|0;a[(n[s>>2]|0)+i>>0]=w>>>8;i=n[l>>2]|0;n[l>>2]=i+1;a[(n[s>>2]|0)+i>>0]=((w>>>0)%31|0|w)^31;i=e+48|0;if(n[R>>2]|0){R=n[i>>2]|0;w=n[l>>2]|0;n[l>>2]=w+1;a[(n[s>>2]|0)+w>>0]=R>>>24;w=n[l>>2]|0;n[l>>2]=w+1;a[(n[s>>2]|0)+w>>0]=R>>>16;w=n[i>>2]|0;R=n[l>>2]|0;n[l>>2]=R+1;a[(n[s>>2]|0)+R>>0]=w>>>8;R=n[l>>2]|0;n[l>>2]=R+1;a[(n[s>>2]|0)+R>>0]=w}n[i>>2]=1;i=n[z>>2]|0;R=30;break}s=e+48|0;n[s>>2]=0;u=N+20|0;l=n[u>>2]|0;n[u>>2]=l+1;h=N+8|0;a[(n[h>>2]|0)+l>>0]=31;l=n[u>>2]|0;n[u>>2]=l+1;a[(n[h>>2]|0)+l>>0]=-117;l=n[u>>2]|0;n[u>>2]=l+1;a[(n[h>>2]|0)+l>>0]=8;l=N+28|0;i=n[l>>2]|0;if(!i){i=n[u>>2]|0;n[u>>2]=i+1;a[(n[h>>2]|0)+i>>0]=0;i=n[u>>2]|0;n[u>>2]=i+1;a[(n[h>>2]|0)+i>>0]=0;i=n[u>>2]|0;n[u>>2]=i+1;a[(n[h>>2]|0)+i>>0]=0;i=n[u>>2]|0;n[u>>2]=i+1;a[(n[h>>2]|0)+i>>0]=0;i=n[u>>2]|0;n[u>>2]=i+1;a[(n[h>>2]|0)+i>>0]=0;i=n[N+132>>2]|0;if((i|0)==9)i=2;else i=((i|0)<2?1:(n[N+136>>2]|0)>1)?4:0;A=n[u>>2]|0;n[u>>2]=A+1;a[(n[h>>2]|0)+A>>0]=i;A=n[u>>2]|0;n[u>>2]=A+1;a[(n[h>>2]|0)+A>>0]=3;n[z>>2]=113;break}R=((n[i>>2]|0)!=0|(n[i+44>>2]|0?2:0)|((n[i+16>>2]|0)==0?0:4)|((n[i+28>>2]|0)==0?0:8)|((n[i+36>>2]|0)==0?0:16))&255;i=n[u>>2]|0;n[u>>2]=i+1;a[(n[h>>2]|0)+i>>0]=R;i=n[(n[l>>2]|0)+4>>2]&255;R=n[u>>2]|0;n[u>>2]=R+1;a[(n[h>>2]|0)+R>>0]=i;R=(n[(n[l>>2]|0)+4>>2]|0)>>>8&255;i=n[u>>2]|0;n[u>>2]=i+1;a[(n[h>>2]|0)+i>>0]=R;i=(n[(n[l>>2]|0)+4>>2]|0)>>>16&255;R=n[u>>2]|0;n[u>>2]=R+1;a[(n[h>>2]|0)+R>>0]=i;R=(n[(n[l>>2]|0)+4>>2]|0)>>>24&255;i=n[u>>2]|0;n[u>>2]=i+1;a[(n[h>>2]|0)+i>>0]=R;i=n[N+132>>2]|0;if((i|0)==9)i=2;else i=((i|0)<2?1:(n[N+136>>2]|0)>1)?4:0;R=n[u>>2]|0;n[u>>2]=R+1;a[(n[h>>2]|0)+R>>0]=i;R=n[(n[l>>2]|0)+12>>2]&255;i=n[u>>2]|0;n[u>>2]=i+1;a[(n[h>>2]|0)+i>>0]=R;i=n[l>>2]|0;if(n[i+16>>2]|0){i=n[i+20>>2]&255;R=n[u>>2]|0;n[u>>2]=R+1;a[(n[h>>2]|0)+R>>0]=i;R=(n[(n[l>>2]|0)+20>>2]|0)>>>8&255;i=n[u>>2]|0;n[u>>2]=i+1;a[(n[h>>2]|0)+i>>0]=R;i=n[l>>2]|0}if(n[i+44>>2]|0)n[s>>2]=je(n[s>>2]|0,n[h>>2]|0,n[u>>2]|0)|0;n[N+32>>2]=0;n[z>>2]=69;R=31}else R=30;while(0);if((R|0)==30)if((i|0)==69)R=31;else R=56;do if((R|0)==31){b=N+28|0;i=n[b>>2]|0;if(!(n[i+16>>2]|0)){n[z>>2]=73;R=57;break}d=N+20|0;w=N+32|0;u=N+12|0;h=e+20|0;p=e+48|0;k=N+8|0;s=n[w>>2]|0;l=n[d>>2]|0;while(1){if(s>>>0>=(n[i+20>>2]&65535)>>>0)break;c=n[d>>2]|0;if((c|0)==(n[u>>2]|0)){if((n[i+44>>2]|0)!=0&c>>>0>l>>>0)n[p>>2]=je(n[p>>2]|0,(n[k>>2]|0)+l|0,c-l|0)|0;s=n[Z>>2]|0;i=s+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){c=s+5816|0;q=t[c>>1]&255;l=s+20|0;Y=n[l>>2]|0;n[l>>2]=Y+1;a[(n[s+8>>2]|0)+Y>>0]=q;t[c>>1]=(o[c>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=s+20|0;break}else{q=s+5816|0;Y=t[q>>1]&255;l=s+20|0;X=n[l>>2]|0;n[l>>2]=X+1;c=s+8|0;a[(n[c>>2]|0)+X>>0]=Y;X=(o[q>>1]|0)>>>8&255;Y=n[l>>2]|0;n[l>>2]=Y+1;a[(n[c>>2]|0)+Y>>0]=X;t[q>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;X=n[G>>2]|0;i=i>>>0>X>>>0?X:i;if(i|0?(v=s+16|0,ir(n[J>>2]|0,n[v>>2]|0,i|0)|0,n[J>>2]=(n[J>>2]|0)+i,n[v>>2]=(n[v>>2]|0)+i,n[h>>2]=(n[h>>2]|0)+i,n[G>>2]=(n[G>>2]|0)-i,X=n[l>>2]|0,n[l>>2]=X-i,(X|0)==(i|0)):0)n[v>>2]=n[s+8>>2];l=n[d>>2]|0;if((l|0)==(n[u>>2]|0)){R=46;break}i=n[b>>2]|0;s=n[w>>2]|0;c=l}s=a[(n[i+16>>2]|0)+s>>0]|0;n[d>>2]=c+1;a[(n[k>>2]|0)+c>>0]=s;s=(n[w>>2]|0)+1|0;n[w>>2]=s;i=n[b>>2]|0}if((R|0)==46)i=n[b>>2]|0;if((n[i+44>>2]|0)!=0?(m=n[d>>2]|0,m>>>0>l>>>0):0){n[p>>2]=je(n[p>>2]|0,(n[k>>2]|0)+l|0,m-l|0)|0;i=n[b>>2]|0}if((n[w>>2]|0)==(n[i+20>>2]|0)){n[w>>2]=0;n[z>>2]=73;R=57;break}else{i=n[z>>2]|0;R=56;break}}while(0);if((R|0)==56)if((i|0)==73)R=57;else R=80;do if((R|0)==57){h=N+28|0;if(!(n[(n[h>>2]|0)+28>>2]|0)){n[z>>2]=91;R=81;break}b=N+20|0;l=n[b>>2]|0;c=N+12|0;u=e+20|0;d=e+48|0;p=N+8|0;k=N+32|0;i=l;while(1){if((i|0)==(n[c>>2]|0)){if(i>>>0>l>>>0?(n[(n[h>>2]|0)+44>>2]|0)!=0:0)n[d>>2]=je(n[d>>2]|0,(n[p>>2]|0)+l|0,i-l|0)|0;s=n[Z>>2]|0;i=s+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=s+5816|0;Y=t[X>>1]&255;l=s+20|0;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[s+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=s+20|0;break}else{X=s+5816|0;q=t[X>>1]&255;l=s+20|0;R=n[l>>2]|0;n[l>>2]=R+1;Y=s+8|0;a[(n[Y>>2]|0)+R>>0]=q;R=(o[X>>1]|0)>>>8&255;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=R;t[X>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;X=n[G>>2]|0;i=i>>>0>X>>>0?X:i;if(i|0?(y=s+16|0,ir(n[J>>2]|0,n[y>>2]|0,i|0)|0,n[J>>2]=(n[J>>2]|0)+i,n[y>>2]=(n[y>>2]|0)+i,n[u>>2]=(n[u>>2]|0)+i,n[G>>2]=(n[G>>2]|0)-i,X=n[l>>2]|0,n[l>>2]=X-i,(X|0)==(i|0)):0)n[y>>2]=n[s+8>>2];l=n[b>>2]|0;if((l|0)==(n[c>>2]|0)){i=1;break}else i=l}s=n[k>>2]|0;n[k>>2]=s+1;s=a[(n[(n[h>>2]|0)+28>>2]|0)+s>>0]|0;n[b>>2]=i+1;a[(n[p>>2]|0)+i>>0]=s;if(!(s<<24>>24)){i=s&255;break}i=n[b>>2]|0}if(n[(n[h>>2]|0)+44>>2]|0?(g=n[b>>2]|0,g>>>0>l>>>0):0)n[d>>2]=je(n[d>>2]|0,(n[p>>2]|0)+l|0,g-l|0)|0;if(!i){n[k>>2]=0;n[z>>2]=91;R=81;break}else{i=n[z>>2]|0;R=80;break}}while(0);if((R|0)==80)if((i|0)==91)R=81;else{c=i;R=104}do if((R|0)==81){b=N+28|0;if(!(n[(n[b>>2]|0)+36>>2]|0)){n[z>>2]=103;R=105;break}d=N+20|0;l=n[d>>2]|0;c=N+12|0;u=e+20|0;p=e+48|0;k=N+8|0;h=N+32|0;i=l;while(1){if((i|0)==(n[c>>2]|0)){if(i>>>0>l>>>0?(n[(n[b>>2]|0)+44>>2]|0)!=0:0)n[p>>2]=je(n[p>>2]|0,(n[k>>2]|0)+l|0,i-l|0)|0;s=n[Z>>2]|0;i=s+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=s+5816|0;Y=t[X>>1]&255;l=s+20|0;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[s+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=s+20|0;break}else{X=s+5816|0;q=t[X>>1]&255;l=s+20|0;R=n[l>>2]|0;n[l>>2]=R+1;Y=s+8|0;a[(n[Y>>2]|0)+R>>0]=q;R=(o[X>>1]|0)>>>8&255;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=R;t[X>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;X=n[G>>2]|0;i=i>>>0>X>>>0?X:i;if(i|0?(_=s+16|0,ir(n[J>>2]|0,n[_>>2]|0,i|0)|0,n[J>>2]=(n[J>>2]|0)+i,n[_>>2]=(n[_>>2]|0)+i,n[u>>2]=(n[u>>2]|0)+i,n[G>>2]=(n[G>>2]|0)-i,X=n[l>>2]|0,n[l>>2]=X-i,(X|0)==(i|0)):0)n[_>>2]=n[s+8>>2];l=n[d>>2]|0;if((l|0)==(n[c>>2]|0)){i=1;break}else i=l}s=n[h>>2]|0;n[h>>2]=s+1;s=a[(n[(n[b>>2]|0)+36>>2]|0)+s>>0]|0;n[d>>2]=i+1;a[(n[k>>2]|0)+i>>0]=s;if(!(s<<24>>24)){i=s&255;break}i=n[d>>2]|0}if(n[(n[b>>2]|0)+44>>2]|0?(A=n[d>>2]|0,A>>>0>l>>>0):0)n[p>>2]=je(n[p>>2]|0,(n[k>>2]|0)+l|0,A-l|0)|0;if(!i){n[z>>2]=103;R=105;break}else{c=n[z>>2]|0;R=104;break}}while(0);if((R|0)==104?(c|0)==103:0)R=105;do if((R|0)==105){if(!(n[(n[N+28>>2]|0)+44>>2]|0)){n[z>>2]=113;break}c=N+20|0;u=N+12|0;if(((n[c>>2]|0)+2|0)>>>0>(n[u>>2]|0)>>>0){s=n[Z>>2]|0;i=s+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=s+5816|0;Y=t[X>>1]&255;l=s+20|0;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[s+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=s+20|0;break}else{X=s+5816|0;q=t[X>>1]&255;l=s+20|0;R=n[l>>2]|0;n[l>>2]=R+1;Y=s+8|0;a[(n[Y>>2]|0)+R>>0]=q;R=(o[X>>1]|0)>>>8&255;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=R;t[X>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;X=n[G>>2]|0;i=i>>>0>X>>>0?X:i;if(i|0?(E=s+16|0,ir(n[J>>2]|0,n[E>>2]|0,i|0)|0,n[J>>2]=(n[J>>2]|0)+i,n[E>>2]=(n[E>>2]|0)+i,X=e+20|0,n[X>>2]=(n[X>>2]|0)+i,n[G>>2]=(n[G>>2]|0)-i,X=n[l>>2]|0,n[l>>2]=X-i,(X|0)==(i|0)):0)n[E>>2]=n[s+8>>2]}i=n[c>>2]|0;if((i+2|0)>>>0<=(n[u>>2]|0)>>>0){X=e+48|0;R=n[X>>2]&255;n[c>>2]=i+1;Y=N+8|0;a[(n[Y>>2]|0)+i>>0]=R;R=(n[X>>2]|0)>>>8&255;q=n[c>>2]|0;n[c>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=R;n[X>>2]=0;n[z>>2]=113}}while(0);_=N+20|0;if(!(n[_>>2]|0)){if((n[e+4>>2]|0)==0?!((r|0)==4?1:((r<<1)-((r|0)>4?9:0)|0)>((I<<1)-((I|0)>4?9:0)|0)):0){n[e+24>>2]=13933;X=-5;return X|0}}else{c=n[Z>>2]|0;i=c+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=c+5816|0;Y=t[X>>1]&255;s=c+20|0;q=n[s>>2]|0;n[s>>2]=q+1;a[(n[c+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{s=c+20|0;break}else{X=c+5816|0;q=t[X>>1]&255;s=c+20|0;R=n[s>>2]|0;n[s>>2]=R+1;Y=c+8|0;a[(n[Y>>2]|0)+R>>0]=q;R=(o[X>>1]|0)>>>8&255;q=n[s>>2]|0;n[s>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=R;t[X>>1]=0;n[i>>2]=0}while(0);l=n[s>>2]|0;i=n[G>>2]|0;l=l>>>0>i>>>0?i:l;if(l){i=c+16|0;ir(n[J>>2]|0,n[i>>2]|0,l|0)|0;n[J>>2]=(n[J>>2]|0)+l;n[i>>2]=(n[i>>2]|0)+l;X=e+20|0;n[X>>2]=(n[X>>2]|0)+l;n[G>>2]=(n[G>>2]|0)-l;X=n[s>>2]|0;n[s>>2]=X-l;if((X|0)==(l|0))n[i>>2]=n[c+8>>2];i=n[G>>2]|0}if(!i){n[F>>2]=-1;X=0;return X|0}}l=(n[z>>2]|0)==666;i=n[e+4>>2]|0;if(l)if(!i)R=137;else{n[e+24>>2]=13933;X=-5;return X|0}else if(!i)R=137;else R=140;do if((R|0)==137)if(!(n[N+116>>2]|0))if(r)if(l)break;else{R=140;break}else{X=0;return X|0}else R=140;while(0);e:do if((R|0)==140){r:do switch(n[N+136>>2]|0){case 2:{h=N+116|0;b=N+96|0;m=N+108|0;v=N+56|0;d=N+5792|0;p=N+5796|0;k=N+5784|0;w=N+5788|0;y=N+92|0;while(1){if((n[h>>2]|0)==0?(Le(N),(n[h>>2]|0)==0):0)break;n[b>>2]=0;X=a[(n[v>>2]|0)+(n[m>>2]|0)>>0]|0;t[(n[p>>2]|0)+(n[d>>2]<<1)>>1]=0;i=n[d>>2]|0;n[d>>2]=i+1;a[(n[k>>2]|0)+i>>0]=X;X=N+148+((X&255)<<2)|0;t[X>>1]=(t[X>>1]|0)+1<<16>>16;X=(n[d>>2]|0)==((n[w>>2]|0)+-1|0);n[h>>2]=(n[h>>2]|0)+-1;i=(n[m>>2]|0)+1|0;n[m>>2]=i;if(!X)continue;l=n[y>>2]|0;if((l|0)>-1)s=(n[v>>2]|0)+l|0;else s=0;Ze(N,s,i-l|0,0);n[y>>2]=n[m>>2];c=n[N>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=u+5816|0;Y=t[X>>1]&255;l=u+20|0;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[u+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=u+20|0;break}else{X=u+5816|0;q=t[X>>1]&255;l=u+20|0;U=n[l>>2]|0;n[l>>2]=U+1;Y=u+8|0;a[(n[Y>>2]|0)+U>>0]=q;U=(o[X>>1]|0)>>>8&255;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=U;t[X>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=c+16|0;X=n[s>>2]|0;i=i>>>0>X>>>0?X:i;if(i|0?(X=c+12|0,M=u+16|0,ir(n[X>>2]|0,n[M>>2]|0,i|0)|0,n[X>>2]=(n[X>>2]|0)+i,n[M>>2]=(n[M>>2]|0)+i,X=c+20|0,n[X>>2]=(n[X>>2]|0)+i,n[s>>2]=(n[s>>2]|0)-i,X=n[l>>2]|0,n[l>>2]=X-i,(X|0)==(i|0)):0)n[M>>2]=n[u+8>>2];if(!(n[(n[N>>2]|0)+16>>2]|0)){R=244;break r}}if(r){n[N+5812>>2]=0;if((r|0)==4){l=n[y>>2]|0;if((l|0)>-1)i=(n[v>>2]|0)+l|0;else i=0;Ze(N,i,(n[m>>2]|0)-l|0,1);n[y>>2]=n[m>>2];c=n[N>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=u+5816|0;Y=t[X>>1]&255;l=u+20|0;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[u+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=u+20|0;break}else{X=u+5816|0;q=t[X>>1]&255;l=u+20|0;U=n[l>>2]|0;n[l>>2]=U+1;Y=u+8|0;a[(n[Y>>2]|0)+U>>0]=q;U=(o[X>>1]|0)>>>8&255;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=U;t[X>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=c+16|0;X=n[s>>2]|0;i=i>>>0>X>>>0?X:i;if(i|0?(X=c+12|0,T=u+16|0,ir(n[X>>2]|0,n[T>>2]|0,i|0)|0,n[X>>2]=(n[X>>2]|0)+i,n[T>>2]=(n[T>>2]|0)+i,X=c+20|0,n[X>>2]=(n[X>>2]|0)+i,n[s>>2]=(n[s>>2]|0)-i,X=n[l>>2]|0,n[l>>2]=X-i,(X|0)==(i|0)):0)n[T>>2]=n[u+8>>2];if(!(n[(n[N>>2]|0)+16>>2]|0)){i=2;R=242;break r}else{R=240;break r}}if(n[d>>2]|0){l=n[y>>2]|0;if((l|0)>-1)i=(n[v>>2]|0)+l|0;else i=0;Ze(N,i,(n[m>>2]|0)-l|0,0);n[y>>2]=n[m>>2];c=n[N>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=u+5816|0;Y=t[X>>1]&255;l=u+20|0;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[u+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=u+20|0;break}else{X=u+5816|0;q=t[X>>1]&255;l=u+20|0;z=n[l>>2]|0;n[l>>2]=z+1;Y=u+8|0;a[(n[Y>>2]|0)+z>>0]=q;z=(o[X>>1]|0)>>>8&255;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=z;t[X>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=c+16|0;X=n[s>>2]|0;i=i>>>0>X>>>0?X:i;if(i|0?(X=c+12|0,B=u+16|0,ir(n[X>>2]|0,n[B>>2]|0,i|0)|0,n[X>>2]=(n[X>>2]|0)+i,n[B>>2]=(n[B>>2]|0)+i,X=c+20|0,n[X>>2]=(n[X>>2]|0)+i,n[s>>2]=(n[s>>2]|0)-i,X=n[l>>2]|0,n[l>>2]=X-i,(X|0)==(i|0)):0)n[B>>2]=n[u+8>>2];
if(!(n[(n[N>>2]|0)+16>>2]|0))R=244}}else R=244;break}case 3:{h=N+116|0;b=N+96|0;y=N+108|0;m=N+56|0;d=N+5792|0;p=N+5796|0;k=N+5784|0;w=N+2440|0;v=N+5788|0;g=N+92|0;while(1){i=n[h>>2]|0;if(i>>>0<259){Le(N);i=n[h>>2]|0;if(!(i>>>0>258|(r|0)!=0)){R=244;break r}if(!i)break;n[b>>2]=0;if(i>>>0>2)R=188;else R=203}else{n[b>>2]=0;R=188}if((R|0)==188){R=0;l=n[y>>2]|0;if((((l|0)!=0?(S=(n[m>>2]|0)+l|0,L=S+-1|0,C=a[L>>0]|0,L=L+1|0,C<<24>>24==(a[L>>0]|0)):0)?(P=L+1|0,C<<24>>24==(a[P>>0]|0)):0)?(x=P+1|0,C<<24>>24==(a[x>>0]|0)):0){c=S+258|0;l=x;do{s=l+1|0;if(C<<24>>24!=(a[s>>0]|0)){l=s;break}s=l+2|0;if(C<<24>>24!=(a[s>>0]|0)){l=s;break}s=l+3|0;if(C<<24>>24!=(a[s>>0]|0)){l=s;break}s=l+4|0;if(C<<24>>24!=(a[s>>0]|0)){l=s;break}s=l+5|0;if(C<<24>>24!=(a[s>>0]|0)){l=s;break}s=l+6|0;if(C<<24>>24!=(a[s>>0]|0)){l=s;break}s=l+7|0;if(C<<24>>24!=(a[s>>0]|0)){l=s;break}l=l+8|0}while(l>>>0<c>>>0?C<<24>>24==(a[l>>0]|0):0);X=l-c+258|0;q=X>>>0>i>>>0;n[b>>2]=q?i:X;i=q?i:X;if(i>>>0>2){i=i+253|0;t[(n[p>>2]|0)+(n[d>>2]<<1)>>1]=1;s=n[d>>2]|0;n[d>>2]=s+1;a[(n[k>>2]|0)+s>>0]=i;i=N+148+((f[13625+(i&255)>>0]|256)+1<<2)|0;t[i>>1]=(t[i>>1]|0)+1<<16>>16;t[w>>1]=(t[w>>1]|0)+1<<16>>16;i=(n[d>>2]|0)==((n[v>>2]|0)+-1|0)&1;s=n[b>>2]|0;n[h>>2]=(n[h>>2]|0)-s;s=(n[y>>2]|0)+s|0;n[y>>2]=s;n[b>>2]=0}else R=203}else R=203}if((R|0)==203){R=0;i=a[(n[m>>2]|0)+(n[y>>2]|0)>>0]|0;t[(n[p>>2]|0)+(n[d>>2]<<1)>>1]=0;s=n[d>>2]|0;n[d>>2]=s+1;a[(n[k>>2]|0)+s>>0]=i;i=N+148+((i&255)<<2)|0;t[i>>1]=(t[i>>1]|0)+1<<16>>16;i=(n[d>>2]|0)==((n[v>>2]|0)+-1|0)&1;n[h>>2]=(n[h>>2]|0)+-1;s=(n[y>>2]|0)+1|0;n[y>>2]=s}if(!i)continue;i=n[g>>2]|0;if((i|0)>-1)l=(n[m>>2]|0)+i|0;else l=0;Ze(N,l,s-i|0,0);n[g>>2]=n[y>>2];c=n[N>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=u+5816|0;Y=t[X>>1]&255;l=u+20|0;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[u+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=u+20|0;break}else{X=u+5816|0;q=t[X>>1]&255;l=u+20|0;B=n[l>>2]|0;n[l>>2]=B+1;Y=u+8|0;a[(n[Y>>2]|0)+B>>0]=q;B=(o[X>>1]|0)>>>8&255;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=B;t[X>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=c+16|0;X=n[s>>2]|0;i=i>>>0>X>>>0?X:i;if(i|0?(X=c+12|0,O=u+16|0,ir(n[X>>2]|0,n[O>>2]|0,i|0)|0,n[X>>2]=(n[X>>2]|0)+i,n[O>>2]=(n[O>>2]|0)+i,X=c+20|0,n[X>>2]=(n[X>>2]|0)+i,n[s>>2]=(n[s>>2]|0)-i,X=n[l>>2]|0,n[l>>2]=X-i,(X|0)==(i|0)):0)n[O>>2]=n[u+8>>2];if(!(n[(n[N>>2]|0)+16>>2]|0)){R=244;break r}}n[N+5812>>2]=0;if((r|0)==4){l=n[g>>2]|0;if((l|0)>-1)i=(n[m>>2]|0)+l|0;else i=0;Ze(N,i,(n[y>>2]|0)-l|0,1);n[g>>2]=n[y>>2];c=n[N>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=u+5816|0;Y=t[X>>1]&255;l=u+20|0;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[u+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=u+20|0;break}else{X=u+5816|0;q=t[X>>1]&255;l=u+20|0;U=n[l>>2]|0;n[l>>2]=U+1;Y=u+8|0;a[(n[Y>>2]|0)+U>>0]=q;U=(o[X>>1]|0)>>>8&255;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=U;t[X>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=c+16|0;X=n[s>>2]|0;i=i>>>0>X>>>0?X:i;if(i|0?(X=c+12|0,D=u+16|0,ir(n[X>>2]|0,n[D>>2]|0,i|0)|0,n[X>>2]=(n[X>>2]|0)+i,n[D>>2]=(n[D>>2]|0)+i,X=c+20|0,n[X>>2]=(n[X>>2]|0)+i,n[s>>2]=(n[s>>2]|0)-i,X=n[l>>2]|0,n[l>>2]=X-i,(X|0)==(i|0)):0)n[D>>2]=n[u+8>>2];if(!(n[(n[N>>2]|0)+16>>2]|0)){i=2;R=242;break r}else{R=240;break r}}if(n[d>>2]|0){l=n[g>>2]|0;if((l|0)>-1)i=(n[m>>2]|0)+l|0;else i=0;Ze(N,i,(n[y>>2]|0)-l|0,0);n[g>>2]=n[y>>2];c=n[N>>2]|0;u=n[c+28>>2]|0;i=u+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=u+5816|0;Y=t[X>>1]&255;l=u+20|0;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[u+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=u+20|0;break}else{X=u+5816|0;q=t[X>>1]&255;l=u+20|0;z=n[l>>2]|0;n[l>>2]=z+1;Y=u+8|0;a[(n[Y>>2]|0)+z>>0]=q;z=(o[X>>1]|0)>>>8&255;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=z;t[X>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;s=c+16|0;X=n[s>>2]|0;i=i>>>0>X>>>0?X:i;if(i|0?(X=c+12|0,U=u+16|0,ir(n[X>>2]|0,n[U>>2]|0,i|0)|0,n[X>>2]=(n[X>>2]|0)+i,n[U>>2]=(n[U>>2]|0)+i,X=c+20|0,n[X>>2]=(n[X>>2]|0)+i,n[s>>2]=(n[s>>2]|0)-i,X=n[l>>2]|0,n[l>>2]=X-i,(X|0)==(i|0)):0)n[U>>2]=n[u+8>>2];if(!(n[(n[N>>2]|0)+16>>2]|0))R=244}break}default:{i=ur[n[8+((n[N+132>>2]|0)*12|0)+8>>2]&3](N,r)|0;if((i|0)==2){i=2;R=242}else switch(i|0){case 3:{i=3;R=242;break}case 0:{R=244;break}default:R=243}}}while(0);if((R|0)==240){i=3;R=242}if((R|0)==242){n[z>>2]=666;R=243}if((R|0)==243)switch(i|0){case 2:{R=244;break}case 1:break;default:break e}if((R|0)==244){if(n[G>>2]|0){X=0;return X|0}n[F>>2]=-1;X=0;return X|0}switch(r|0){case 1:{Fe(N);break}case 5:break;default:{ze(N,0,0,0);if((r|0)==3?(X=N+76|0,q=N+68|0,t[(n[q>>2]|0)+((n[X>>2]|0)+-1<<1)>>1]=0,Qe(n[q>>2]|0,0,(n[X>>2]<<1)+-2|0)|0,(n[N+116>>2]|0)==0):0){n[N+108>>2]=0;n[N+92>>2]=0;n[N+5812>>2]=0}}}c=n[Z>>2]|0;i=c+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=c+5816|0;Y=t[X>>1]&255;s=c+20|0;q=n[s>>2]|0;n[s>>2]=q+1;a[(n[c+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{s=c+20|0;break}else{X=c+5816|0;q=t[X>>1]&255;s=c+20|0;z=n[s>>2]|0;n[s>>2]=z+1;Y=c+8|0;a[(n[Y>>2]|0)+z>>0]=q;z=(o[X>>1]|0)>>>8&255;q=n[s>>2]|0;n[s>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=z;t[X>>1]=0;n[i>>2]=0}while(0);l=n[s>>2]|0;i=n[G>>2]|0;l=l>>>0>i>>>0?i:l;if(l){i=c+16|0;ir(n[J>>2]|0,n[i>>2]|0,l|0)|0;n[J>>2]=(n[J>>2]|0)+l;n[i>>2]=(n[i>>2]|0)+l;X=e+20|0;n[X>>2]=(n[X>>2]|0)+l;n[G>>2]=(n[G>>2]|0)-l;X=n[s>>2]|0;n[s>>2]=X-l;if((X|0)==(l|0))n[i>>2]=n[c+8>>2];i=n[G>>2]|0}if(!i){n[F>>2]=-1;X=0;return X|0}}while(0);if((r|0)!=4){X=0;return X|0}c=N+24|0;i=n[c>>2]|0;if((i|0)<1){X=1;return X|0}l=e+48|0;s=n[l>>2]|0;if((i|0)==2){Y=n[_>>2]|0;n[_>>2]=Y+1;q=N+8|0;a[(n[q>>2]|0)+Y>>0]=s;N=(n[l>>2]|0)>>>8&255;Y=n[_>>2]|0;n[_>>2]=Y+1;a[(n[q>>2]|0)+Y>>0]=N;Y=(n[l>>2]|0)>>>16&255;N=n[_>>2]|0;n[_>>2]=N+1;a[(n[q>>2]|0)+N>>0]=Y;N=(n[l>>2]|0)>>>24&255;Y=n[_>>2]|0;n[_>>2]=Y+1;a[(n[q>>2]|0)+Y>>0]=N;Y=e+8|0;N=n[Y>>2]&255;X=n[_>>2]|0;n[_>>2]=X+1;a[(n[q>>2]|0)+X>>0]=N;X=(n[Y>>2]|0)>>>8&255;N=n[_>>2]|0;n[_>>2]=N+1;a[(n[q>>2]|0)+N>>0]=X;N=(n[Y>>2]|0)>>>16&255;X=n[_>>2]|0;n[_>>2]=X+1;a[(n[q>>2]|0)+X>>0]=N;Y=(n[Y>>2]|0)>>>24&255;X=n[_>>2]|0;n[_>>2]=X+1;a[(n[q>>2]|0)+X>>0]=Y}else{Y=n[_>>2]|0;n[_>>2]=Y+1;q=N+8|0;a[(n[q>>2]|0)+Y>>0]=s>>>24;Y=n[_>>2]|0;n[_>>2]=Y+1;a[(n[q>>2]|0)+Y>>0]=s>>>16;Y=n[l>>2]|0;X=n[_>>2]|0;n[_>>2]=X+1;a[(n[q>>2]|0)+X>>0]=Y>>>8;X=n[_>>2]|0;n[_>>2]=X+1;a[(n[q>>2]|0)+X>>0]=Y}s=n[Z>>2]|0;i=s+5820|0;l=n[i>>2]|0;do if((l|0)!=16)if((l|0)>7){X=s+5816|0;Y=t[X>>1]&255;l=s+20|0;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[s+8>>2]|0)+q>>0]=Y;t[X>>1]=(o[X>>1]|0)>>>8;n[i>>2]=(n[i>>2]|0)+-8;break}else{l=s+20|0;break}else{X=s+5816|0;q=t[X>>1]&255;l=s+20|0;N=n[l>>2]|0;n[l>>2]=N+1;Y=s+8|0;a[(n[Y>>2]|0)+N>>0]=q;N=(o[X>>1]|0)>>>8&255;q=n[l>>2]|0;n[l>>2]=q+1;a[(n[Y>>2]|0)+q>>0]=N;t[X>>1]=0;n[i>>2]=0}while(0);i=n[l>>2]|0;X=n[G>>2]|0;i=i>>>0>X>>>0?X:i;if(i|0?(H=s+16|0,ir(n[J>>2]|0,n[H>>2]|0,i|0)|0,n[J>>2]=(n[J>>2]|0)+i,n[H>>2]=(n[H>>2]|0)+i,X=e+20|0,n[X>>2]=(n[X>>2]|0)+i,n[G>>2]=(n[G>>2]|0)-i,X=n[l>>2]|0,n[l>>2]=X-i,(X|0)==(i|0)):0)n[H>>2]=n[s+8>>2];i=n[c>>2]|0;if((i|0)>0)n[c>>2]=0-i;X=(n[_>>2]|0)==0&1;return X|0}}while(0);n[e+24>>2]=13900;X=-2;return X|0}function Ue(e,r,i,f,l,s){e=e|0;r=r|0;i=i|0;f=f|0;l=l|0;s=s|0;var c=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0,A=0,E=0,I=0,R=0,M=0,T=0,B=0,S=0,C=0,L=0,P=0,x=0;x=u;u=u+64|0;L=x+32|0;d=x;c=0;while(1){if((c|0)==16){c=0;break}t[L+(c<<1)>>1]=0;c=c+1|0}while(1){if((c|0)==(i|0))break;S=L+(o[r+(c<<1)>>1]<<1)|0;t[S>>1]=(t[S>>1]|0)+1<<16>>16;c=c+1|0}c=n[l>>2]|0;h=15;while(1){if(!h){p=11;break}if(t[L+(h<<1)>>1]|0){P=h;break}h=h+-1|0}if((p|0)==11){s=n[f>>2]|0;n[f>>2]=s+4;t[s>>1]=320;t[s+2>>1]=320>>>16;s=n[f>>2]|0;n[f>>2]=s+4;t[s>>1]=320;t[s+2>>1]=320>>>16;n[l>>2]=1;s=0;u=x;return s|0}c=c>>>0>P>>>0?P:c;k=1;while(1){if(k>>>0>=P>>>0)break;if(t[L+(k<<1)>>1]|0)break;k=k+1|0}S=c>>>0<k>>>0?k:c;h=1;b=1;while(1){if(b>>>0>=16)break;c=(h<<1)-(o[L+(b<<1)>>1]|0)|0;if((c|0)<0){C=-1;p=60;break}h=c;b=b+1|0}if((p|0)==60){u=x;return C|0}if((h|0)>0?!((e|0)!=0&(P|0)==1):0){s=-1;u=x;return s|0}t[d+2>>1]=0;c=0;h=1;while(1){if((h|0)==15){h=0;break}T=(c&65535)+(o[L+(h<<1)>>1]|0)|0;B=h+1|0;t[d+(B<<1)>>1]=T;c=T;h=B}while(1){if((h|0)==(i|0))break;c=t[r+(h<<1)>>1]|0;if(c<<16>>16){T=d+((c&65535)<<1)|0;B=t[T>>1]|0;t[T>>1]=B+1<<16>>16;t[s+((B&65535)<<1)>>1]=h}h=h+1|0}switch(e|0){case 0:{c=1<<S;I=s;R=19;M=s;break}case 1:{if(S>>>0>9){s=1;u=x;return s|0}else{c=1<<S;I=10628;R=256;M=10690}break}default:if((e|0)==2&S>>>0>9){s=1;u=x;return s|0}else{c=1<<S;I=11266;R=-1;M=11330}}A=c+-1|0;E=S&255;i=S;B=0;p=0;b=k;g=-1;T=n[f>>2]|0;h=0;e:while(1){y=1<<i;v=p;m=b;_=h;while(1){i=m-B|0;h=t[s+(_<<1)>>1]|0;b=h&65535;if((b|0)>=(R|0))if((b|0)>(R|0)){k=o[M+(b<<1)>>1]|0;h=t[I+(b<<1)>>1]|0}else{k=96;h=0}else k=0;d=1<<i;p=v>>>B;b=(h&65535)<<16|i<<8&65280|k&255;h=y;do{w=h;h=h-d|0;k=T+(p+h<<2)|0;t[k>>1]=b;t[k+2>>1]=b>>>16}while((w|0)!=(d|0));h=1<<m+-1;while(1){if(!(v&h))break;h=h>>>1}if(!h)v=0;else v=(v&h+-1)+h|0;_=_+1|0;k=L+(m<<1)|0;w=(t[k>>1]|0)+-1<<16>>16;t[k>>1]=w;if(!(w<<16>>16)){if((m|0)==(P|0)){p=57;break e}m=o[r+(o[s+(_<<1)>>1]<<1)>>1]|0}if(m>>>0<=S>>>0)continue;w=v&A;if((w|0)!=(g|0))break}p=(B|0)==0?S:B;k=T+(y<<2)|0;b=m-p|0;i=b;b=1<<b;while(1){h=i+p|0;if(h>>>0>=P>>>0)break;h=b-(o[L+(h<<1)>>1]|0)|0;if((h|0)<1)break;i=i+1|0;b=h<<1}d=c+(1<<i)|0;switch(e|0){case 1:{if(d>>>0>852){C=1;p=60;break e}break}case 2:{if(d>>>0>592){C=1;p=60;break e}break}default:{}}a[(n[f>>2]|0)+(w<<2)>>0]=i;a[(n[f>>2]|0)+(w<<2)+1>>0]=E;B=n[f>>2]|0;t[B+(w<<2)+2>>1]=(k-B|0)>>>2;B=p;p=v;b=m;g=w;T=k;h=_;c=d}if((p|0)==57){if(v|0){s=T+(v<<2)|0;e=P-B<<8&65280|64;t[s>>1]=e;t[s+2>>1]=e>>>16}n[f>>2]=(n[f>>2]|0)+(c<<2);n[l>>2]=S;s=0;u=x;return s|0}else if((p|0)==60){u=x;return C|0}return 0}function ze(e,r,i,f){e=e|0;r=r|0;i=i|0;f=f|0;var l=0,s=0,c=0,u=0,h=0,b=0;u=e+5820|0;c=n[u>>2]|0;l=f&65535;s=e+5816|0;f=o[s>>1]|0|l<<c;t[s>>1]=f;if((c|0)>13){b=e+20|0;c=n[b>>2]|0;n[b>>2]=c+1;h=e+8|0;a[(n[h>>2]|0)+c>>0]=f;f=(o[s>>1]|0)>>>8&255;c=n[b>>2]|0;n[b>>2]=c+1;a[(n[h>>2]|0)+c>>0]=f;c=n[u>>2]|0;f=l>>>(16-c|0);t[s>>1]=f;c=c+-13|0}else c=c+3|0;l=f&255;n[u>>2]=c;do if((c|0)<=8){f=e+5816|0;s=e+20|0;if((c|0)>0){h=n[s>>2]|0;n[s>>2]=h+1;b=e+8|0;a[(n[b>>2]|0)+h>>0]=l;l=b;break}else{l=e+8|0;break}}else{f=e+5816|0;s=e+20|0;h=n[s>>2]|0;n[s>>2]=h+1;b=e+8|0;a[(n[b>>2]|0)+h>>0]=l;h=(o[f>>1]|0)>>>8&255;l=n[s>>2]|0;n[s>>2]=l+1;a[(n[b>>2]|0)+l>>0]=h;l=b}while(0);t[f>>1]=0;n[u>>2]=0;h=n[s>>2]|0;n[s>>2]=h+1;a[(n[l>>2]|0)+h>>0]=i;h=i>>>8;b=n[s>>2]|0;n[s>>2]=b+1;a[(n[l>>2]|0)+b>>0]=h;b=n[s>>2]|0;n[s>>2]=b+1;a[(n[l>>2]|0)+b>>0]=i^255;b=n[s>>2]|0;n[s>>2]=b+1;a[(n[l>>2]|0)+b>>0]=h^255;while(1){if(!i)break;h=a[r>>0]|0;b=n[s>>2]|0;n[s>>2]=b+1;a[(n[l>>2]|0)+b>>0]=h;i=i+-1|0;r=r+1|0}return}function Fe(e){e=e|0;var r=0,i=0,f=0,l=0,s=0,c=0;l=e+5820|0;f=n[l>>2]|0;i=e+5816|0;r=o[i>>1]|0|2<<f;t[i>>1]=r;if((f|0)>13){c=e+20|0;f=n[c>>2]|0;n[c>>2]=f+1;s=e+8|0;a[(n[s>>2]|0)+f>>0]=r;r=(o[i>>1]|0)>>>8&255;f=n[c>>2]|0;n[c>>2]=f+1;a[(n[s>>2]|0)+f>>0]=r;f=n[l>>2]|0;r=2>>>(16-f|0);t[i>>1]=r;i=f+-13|0}else i=f+3|0;r=r&255;n[l>>2]=i;if((i|0)>9){i=e+5816|0;f=e+20|0;s=n[f>>2]|0;n[f>>2]=s+1;c=e+8|0;a[(n[c>>2]|0)+s>>0]=r;s=(o[i>>1]|0)>>>8&255;r=n[f>>2]|0;n[f>>2]=r+1;a[(n[c>>2]|0)+r>>0]=s;t[i>>1]=0;r=0;i=(n[l>>2]|0)+-9|0}else i=i+7|0;n[l>>2]=i;if((i|0)==16){c=e+5816|0;i=e+20|0;f=n[i>>2]|0;n[i>>2]=f+1;e=e+8|0;a[(n[e>>2]|0)+f>>0]=r;f=(o[c>>1]|0)>>>8&255;s=n[i>>2]|0;n[i>>2]=s+1;a[(n[e>>2]|0)+s>>0]=f;t[c>>1]=0;n[l>>2]=0;return}if((i|0)<=7)return;c=e+5816|0;f=e+20|0;s=n[f>>2]|0;n[f>>2]=s+1;a[(n[e+8>>2]|0)+s>>0]=r;t[c>>1]=(o[c>>1]|0)>>>8;n[l>>2]=(n[l>>2]|0)+-8;return}function Ze(e,r,i,l){e=e|0;r=r|0;i=i|0;l=l|0;var s=0,c=0,u=0,h=0,b=0,d=0,p=0,k=0,w=0;if((n[e+132>>2]|0)>0){h=(n[e>>2]|0)+44|0;if((n[h>>2]|0)==2){s=-201342849;c=0;while(1){if((c|0)>=32){u=7;break}if(s&1|0?t[e+148+(c<<2)>>1]|0:0){s=0;break}s=s>>>1;c=c+1|0}e:do if((u|0)==7)if(((t[e+184>>1]|0)==0?(t[e+188>>1]|0)==0:0)?(t[e+200>>1]|0)==0:0){s=32;while(1){if((s|0)>=256){s=0;break e}if(t[e+148+(s<<2)>>1]|0){s=1;break e}s=s+1|0}}else s=1;while(0);n[h>>2]=s}Ne(e,e+2840|0);Ne(e,e+2852|0);Ge(e,e+148|0,n[e+2844>>2]|0);Ge(e,e+2440|0,n[e+2856>>2]|0);Ne(e,e+2864|0);s=18;while(1){if((s|0)<=2)break;if(t[e+2684+(f[13881+s>>0]<<2)+2>>1]|0)break;s=s+-1|0}c=e+5800|0;w=(n[c>>2]|0)+((s*3|0)+17)|0;n[c>>2]=w;w=(w+10|0)>>>3;c=((n[e+5804>>2]|0)+10|0)>>>3;k=s+1|0;s=c>>>0>w>>>0?w:c}else{c=i+5|0;k=1;s=c}do if((i+4|0)>>>0>s>>>0|(r|0)==0){w=e+5820|0;r=n[w>>2]|0;h=(r|0)>13;if((c|0)==(s|0)?1:(n[e+136>>2]|0)==4){s=l+2&65535;c=e+5816|0;u=o[c>>1]|s<<r;t[c>>1]=u;if(h){b=e+20|0;d=n[b>>2]|0;n[b>>2]=d+1;p=e+8|0;a[(n[p>>2]|0)+d>>0]=u;d=(o[c>>1]|0)>>>8&255;k=n[b>>2]|0;n[b>>2]=k+1;a[(n[p>>2]|0)+k>>0]=d;k=n[w>>2]|0;t[c>>1]=s>>>(16-k|0);s=k+-13|0}else s=r+3|0;n[w>>2]=s;Je(e,11394,12546);s=0;break}u=l+4&65535;s=e+5816|0;c=o[s>>1]|u<<r;t[s>>1]=c;if(h){d=e+20|0;r=n[d>>2]|0;n[d>>2]=r+1;p=e+8|0;a[(n[p>>2]|0)+r>>0]=c;c=(o[s>>1]|0)>>>8&255;r=n[d>>2]|0;n[d>>2]=r+1;a[(n[p>>2]|0)+r>>0]=c;r=n[w>>2]|0;c=u>>>(16-r|0);t[s>>1]=c;r=r+-13|0}else r=r+3|0;n[w>>2]=r;d=n[e+2844>>2]|0;p=n[e+2856>>2]|0;u=d+65280&65535;h=e+5816|0;s=c&65535|u<<r;t[h>>1]=s;if((r|0)>11){r=e+20|0;b=n[r>>2]|0;n[r>>2]=b+1;i=e+8|0;a[(n[i>>2]|0)+b>>0]=s;s=(o[h>>1]|0)>>>8&255;b=n[r>>2]|0;n[r>>2]=b+1;a[(n[i>>2]|0)+b>>0]=s;b=n[w>>2]|0;s=u>>>(16-b|0);t[h>>1]=s;h=b+-11|0}else h=r+5|0;n[w>>2]=h;c=p&65535;u=e+5816|0;s=s&65535|c<<h;t[u>>1]=s;if((h|0)>11){r=e+20|0;b=n[r>>2]|0;n[r>>2]=b+1;i=e+8|0;a[(n[i>>2]|0)+b>>0]=s;s=(o[u>>1]|0)>>>8&255;b=n[r>>2]|0;n[r>>2]=b+1;a[(n[i>>2]|0)+b>>0]=s;b=n[w>>2]|0;s=c>>>(16-b|0);t[u>>1]=s;u=b+-11|0}else u=h+5|0;n[w>>2]=u;c=k+65532&65535;b=e+5816|0;s=s&65535|c<<u;t[b>>1]=s;if((u|0)>12){i=e+20|0;h=n[i>>2]|0;n[i>>2]=h+1;r=e+8|0;a[(n[r>>2]|0)+h>>0]=s;h=(o[b>>1]|0)>>>8&255;s=n[i>>2]|0;n[i>>2]=s+1;a[(n[r>>2]|0)+s>>0]=h;s=n[w>>2]|0;c=c>>>(16-s|0);t[b>>1]=c;s=s+-12|0;n[w>>2]=s}else{h=u+4|0;n[w>>2]=h;r=e+8|0;i=e+20|0;c=s;s=h}h=0;while(1){if((h|0)>=(k|0))break;u=o[e+2684+(f[13881+h>>0]<<2)+2>>1]|0;c=c&65535|u<<s;t[b>>1]=c;if((s|0)>13){s=n[i>>2]|0;n[i>>2]=s+1;a[(n[r>>2]|0)+s>>0]=c;c=(o[b>>1]|0)>>>8&255;s=n[i>>2]|0;n[i>>2]=s+1;a[(n[r>>2]|0)+s>>0]=c;s=n[w>>2]|0;c=u>>>(16-s|0);t[b>>1]=c;s=s+-13|0}else s=s+3|0;n[w>>2]=s;h=h+1|0}w=e+148|0;Ye(e,w,d);s=e+2440|0;Ye(e,s,p);Je(e,w,s);s=0}else{ze(e,r,i,l);s=0}while(0);while(1){if((s|0)==286){s=0;break}t[e+148+(s<<2)>>1]=0;s=s+1|0}while(1){if((s|0)==30){s=0;break}t[e+2440+(s<<2)>>1]=0;s=s+1|0}while(1){if((s|0)==19)break;t[e+2684+(s<<2)>>1]=0;s=s+1|0}t[e+1172>>1]=1;n[e+5804>>2]=0;n[e+5800>>2]=0;n[e+5808>>2]=0;n[e+5792>>2]=0;if(!l)return;u=e+5820|0;c=n[u>>2]|0;if((c|0)<=8){s=e+5816|0;if((c|0)>0){w=t[s>>1]&255;k=e+20|0;l=n[k>>2]|0;n[k>>2]=l+1;a[(n[e+8>>2]|0)+l>>0]=w}}else{s=e+5816|0;p=t[s>>1]&255;k=e+20|0;w=n[k>>2]|0;n[k>>2]=w+1;l=e+8|0;a[(n[l>>2]|0)+w>>0]=p;w=(o[s>>1]|0)>>>8&255;e=n[k>>2]|0;n[k>>2]=e+1;a[(n[l>>2]|0)+e>>0]=w}t[s>>1]=0;n[u>>2]=0;return}function Ne(e,r){e=e|0;r=r|0;var i=0,f=0,l=0,s=0,c=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0,A=0,E=0,I=0;I=u;u=u+32|0;E=I;A=n[r>>2]|0;d=r+8|0;h=n[d>>2]|0;c=n[h>>2]|0;h=n[h+12>>2]|0;b=e+5200|0;n[b>>2]=0;w=e+5204|0;n[w>>2]=573;i=-1;f=0;while(1){if((f|0)>=(h|0))break;if(!(t[A+(f<<2)>>1]|0))t[A+(f<<2)+2>>1]=0;else{i=(n[b>>2]|0)+1|0;n[b>>2]=i;n[e+2908+(i<<2)>>2]=f;a[e+5208+f>>0]=0;i=f}f=f+1|0}g=e+5800|0;s=(c|0)==0;v=e+5804|0;_=i;while(1){l=n[b>>2]|0;if((l|0)>=2)break;y=(_|0)<2;i=_+1|0;f=y?i:_;i=y?i:0;_=l+1|0;n[b>>2]=_;n[e+2908+(_<<2)>>2]=i;t[A+(i<<2)>>1]=1;a[e+5208+i>>0]=0;n[g>>2]=(n[g>>2]|0)+-1;if(s){_=f;continue}n[v>>2]=(n[v>>2]|0)-(o[c+(i<<2)+2>>1]|0);_=f}s=r+4|0;n[s>>2]=_;i=(n[b>>2]|0)/2|0;while(1){if((i|0)<=0)break;He(e,A,i);i=i+-1|0}f=e+2912|0;l=n[b>>2]|0;i=h;while(1){y=n[f>>2]|0;n[b>>2]=l+-1;n[f>>2]=n[e+2908+(l<<2)>>2];He(e,A,1);k=n[f>>2]|0;m=(n[w>>2]|0)+-1|0;n[w>>2]=m;n[e+2908+(m<<2)>>2]=y;m=(n[w>>2]|0)+-1|0;n[w>>2]=m;n[e+2908+(m<<2)>>2]=k;t[A+(i<<2)>>1]=(o[A+(y<<2)>>1]|0)+(o[A+(k<<2)>>1]|0);m=a[e+5208+y>>0]|0;p=a[e+5208+k>>0]|0;a[e+5208+i>>0]=(((m&255)<(p&255)?p:m)&255)+1;m=i&65535;t[A+(k<<2)+2>>1]=m;t[A+(y<<2)+2>>1]=m;n[f>>2]=i;He(e,A,1);l=n[b>>2]|0;if((l|0)<=1)break;else i=i+1|0}m=n[f>>2]|0;y=(n[w>>2]|0)+-1|0;n[w>>2]=y;n[e+2908+(y<<2)>>2]=m;y=n[r>>2]|0;m=n[s>>2]|0;k=n[d>>2]|0;r=n[k>>2]|0;d=n[k+4>>2]|0;p=n[k+8>>2]|0;k=n[k+16>>2]|0;i=0;while(1){if((i|0)==16)break;t[e+2876+(i<<1)>>1]=0;i=i+1|0}t[y+(n[e+2908+(n[w>>2]<<2)>>2]<<2)+2>>1]=0;b=(r|0)==0;i=n[w>>2]|0;h=0;while(1){i=i+1|0;if((i|0)>=573)break;c=n[e+2908+(i<<2)>>2]|0;w=y+(c<<2)+2|0;s=o[y+(o[w>>1]<<2)+2>>1]|0;l=(s|0)<(k|0);s=l?s+1|0:k;h=h+(l&1^1)|0;t[w>>1]=s;if((c|0)>(m|0))continue;w=e+2876+(s<<1)|0;t[w>>1]=(t[w>>1]|0)+1<<16>>16;if((c|0)<(p|0))l=0;else l=n[d+(c-p<<2)>>2]|0;f=o[y+(c<<2)>>1]|0;w=ee(f,s+l|0)|0;n[g>>2]=(n[g>>2]|0)+w;if(b)continue;w=ee(f,(o[r+(c<<2)+2>>1]|0)+l|0)|0;n[v>>2]=(n[v>>2]|0)+w}e:do if(h|0){b=e+2876+(k<<1)|0;while(1){c=k;while(1){s=c+-1|0;f=e+2876+(s<<1)|0;l=t[f>>1]|0;if(!(l<<16>>16))c=s;else break}t[f>>1]=l+-1<<16>>16;v=e+2876+(c<<1)|0;t[v>>1]=(o[v>>1]|0)+2;t[b>>1]=(t[b>>1]|0)+-1<<16>>16;if((h|0)>2)h=h+-2|0;else{b=k;break}}while(1){if(!b)break e;h=b&65535;c=o[e+2876+(b<<1)>>1]|0;r:while(1){f=(c|0)==0;do{if(f)break r;i=i+-1|0;s=n[e+2908+(i<<2)>>2]|0}while((s|0)>(m|0));f=y+(s<<2)+2|0;l=o[f>>1]|0;if((b|0)!=(l|0)){v=ee(b-l|0,o[y+(s<<2)>>1]|0)|0;n[g>>2]=(n[g>>2]|0)+v;t[f>>1]=h}c=c+-1|0}b=b+-1|0}}while(0);i=1;f=0;while(1){if((i|0)==16){s=0;break}g=(f&65534)+(o[e+2876+(i+-1<<1)>>1]|0)<<1;t[E+(i<<1)>>1]=g;i=i+1|0;f=g}while(1){if((s|0)>(_|0))break;e=t[A+(s<<2)+2>>1]|0;i=e&65535;if(e<<16>>16){f=E+(i<<1)|0;l=t[f>>1]|0;t[f>>1]=l+1<<16>>16;l=l&65535;f=0;while(1){f=f|l&1;if((i|0)>1){l=l>>>1;i=i+-1|0;f=f<<1}else break}t[A+(s<<2)>>1]=f}s=s+1|0}u=I;return}function He(e,r,i){e=e|0;r=r|0;i=i|0;var a=0,o=0,l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0;p=n[e+2908+(i<<2)>>2]|0;h=e+5208+p|0;b=e+5200|0;d=r+(p<<2)|0;u=i;while(1){c=u<<1;i=n[b>>2]|0;if((c|0)>(i|0)){i=12;break}do if((c|0)<(i|0)){l=c|1;i=n[e+2908+(l<<2)>>2]|0;a=t[r+(i<<2)>>1]|0;o=n[e+2908+(c<<2)>>2]|0;s=t[r+(o<<2)>>1]|0;if((a&65535)>=(s&65535)){if(a<<16>>16!=s<<16>>16){l=c;break}if((f[e+5208+i>>0]|0)>(f[e+5208+o>>0]|0)){l=c;break}}}else l=c;while(0);i=t[d>>1]|0;a=n[e+2908+(l<<2)>>2]|0;o=t[r+(a<<2)>>1]|0;if((i&65535)<(o&65535)){i=12;break}if(i<<16>>16==o<<16>>16?(f[h>>0]|0)<=(f[e+5208+a>>0]|0):0){i=12;break}n[e+2908+(u<<2)>>2]=a;u=l}if((i|0)==12){n[e+2908+(u<<2)>>2]=p;return}}function Ge(e,r,i){e=e|0;r=r|0;i=i|0;var a=0,n=0,f=0,l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0;d=t[r+2>>1]|0;b=d<<16>>16==0;t[r+(i+1<<2)+2>>1]=-1;s=e+2752|0;c=e+2756|0;u=e+2748|0;n=0;h=b?138:7;b=b?3:4;a=0;d=d&65535;p=-1;while(1){if((a|0)>(i|0))break;a=a+1|0;f=t[r+(a<<2)+2>>1]|0;l=f&65535;n=n+1|0;if((n|0)<(h|0)&(d|0)==(l|0)){f=p;d=l;p=f;continue}do if((n|0)>=(b|0))if(!d)if((n|0)<11){t[s>>1]=(t[s>>1]|0)+1<<16>>16;break}else{t[c>>1]=(t[c>>1]|0)+1<<16>>16;break}else{if((d|0)!=(p|0)){p=e+2684+(d<<2)|0;t[p>>1]=(t[p>>1]|0)+1<<16>>16}t[u>>1]=(t[u>>1]|0)+1<<16>>16;break}else{p=e+2684+(d<<2)|0;t[p>>1]=(o[p>>1]|0)+n}while(0);if(!(f<<16>>16)){p=d;n=0;h=138;b=3;d=l;continue}b=(d|0)==(l|0);p=d;n=0;h=b?6:7;b=b?3:4;d=l}return}function Je(e,r,i){e=e|0;r=r|0;i=i|0;var l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0,A=0;w=e+5792|0;if(!(n[w>>2]|0)){h=e+5820|0;b=h;h=n[h>>2]|0}else{v=e+5796|0;m=e+5784|0;b=e+5820|0;y=e+5816|0;g=e+20|0;_=e+8|0;A=0;do{d=t[(n[v>>2]|0)+(A<<1)>>1]|0;k=d&65535;p=f[(n[m>>2]|0)+A>>0]|0;A=A+1|0;do if(!(d<<16>>16)){c=o[r+(p<<2)+2>>1]|0;u=n[b>>2]|0;l=o[r+(p<<2)>>1]|0;s=o[y>>1]|0|l<<u;t[y>>1]=s;if((u|0)>(16-c|0)){k=n[g>>2]|0;n[g>>2]=k+1;a[(n[_>>2]|0)+k>>0]=s;k=(o[y>>1]|0)>>>8&255;h=n[g>>2]|0;n[g>>2]=h+1;a[(n[_>>2]|0)+h>>0]=k;h=n[b>>2]|0;t[y>>1]=l>>>(16-h|0);h=h+(c+-16)|0;n[b>>2]=h;break}else{h=u+c|0;n[b>>2]=h;break}}else{d=f[13625+p>>0]|0;l=(d|256)+1|0;u=o[r+(l<<2)+2>>1]|0;h=n[b>>2]|0;l=o[r+(l<<2)>>1]|0;c=o[y>>1]|0|l<<h;s=c&65535;t[y>>1]=s;if((h|0)>(16-u|0)){s=n[g>>2]|0;n[g>>2]=s+1;a[(n[_>>2]|0)+s>>0]=c;s=(o[y>>1]|0)>>>8&255;h=n[g>>2]|0;n[g>>2]=h+1;a[(n[_>>2]|0)+h>>0]=s;h=n[b>>2]|0;s=l>>>(16-h|0)&65535;t[y>>1]=s;h=h+(u+-16)|0}else h=h+u|0;n[b>>2]=h;u=n[148+(d<<2)>>2]|0;do if((d+-8|0)>>>0<20){c=p-(n[500+(d<<2)>>2]|0)&65535;l=s&65535|c<<h;s=l&65535;t[y>>1]=s;if((h|0)>(16-u|0)){s=n[g>>2]|0;n[g>>2]=s+1;a[(n[_>>2]|0)+s>>0]=l;s=(o[y>>1]|0)>>>8&255;h=n[g>>2]|0;n[g>>2]=h+1;a[(n[_>>2]|0)+h>>0]=s;h=n[b>>2]|0;s=c>>>(16-h|0)&65535;t[y>>1]=s;h=h+(u+-16)|0;n[b>>2]=h;break}else{h=h+u|0;n[b>>2]=h;break}}while(0);d=k+-1|0;p=f[13113+(d>>>0<256?d:(d>>>7)+256|0)>>0]|0;u=o[i+(p<<2)+2>>1]|0;c=o[i+(p<<2)>>1]|0;l=s&65535|c<<h;t[y>>1]=l;if((h|0)>(16-u|0)){h=n[g>>2]|0;n[g>>2]=h+1;a[(n[_>>2]|0)+h>>0]=l;l=(o[y>>1]|0)>>>8&255;h=n[g>>2]|0;n[g>>2]=h+1;a[(n[_>>2]|0)+h>>0]=l;h=n[b>>2]|0;l=c>>>(16-h|0);t[y>>1]=l;h=h+(u+-16)|0}else h=h+u|0;n[b>>2]=h;c=n[284+(p<<2)>>2]|0;if((p+-4|0)>>>0<26){s=d-(n[616+(p<<2)>>2]|0)&65535;l=l&65535|s<<h;t[y>>1]=l;if((h|0)>(16-c|0)){k=n[g>>2]|0;n[g>>2]=k+1;a[(n[_>>2]|0)+k>>0]=l;k=(o[y>>1]|0)>>>8&255;h=n[g>>2]|0;n[g>>2]=h+1;a[(n[_>>2]|0)+h>>0]=k;h=n[b>>2]|0;t[y>>1]=s>>>(16-h|0);h=h+(c+-16)|0;n[b>>2]=h;break}else{h=h+c|0;n[b>>2]=h;break}}}while(0)}while(A>>>0<(n[w>>2]|0)>>>0)}u=o[r+1026>>1]|0;l=o[r+1024>>1]|0;s=e+5816|0;c=o[s>>1]|0|l<<h;t[s>>1]=c;if((h|0)>(16-u|0)){i=e+20|0;A=n[i>>2]|0;n[i>>2]=A+1;r=e+8|0;a[(n[r>>2]|0)+A>>0]=c;A=(o[s>>1]|0)>>>8&255;e=n[i>>2]|0;n[i>>2]=e+1;a[(n[r>>2]|0)+e>>0]=A;e=n[b>>2]|0;t[s>>1]=l>>>(16-e|0);e=e+(u+-16)|0;n[b>>2]=e;return}else{e=h+u|0;n[b>>2]=e;return}}function Ye(e,r,i){e=e|0;r=r|0;i=i|0;var f=0,l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0,A=0,E=0,I=0,R=0,M=0,T=0;T=t[r+2>>1]|0;s=T<<16>>16==0;_=e+2754|0;A=e+5820|0;E=e+2752|0;I=e+5816|0;R=e+20|0;M=e+8|0;w=e+2758|0;v=e+2756|0;m=e+2750|0;y=e+2748|0;b=0;l=s?138:7;s=s?3:4;f=0;T=T&65535;c=-1;while(1){if((f|0)>(i|0))break;p=f+1|0;k=t[r+(p<<2)+2>>1]|0;g=k&65535;h=b+1|0;if((h|0)<(l|0)&(T|0)==(g|0)){k=c;b=h;f=p;T=g;c=k;continue}do if((h|0)>=(s|0)){if(T|0){do if((T|0)!=(c|0)){f=o[e+2684+(T<<2)+2>>1]|0;l=n[A>>2]|0;s=o[e+2684+(T<<2)>>1]|0;c=o[I>>1]|0|s<<l;t[I>>1]=c;if((l|0)>(16-f|0)){u=n[R>>2]|0;n[R>>2]=u+1;a[(n[M>>2]|0)+u>>0]=c;c=(o[I>>1]|0)>>>8&255;u=n[R>>2]|0;n[R>>2]=u+1;a[(n[M>>2]|0)+u>>0]=c;u=n[A>>2]|0;t[I>>1]=s>>>(16-u|0);u=u+(f+-16)|0;n[A>>2]=u;c=b;break}else{u=l+f|0;n[A>>2]=u;c=b;break}}else{u=n[A>>2]|0;c=h}while(0);s=o[m>>1]|0;l=o[y>>1]|0;f=o[I>>1]|0|l<<u;t[I>>1]=f;if((u|0)>(16-s|0)){d=n[R>>2]|0;n[R>>2]=d+1;a[(n[M>>2]|0)+d>>0]=f;f=(o[I>>1]|0)>>>8&255;d=n[R>>2]|0;n[R>>2]=d+1;a[(n[M>>2]|0)+d>>0]=f;d=n[A>>2]|0;f=l>>>(16-d|0);t[I>>1]=f;s=d+(s+-16)|0}else s=u+s|0;n[A>>2]=s;l=c+65533&65535;f=f&65535|l<<s;t[I>>1]=f;if((s|0)>14){b=n[R>>2]|0;n[R>>2]=b+1;a[(n[M>>2]|0)+b>>0]=f;b=(o[I>>1]|0)>>>8&255;d=n[R>>2]|0;n[R>>2]=d+1;a[(n[M>>2]|0)+d>>0]=b;d=n[A>>2]|0;t[I>>1]=l>>>(16-d|0);n[A>>2]=d+-14;break}else{n[A>>2]=s+2;break}}if((h|0)<11){s=o[_>>1]|0;c=n[A>>2]|0;f=o[E>>1]|0;l=o[I>>1]|0|f<<c;t[I>>1]=l;if((c|0)>(16-s|0)){h=n[R>>2]|0;n[R>>2]=h+1;a[(n[M>>2]|0)+h>>0]=l;h=(o[I>>1]|0)>>>8&255;d=n[R>>2]|0;n[R>>2]=d+1;a[(n[M>>2]|0)+d>>0]=h;d=n[A>>2]|0;f=f>>>(16-d|0);t[I>>1]=f;s=d+(s+-16)|0}else{f=l;s=c+s|0}n[A>>2]=s;l=b+65534&65535;f=f&65535|l<<s;t[I>>1]=f;if((s|0)>13){b=n[R>>2]|0;n[R>>2]=b+1;a[(n[M>>2]|0)+b>>0]=f;b=(o[I>>1]|0)>>>8&255;d=n[R>>2]|0;n[R>>2]=d+1;a[(n[M>>2]|0)+d>>0]=b;d=n[A>>2]|0;t[I>>1]=l>>>(16-d|0);n[A>>2]=d+-13;break}else{n[A>>2]=s+3;break}}else{s=o[w>>1]|0;c=n[A>>2]|0;f=o[v>>1]|0;l=o[I>>1]|0|f<<c;t[I>>1]=l;if((c|0)>(16-s|0)){h=n[R>>2]|0;n[R>>2]=h+1;a[(n[M>>2]|0)+h>>0]=l;h=(o[I>>1]|0)>>>8&255;d=n[R>>2]|0;n[R>>2]=d+1;a[(n[M>>2]|0)+d>>0]=h;d=n[A>>2]|0;f=f>>>(16-d|0);t[I>>1]=f;s=d+(s+-16)|0}else{f=l;s=c+s|0}n[A>>2]=s;l=b+65526&65535;f=f&65535|l<<s;t[I>>1]=f;if((s|0)>9){b=n[R>>2]|0;n[R>>2]=b+1;a[(n[M>>2]|0)+b>>0]=f;b=(o[I>>1]|0)>>>8&255;d=n[R>>2]|0;n[R>>2]=d+1;a[(n[M>>2]|0)+d>>0]=b;d=n[A>>2]|0;t[I>>1]=l>>>(16-d|0);n[A>>2]=d+-9;break}else{n[A>>2]=s+7;break}}}else{b=e+2684+(T<<2)+2|0;d=e+2684+(T<<2)|0;f=n[A>>2]|0;u=h;do{l=o[b>>1]|0;s=o[d>>1]|0;c=o[I>>1]|0|s<<f;t[I>>1]=c;if((f|0)>(16-l|0)){h=n[R>>2]|0;n[R>>2]=h+1;a[(n[M>>2]|0)+h>>0]=c;h=(o[I>>1]|0)>>>8&255;f=n[R>>2]|0;n[R>>2]=f+1;a[(n[M>>2]|0)+f>>0]=h;f=n[A>>2]|0;t[I>>1]=s>>>(16-f|0);f=f+(l+-16)|0}else f=f+l|0;n[A>>2]=f;u=u+-1|0}while((u|0)!=0)}while(0);if(!(k<<16>>16)){c=T;b=0;l=138;s=3;f=p;T=g;continue}s=(T|0)==(g|0);c=T;b=0;l=s?6:7;s=s?3:4;f=p;T=g}return}function qe(e,r,i){e=e|0;r=r|0;i=i|0;return Ve(ee(r,i)|0)|0}function Xe(e,r){e=e|0;r=r|0;$e(r);return}function We(e,r,i){e=e|0;r=r|0;i=i|0;var a=0,t=0,n=0,o=0,l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0,A=0;a=e>>>16;e=e&65535;if((i|0)==1){n=e+(f[r>>0]|0)|0;n=n>>>0>65520?n+-65521|0:n;o=a+n|0;o=n|(o>>>0>65520?o+15|0:o)<<16;return o|0}if(!r){o=1;return o|0}if(i>>>0<16){while(1){if(!i)break;o=e+(f[r>>0]|0)|0;r=r+1|0;i=i+-1|0;e=o;a=a+o|0}o=(e>>>0>65520?e+-65521|0:e)|((a>>>0)%65521|0)<<16;return o|0}while(1){if(i>>>0<=5551)break;i=i+-5552|0;n=r;t=347;while(1){g=e+(f[n>>0]|0)|0;y=g+(f[n+1>>0]|0)|0;m=y+(f[n+2>>0]|0)|0;v=m+(f[n+3>>0]|0)|0;w=v+(f[n+4>>0]|0)|0;k=w+(f[n+5>>0]|0)|0;p=k+(f[n+6>>0]|0)|0;d=p+(f[n+7>>0]|0)|0;b=d+(f[n+8>>0]|0)|0;h=b+(f[n+9>>0]|0)|0;u=h+(f[n+10>>0]|0)|0;c=u+(f[n+11>>0]|0)|0;s=c+(f[n+12>>0]|0)|0;l=s+(f[n+13>>0]|0)|0;o=l+(f[n+14>>0]|0)|0;e=o+(f[n+15>>0]|0)|0;a=a+g+y+m+v+w+k+p+d+b+h+u+c+s+l+o+e|0;t=t+-1|0;if(!t)break;else n=n+16|0}r=r+5552|0;e=(e>>>0)%65521|0;a=(a>>>0)%65521|0}if(i){n=i+~(i>>>0<15?i:15)+16&-16;o=r+n|0;t=i;while(1){if(t>>>0<=15)break;A=e+(f[r>>0]|0)|0;_=A+(f[r+1>>0]|0)|0;l=_+(f[r+2>>0]|0)|0;s=l+(f[r+3>>0]|0)|0;c=s+(f[r+4>>0]|0)|0;u=c+(f[r+5>>0]|0)|0;h=u+(f[r+6>>0]|0)|0;b=h+(f[r+7>>0]|0)|0;d=b+(f[r+8>>0]|0)|0;p=d+(f[r+9>>0]|0)|0;k=p+(f[r+10>>0]|0)|0;w=k+(f[r+11>>0]|0)|0;v=w+(f[r+12>>0]|0)|0;m=v+(f[r+13>>0]|0)|0;y=m+(f[r+14>>0]|0)|0;g=y+(f[r+15>>0]|0)|0;t=t+-16|0;r=r+16|0;e=g;a=a+A+_+l+s+c+u+h+b+d+p+k+w+v+m+y+g|0}i=i-n|0;r=o;while(1){if(!i)break;A=e+(f[r>>0]|0)|0;i=i+-1|0;r=r+1|0;e=A;a=a+A|0}e=(e>>>0)%65521|0;a=(a>>>0)%65521|0}A=e|a<<16;return A|0}function je(e,r,i){e=e|0;r=r|0;i=i|0;var a=0,t=0,o=0,l=0,s=0;if(!r){l=0;return l|0}o=r;r=~e;while(1){if(!i){i=0;break}if(!(o&3))break;l=n[736+((r&255^(f[o>>0]|0))<<2)>>2]^r>>>8;o=o+1|0;i=i+-1|0;r=l}t=i+~(i>>>0<31?i:31)+32&-32;l=o+t|0;a=i;e=o;while(1){if(a>>>0<=31)break;o=r^n[e>>2];o=n[3808+((o&255)<<2)>>2]^n[2784+((o>>>8&255)<<2)>>2]^n[1760+((o>>>16&255)<<2)>>2]^n[736+(o>>>24<<2)>>2]^n[e+4>>2];o=n[3808+((o&255)<<2)>>2]^n[2784+((o>>>8&255)<<2)>>2]^n[1760+((o>>>16&255)<<2)>>2]^n[736+(o>>>24<<2)>>2]^n[e+8>>2];o=n[3808+((o&255)<<2)>>2]^n[2784+((o>>>8&255)<<2)>>2]^n[1760+((o>>>16&255)<<2)>>2]^n[736+(o>>>24<<2)>>2]^n[e+12>>2];o=n[3808+((o&255)<<2)>>2]^n[2784+((o>>>8&255)<<2)>>2]^n[1760+((o>>>16&255)<<2)>>2]^n[736+(o>>>24<<2)>>2]^n[e+16>>2];o=n[3808+((o&255)<<2)>>2]^n[2784+((o>>>8&255)<<2)>>2]^n[1760+((o>>>16&255)<<2)>>2]^n[736+(o>>>24<<2)>>2]^n[e+20>>2];o=n[3808+((o&255)<<2)>>2]^n[2784+((o>>>8&255)<<2)>>2]^n[1760+((o>>>16&255)<<2)>>2]^n[736+(o>>>24<<2)>>2]^n[e+24>>2];o=n[3808+((o&255)<<2)>>2]^n[2784+((o>>>8&255)<<2)>>2]^n[1760+((o>>>16&255)<<2)>>2]^n[736+(o>>>24<<2)>>2]^n[e+28>>2];a=a+-32|0;e=e+32|0;r=n[3808+((o&255)<<2)>>2]^n[2784+((o>>>8&255)<<2)>>2]^n[1760+((o>>>16&255)<<2)>>2]^n[736+(o>>>24<<2)>>2]}t=i-t|0;e=(t+~(t>>>0<3?t:3)+4|0)>>>2;o=e<<2;i=t;a=l;while(1){if(i>>>0<=3)break;s=r^n[a>>2];i=i+-4|0;a=a+4|0;r=n[3808+((s&255)<<2)>>2]^n[2784+((s>>>8&255)<<2)>>2]^n[1760+((s>>>16&255)<<2)>>2]^n[736+(s>>>24<<2)>>2]}if((t|0)!=(o|0)){e=l+(e<<2)|0;i=t-o|0;while(1){r=n[736+((r&255^(f[e>>0]|0))<<2)>>2]^r>>>8;i=i+-1|0;if(!i)break;else e=e+1|0}}s=~r;return s|0}function Ve(e){e=e|0;var r=0,i=0,a=0,t=0,f=0,o=0,l=0,s=0,c=0,h=0,b=0,d=0,p=0,k=0,w=0,v=0,m=0,y=0,g=0,_=0,A=0,E=0,I=0,R=0,M=0,T=0,B=0,S=0,C=0,L=0,P=0,x=0,O=0,D=0;D=u;u=u+16|0;k=D;do if(e>>>0<245){p=e>>>0<11?16:e+11&-8;e=p>>>3;s=n[3522]|0;r=s>>>e;if(r&3|0){t=(r&1^1)+e|0;f=14128+(t<<1<<2)|0;r=f+8|0;i=n[r>>2]|0;o=i+8|0;a=n[o>>2]|0;do if((f|0)!=(a|0)){if(a>>>0<(n[3526]|0)>>>0)ce();e=a+12|0;if((n[e>>2]|0)==(i|0)){n[e>>2]=f;n[r>>2]=a;break}else ce()}else n[3522]=s&~(1<<t);while(0);O=t<<3;n[i+4>>2]=O|3;O=i+O+4|0;n[O>>2]=n[O>>2]|1;O=o;u=D;return O|0}o=n[3524]|0;if(p>>>0>o>>>0){if(r|0){t=2<<e;t=r<<e&(t|0-t);t=(t&0-t)+-1|0;l=t>>>12&16;t=t>>>l;r=t>>>5&8;t=t>>>r;f=t>>>2&4;t=t>>>f;i=t>>>1&2;t=t>>>i;a=t>>>1&1;a=(r|l|f|i|a)+(t>>>a)|0;t=14128+(a<<1<<2)|0;i=t+8|0;f=n[i>>2]|0;l=f+8|0;r=n[l>>2]|0;do if((t|0)!=(r|0)){if(r>>>0<(n[3526]|0)>>>0)ce();e=r+12|0;if((n[e>>2]|0)==(f|0)){n[e>>2]=t;n[i>>2]=r;c=n[3524]|0;break}else ce()}else{n[3522]=s&~(1<<a);c=o}while(0);o=(a<<3)-p|0;n[f+4>>2]=p|3;t=f+p|0;n[t+4>>2]=o|1;n[t+o>>2]=o;if(c|0){a=n[3527]|0;r=c>>>3;i=14128+(r<<1<<2)|0;e=n[3522]|0;r=1<<r;if(e&r){e=i+8|0;r=n[e>>2]|0;if(r>>>0<(n[3526]|0)>>>0)ce();else{h=e;b=r}}else{n[3522]=e|r;h=i+8|0;b=i}n[h>>2]=a;n[b+12>>2]=a;n[a+8>>2]=b;n[a+12>>2]=i}n[3524]=o;n[3527]=t;O=l;u=D;return O|0}e=n[3523]|0;if(e){l=(e&0-e)+-1|0;x=l>>>12&16;l=l>>>x;P=l>>>5&8;l=l>>>P;O=l>>>2&4;l=l>>>O;r=l>>>1&2;l=l>>>r;s=l>>>1&1;s=n[14392+((P|x|O|r|s)+(l>>>s)<<2)>>2]|0;l=(n[s+4>>2]&-8)-p|0;r=s;while(1){e=n[r+16>>2]|0;if(!e){e=n[r+20>>2]|0;if(!e)break}r=(n[e+4>>2]&-8)-p|0;O=r>>>0<l>>>0;l=O?r:l;r=e;s=O?e:s}t=n[3526]|0;if(s>>>0<t>>>0)ce();o=s+p|0;if(s>>>0>=o>>>0)ce();f=n[s+24>>2]|0;i=n[s+12>>2]|0;do if((i|0)==(s|0)){r=s+20|0;e=n[r>>2]|0;if(!e){r=s+16|0;e=n[r>>2]|0;if(!e){d=0;break}}while(1){a=e+20|0;i=n[a>>2]|0;if(i|0){e=i;r=a;continue}a=e+16|0;i=n[a>>2]|0;if(!i)break;else{e=i;r=a}}if(r>>>0<t>>>0)ce();else{n[r>>2]=0;d=e;break}}else{a=n[s+8>>2]|0;if(a>>>0<t>>>0)ce();e=a+12|0;if((n[e>>2]|0)!=(s|0))ce();r=i+8|0;if((n[r>>2]|0)==(s|0)){n[e>>2]=i;n[r>>2]=a;d=i;break}else ce()}while(0);do if(f|0){e=n[s+28>>2]|0;r=14392+(e<<2)|0;if((s|0)==(n[r>>2]|0)){n[r>>2]=d;if(!d){n[3523]=n[3523]&~(1<<e);break}}else{if(f>>>0<(n[3526]|0)>>>0)ce();e=f+16|0;if((n[e>>2]|0)==(s|0))n[e>>2]=d;else n[f+20>>2]=d;if(!d)break}r=n[3526]|0;if(d>>>0<r>>>0)ce();n[d+24>>2]=f;e=n[s+16>>2]|0;do if(e|0)if(e>>>0<r>>>0)ce();else{n[d+16>>2]=e;n[e+24>>2]=d;break}while(0);e=n[s+20>>2]|0;if(e|0)if(e>>>0<(n[3526]|0)>>>0)ce();else{n[d+20>>2]=e;n[e+24>>2]=d;break}}while(0);if(l>>>0<16){O=l+p|0;n[s+4>>2]=O|3;O=s+O+4|0;n[O>>2]=n[O>>2]|1}else{n[s+4>>2]=p|3;n[o+4>>2]=l|1;n[o+l>>2]=l;e=n[3524]|0;if(e|0){a=n[3527]|0;r=e>>>3;i=14128+(r<<1<<2)|0;e=n[3522]|0;r=1<<r;if(e&r){e=i+8|0;r=n[e>>2]|0;if(r>>>0<(n[3526]|0)>>>0)ce();else{w=e;v=r}}else{n[3522]=e|r;w=i+8|0;v=i}n[w>>2]=a;n[v+12>>2]=a;n[a+8>>2]=v;n[a+12>>2]=i}n[3524]=l;n[3527]=o}O=s+8|0;u=D;return O|0}}}else if(e>>>0<=4294967231){e=e+11|0;p=e&-8;s=n[3523]|0;if(s){r=0-p|0;e=e>>>8;if(e)if(p>>>0>16777215)l=31;else{v=(e+1048320|0)>>>16&8;T=e<<v;w=(T+520192|0)>>>16&4;T=T<<w;l=(T+245760|0)>>>16&2;l=14-(w|v|l)+(T<<l>>>15)|0;l=p>>>(l+7|0)&1|l<<1}else l=0;i=n[14392+(l<<2)>>2]|0;e:do if(!i){a=r;e=0;r=0;T=86}else{a=r;e=0;o=p<<((l|0)==31?0:25-(l>>>1)|0);r=0;while(1){t=n[i+4>>2]&-8;f=t-p|0;if(f>>>0<a>>>0)if((t|0)==(p|0)){a=f;e=i;r=i;T=90;break e}else{a=f;r=i}t=n[i+20>>2]|0;i=n[i+16+(o>>>31<<2)>>2]|0;e=(t|0)==0|(t|0)==(i|0)?e:t;t=(i|0)==0;if(t){T=86;break}else o=o<<(t&1^1)}}while(0);if((T|0)==86){if((e|0)==0&(r|0)==0){e=2<<l;e=s&(e|0-e);if(!e)break;v=(e&0-e)+-1|0;b=v>>>12&16;v=v>>>b;h=v>>>5&8;v=v>>>h;d=v>>>2&4;v=v>>>d;w=v>>>1&2;v=v>>>w;e=v>>>1&1;e=n[14392+((h|b|d|w|e)+(v>>>e)<<2)>>2]|0}if(!e){l=a;s=r}else T=90}if((T|0)==90)while(1){T=0;v=(n[e+4>>2]&-8)-p|0;i=v>>>0<a>>>0;a=i?v:a;r=i?e:r;i=n[e+16>>2]|0;if(i|0){e=i;T=90;continue}e=n[e+20>>2]|0;if(!e){l=a;s=r;break}else T=90}if((s|0)!=0?l>>>0<((n[3524]|0)-p|0)>>>0:0){t=n[3526]|0;if(s>>>0<t>>>0)ce();o=s+p|0;if(s>>>0>=o>>>0)ce();f=n[s+24>>2]|0;i=n[s+12>>2]|0;do if((i|0)==(s|0)){r=s+20|0;e=n[r>>2]|0;if(!e){r=s+16|0;e=n[r>>2]|0;if(!e){y=0;break}}while(1){a=e+20|0;i=n[a>>2]|0;if(i|0){e=i;r=a;continue}a=e+16|0;i=n[a>>2]|0;if(!i)break;else{e=i;r=a}}if(r>>>0<t>>>0)ce();else{n[r>>2]=0;y=e;break}}else{a=n[s+8>>2]|0;if(a>>>0<t>>>0)ce();e=a+12|0;if((n[e>>2]|0)!=(s|0))ce();r=i+8|0;if((n[r>>2]|0)==(s|0)){n[e>>2]=i;n[r>>2]=a;y=i;break}else ce()}while(0);do if(f|0){e=n[s+28>>2]|0;r=14392+(e<<2)|0;if((s|0)==(n[r>>2]|0)){n[r>>2]=y;if(!y){n[3523]=n[3523]&~(1<<e);break}}else{if(f>>>0<(n[3526]|0)>>>0)ce();e=f+16|0;if((n[e>>2]|0)==(s|0))n[e>>2]=y;else n[f+20>>2]=y;if(!y)break}r=n[3526]|0;if(y>>>0<r>>>0)ce();n[y+24>>2]=f;e=n[s+16>>2]|0;do if(e|0)if(e>>>0<r>>>0)ce();else{n[y+16>>2]=e;n[e+24>>2]=y;break}while(0);e=n[s+20>>2]|0;if(e|0)if(e>>>0<(n[3526]|0)>>>0)ce();else{n[y+20>>2]=e;
n[e+24>>2]=y;break}}while(0);do if(l>>>0>=16){n[s+4>>2]=p|3;n[o+4>>2]=l|1;n[o+l>>2]=l;e=l>>>3;if(l>>>0<256){i=14128+(e<<1<<2)|0;r=n[3522]|0;e=1<<e;if(r&e){e=i+8|0;r=n[e>>2]|0;if(r>>>0<(n[3526]|0)>>>0)ce();else{_=e;A=r}}else{n[3522]=r|e;_=i+8|0;A=i}n[_>>2]=o;n[A+12>>2]=o;n[o+8>>2]=A;n[o+12>>2]=i;break}e=l>>>8;if(e)if(l>>>0>16777215)r=31;else{x=(e+1048320|0)>>>16&8;O=e<<x;P=(O+520192|0)>>>16&4;O=O<<P;r=(O+245760|0)>>>16&2;r=14-(P|x|r)+(O<<r>>>15)|0;r=l>>>(r+7|0)&1|r<<1}else r=0;a=14392+(r<<2)|0;n[o+28>>2]=r;e=o+16|0;n[e+4>>2]=0;n[e>>2]=0;e=n[3523]|0;i=1<<r;if(!(e&i)){n[3523]=e|i;n[a>>2]=o;n[o+24>>2]=a;n[o+12>>2]=o;n[o+8>>2]=o;break}r=l<<((r|0)==31?0:25-(r>>>1)|0);a=n[a>>2]|0;while(1){if((n[a+4>>2]&-8|0)==(l|0)){T=148;break}i=a+16+(r>>>31<<2)|0;e=n[i>>2]|0;if(!e){T=145;break}else{r=r<<1;a=e}}if((T|0)==145)if(i>>>0<(n[3526]|0)>>>0)ce();else{n[i>>2]=o;n[o+24>>2]=a;n[o+12>>2]=o;n[o+8>>2]=o;break}else if((T|0)==148){r=a+8|0;e=n[r>>2]|0;O=n[3526]|0;if(e>>>0>=O>>>0&a>>>0>=O>>>0){n[e+12>>2]=o;n[r>>2]=o;n[o+8>>2]=e;n[o+12>>2]=a;n[o+24>>2]=0;break}else ce()}}else{O=l+p|0;n[s+4>>2]=O|3;O=s+O+4|0;n[O>>2]=n[O>>2]|1}while(0);O=s+8|0;u=D;return O|0}}}else p=-1;while(0);i=n[3524]|0;if(i>>>0>=p>>>0){r=i-p|0;e=n[3527]|0;if(r>>>0>15){O=e+p|0;n[3527]=O;n[3524]=r;n[O+4>>2]=r|1;n[O+r>>2]=r;n[e+4>>2]=p|3}else{n[3524]=0;n[3527]=0;n[e+4>>2]=i|3;O=e+i+4|0;n[O>>2]=n[O>>2]|1}O=e+8|0;u=D;return O|0}e=n[3525]|0;if(e>>>0>p>>>0){P=e-p|0;n[3525]=P;O=n[3528]|0;x=O+p|0;n[3528]=x;n[x+4>>2]=P|1;n[O+4>>2]=p|3;O=O+8|0;u=D;return O|0}if(!(n[3640]|0)){n[3642]=4096;n[3641]=4096;n[3643]=-1;n[3644]=-1;n[3645]=0;n[3633]=0;A=k&-16^1431655768;n[k>>2]=A;n[3640]=A}f=p+48|0;a=n[3642]|0;o=p+47|0;i=a+o|0;a=0-a|0;l=i&a;if(l>>>0<=p>>>0){O=0;u=D;return O|0}e=n[3632]|0;if(e|0?(_=n[3630]|0,A=_+l|0,A>>>0<=_>>>0|A>>>0>e>>>0):0){O=0;u=D;return O|0}e:do if(!(n[3633]&4)){r=n[3528]|0;r:do if(r){t=14536;while(1){e=n[t>>2]|0;if(e>>>0<=r>>>0?(m=t+4|0,(e+(n[m>>2]|0)|0)>>>0>r>>>0):0)break;e=n[t+8>>2]|0;if(!e){T=171;break r}else t=e}e=i-(n[3525]|0)&a;if(e>>>0<2147483647){r=le(e|0)|0;if((r|0)==((n[t>>2]|0)+(n[m>>2]|0)|0)){if((r|0)!=(-1|0)){o=r;f=e;T=191;break e}}else T=181}}else T=171;while(0);do if((T|0)==171?(g=le(0)|0,(g|0)!=(-1|0)):0){e=g;r=n[3641]|0;i=r+-1|0;if(!(i&e))e=l;else e=l-e+(i+e&0-r)|0;r=n[3630]|0;i=r+e|0;if(e>>>0>p>>>0&e>>>0<2147483647){A=n[3632]|0;if(A|0?i>>>0<=r>>>0|i>>>0>A>>>0:0)break;r=le(e|0)|0;if((r|0)==(g|0)){o=g;f=e;T=191;break e}else T=181}}while(0);r:do if((T|0)==181){i=0-e|0;do if(f>>>0>e>>>0&(e>>>0<2147483647&(r|0)!=(-1|0))?(E=n[3642]|0,E=o-e+E&0-E,E>>>0<2147483647):0)if((le(E|0)|0)==(-1|0)){le(i|0)|0;break r}else{e=E+e|0;break}while(0);if((r|0)!=(-1|0)){o=r;f=e;T=191;break e}}while(0);n[3633]=n[3633]|4;T=188}else T=188;while(0);if((((T|0)==188?l>>>0<2147483647:0)?(I=le(l|0)|0,R=le(0)|0,I>>>0<R>>>0&((I|0)!=(-1|0)&(R|0)!=(-1|0))):0)?(M=R-I|0,M>>>0>(p+40|0)>>>0):0){o=I;f=M;T=191}if((T|0)==191){e=(n[3630]|0)+f|0;n[3630]=e;if(e>>>0>(n[3631]|0)>>>0)n[3631]=e;c=n[3528]|0;do if(c){t=14536;while(1){e=n[t>>2]|0;a=t+4|0;r=n[a>>2]|0;if((o|0)==(e+r|0)){T=201;break}i=n[t+8>>2]|0;if(!i)break;else t=i}if(((T|0)==201?(n[t+12>>2]&8|0)==0:0)?c>>>0<o>>>0&c>>>0>=e>>>0:0){n[a>>2]=r+f;O=c+8|0;O=(O&7|0)==0?0:0-O&7;x=c+O|0;O=f-O+(n[3525]|0)|0;n[3528]=x;n[3525]=O;n[x+4>>2]=O|1;n[x+O+4>>2]=40;n[3529]=n[3644];break}e=n[3526]|0;if(o>>>0<e>>>0){n[3526]=o;l=o}else l=e;r=o+f|0;e=14536;while(1){if((n[e>>2]|0)==(r|0)){T=209;break}e=n[e+8>>2]|0;if(!e){r=14536;break}}if((T|0)==209)if(!(n[e+12>>2]&8)){n[e>>2]=o;b=e+4|0;n[b>>2]=(n[b>>2]|0)+f;b=o+8|0;b=o+((b&7|0)==0?0:0-b&7)|0;e=r+8|0;e=r+((e&7|0)==0?0:0-e&7)|0;h=b+p|0;s=e-b-p|0;n[b+4>>2]=p|3;do if((e|0)!=(c|0)){if((e|0)==(n[3527]|0)){O=(n[3524]|0)+s|0;n[3524]=O;n[3527]=h;n[h+4>>2]=O|1;n[h+O>>2]=O;break}r=n[e+4>>2]|0;if((r&3|0)==1){o=r&-8;t=r>>>3;e:do if(r>>>0>=256){f=n[e+24>>2]|0;a=n[e+12>>2]|0;do if((a|0)==(e|0)){a=e+16|0;i=a+4|0;r=n[i>>2]|0;if(!r){r=n[a>>2]|0;if(!r){P=0;break}else t=a}else t=i;while(1){a=r+20|0;i=n[a>>2]|0;if(i|0){r=i;t=a;continue}a=r+16|0;i=n[a>>2]|0;if(!i)break;else{r=i;t=a}}if(t>>>0<l>>>0)ce();else{n[t>>2]=0;P=r;break}}else{t=n[e+8>>2]|0;if(t>>>0<l>>>0)ce();r=t+12|0;if((n[r>>2]|0)!=(e|0))ce();i=a+8|0;if((n[i>>2]|0)==(e|0)){n[r>>2]=a;n[i>>2]=t;P=a;break}else ce()}while(0);if(!f)break;r=n[e+28>>2]|0;i=14392+(r<<2)|0;do if((e|0)!=(n[i>>2]|0)){if(f>>>0<(n[3526]|0)>>>0)ce();r=f+16|0;if((n[r>>2]|0)==(e|0))n[r>>2]=P;else n[f+20>>2]=P;if(!P)break e}else{n[i>>2]=P;if(P|0)break;n[3523]=n[3523]&~(1<<r);break e}while(0);a=n[3526]|0;if(P>>>0<a>>>0)ce();n[P+24>>2]=f;i=e+16|0;r=n[i>>2]|0;do if(r|0)if(r>>>0<a>>>0)ce();else{n[P+16>>2]=r;n[r+24>>2]=P;break}while(0);r=n[i+4>>2]|0;if(!r)break;if(r>>>0<(n[3526]|0)>>>0)ce();else{n[P+20>>2]=r;n[r+24>>2]=P;break}}else{i=n[e+8>>2]|0;a=n[e+12>>2]|0;r=14128+(t<<1<<2)|0;do if((i|0)!=(r|0)){if(i>>>0<l>>>0)ce();if((n[i+12>>2]|0)==(e|0))break;ce()}while(0);if((a|0)==(i|0)){n[3522]=n[3522]&~(1<<t);break}do if((a|0)==(r|0))S=a+8|0;else{if(a>>>0<l>>>0)ce();r=a+8|0;if((n[r>>2]|0)==(e|0)){S=r;break}ce()}while(0);n[i+12>>2]=a;n[S>>2]=i}while(0);e=e+o|0;t=o+s|0}else t=s;e=e+4|0;n[e>>2]=n[e>>2]&-2;n[h+4>>2]=t|1;n[h+t>>2]=t;e=t>>>3;if(t>>>0<256){i=14128+(e<<1<<2)|0;r=n[3522]|0;e=1<<e;do if(!(r&e)){n[3522]=r|e;x=i+8|0;O=i}else{e=i+8|0;r=n[e>>2]|0;if(r>>>0>=(n[3526]|0)>>>0){x=e;O=r;break}ce()}while(0);n[x>>2]=h;n[O+12>>2]=h;n[h+8>>2]=O;n[h+12>>2]=i;break}e=t>>>8;do if(!e)r=0;else{if(t>>>0>16777215){r=31;break}x=(e+1048320|0)>>>16&8;O=e<<x;P=(O+520192|0)>>>16&4;O=O<<P;r=(O+245760|0)>>>16&2;r=14-(P|x|r)+(O<<r>>>15)|0;r=t>>>(r+7|0)&1|r<<1}while(0);a=14392+(r<<2)|0;n[h+28>>2]=r;e=h+16|0;n[e+4>>2]=0;n[e>>2]=0;e=n[3523]|0;i=1<<r;if(!(e&i)){n[3523]=e|i;n[a>>2]=h;n[h+24>>2]=a;n[h+12>>2]=h;n[h+8>>2]=h;break}r=t<<((r|0)==31?0:25-(r>>>1)|0);a=n[a>>2]|0;while(1){if((n[a+4>>2]&-8|0)==(t|0)){T=279;break}i=a+16+(r>>>31<<2)|0;e=n[i>>2]|0;if(!e){T=276;break}else{r=r<<1;a=e}}if((T|0)==276)if(i>>>0<(n[3526]|0)>>>0)ce();else{n[i>>2]=h;n[h+24>>2]=a;n[h+12>>2]=h;n[h+8>>2]=h;break}else if((T|0)==279){r=a+8|0;e=n[r>>2]|0;O=n[3526]|0;if(e>>>0>=O>>>0&a>>>0>=O>>>0){n[e+12>>2]=h;n[r>>2]=h;n[h+8>>2]=e;n[h+12>>2]=a;n[h+24>>2]=0;break}else ce()}}else{O=(n[3525]|0)+s|0;n[3525]=O;n[3528]=h;n[h+4>>2]=O|1}while(0);O=b+8|0;u=D;return O|0}else r=14536;while(1){e=n[r>>2]|0;if(e>>>0<=c>>>0?(B=e+(n[r+4>>2]|0)|0,B>>>0>c>>>0):0)break;r=n[r+8>>2]|0}t=B+-47|0;r=t+8|0;r=t+((r&7|0)==0?0:0-r&7)|0;t=c+16|0;r=r>>>0<t>>>0?c:r;e=r+8|0;i=o+8|0;i=(i&7|0)==0?0:0-i&7;O=o+i|0;i=f+-40-i|0;n[3528]=O;n[3525]=i;n[O+4>>2]=i|1;n[O+i+4>>2]=40;n[3529]=n[3644];i=r+4|0;n[i>>2]=27;n[e>>2]=n[3634];n[e+4>>2]=n[3635];n[e+8>>2]=n[3636];n[e+12>>2]=n[3637];n[3634]=o;n[3635]=f;n[3637]=0;n[3636]=e;e=r+24|0;do{e=e+4|0;n[e>>2]=7}while((e+4|0)>>>0<B>>>0);if((r|0)!=(c|0)){f=r-c|0;n[i>>2]=n[i>>2]&-2;n[c+4>>2]=f|1;n[r>>2]=f;e=f>>>3;if(f>>>0<256){i=14128+(e<<1<<2)|0;r=n[3522]|0;e=1<<e;if(r&e){e=i+8|0;r=n[e>>2]|0;if(r>>>0<(n[3526]|0)>>>0)ce();else{C=e;L=r}}else{n[3522]=r|e;C=i+8|0;L=i}n[C>>2]=c;n[L+12>>2]=c;n[c+8>>2]=L;n[c+12>>2]=i;break}e=f>>>8;if(e)if(f>>>0>16777215)i=31;else{x=(e+1048320|0)>>>16&8;O=e<<x;P=(O+520192|0)>>>16&4;O=O<<P;i=(O+245760|0)>>>16&2;i=14-(P|x|i)+(O<<i>>>15)|0;i=f>>>(i+7|0)&1|i<<1}else i=0;a=14392+(i<<2)|0;n[c+28>>2]=i;n[c+20>>2]=0;n[t>>2]=0;e=n[3523]|0;r=1<<i;if(!(e&r)){n[3523]=e|r;n[a>>2]=c;n[c+24>>2]=a;n[c+12>>2]=c;n[c+8>>2]=c;break}r=f<<((i|0)==31?0:25-(i>>>1)|0);a=n[a>>2]|0;while(1){if((n[a+4>>2]&-8|0)==(f|0)){T=305;break}i=a+16+(r>>>31<<2)|0;e=n[i>>2]|0;if(!e){T=302;break}else{r=r<<1;a=e}}if((T|0)==302)if(i>>>0<(n[3526]|0)>>>0)ce();else{n[i>>2]=c;n[c+24>>2]=a;n[c+12>>2]=c;n[c+8>>2]=c;break}else if((T|0)==305){r=a+8|0;e=n[r>>2]|0;O=n[3526]|0;if(e>>>0>=O>>>0&a>>>0>=O>>>0){n[e+12>>2]=c;n[r>>2]=c;n[c+8>>2]=e;n[c+12>>2]=a;n[c+24>>2]=0;break}else ce()}}}else{O=n[3526]|0;if((O|0)==0|o>>>0<O>>>0)n[3526]=o;n[3634]=o;n[3635]=f;n[3637]=0;n[3531]=n[3640];n[3530]=-1;e=0;do{O=14128+(e<<1<<2)|0;n[O+12>>2]=O;n[O+8>>2]=O;e=e+1|0}while((e|0)!=32);O=o+8|0;O=(O&7|0)==0?0:0-O&7;x=o+O|0;O=f+-40-O|0;n[3528]=x;n[3525]=O;n[x+4>>2]=O|1;n[x+O+4>>2]=40;n[3529]=n[3644]}while(0);e=n[3525]|0;if(e>>>0>p>>>0){P=e-p|0;n[3525]=P;O=n[3528]|0;x=O+p|0;n[3528]=x;n[x+4>>2]=P|1;n[O+4>>2]=p|3;O=O+8|0;u=D;return O|0}}if(!(n[3510]|0))e=14084;else e=n[(rr()|0)+64>>2]|0;n[e>>2]=12;O=0;u=D;return O|0}function $e(e){e=e|0;var r=0,i=0,a=0,t=0,f=0,o=0,l=0,s=0,c=0,u=0,h=0,b=0,d=0,p=0,k=0;if(!e)return;i=e+-8|0;o=n[3526]|0;if(i>>>0<o>>>0)ce();e=n[e+-4>>2]|0;r=e&3;if((r|0)==1)ce();a=e&-8;b=i+a|0;do if(!(e&1)){e=n[i>>2]|0;if(!r)return;c=i+(0-e)|0;s=e+a|0;if(c>>>0<o>>>0)ce();if((c|0)==(n[3527]|0)){r=b+4|0;e=n[r>>2]|0;if((e&3|0)!=3){k=c;t=s;break}n[3524]=s;n[r>>2]=e&-2;n[c+4>>2]=s|1;n[c+s>>2]=s;return}a=e>>>3;if(e>>>0<256){r=n[c+8>>2]|0;i=n[c+12>>2]|0;e=14128+(a<<1<<2)|0;if((r|0)!=(e|0)){if(r>>>0<o>>>0)ce();if((n[r+12>>2]|0)!=(c|0))ce()}if((i|0)==(r|0)){n[3522]=n[3522]&~(1<<a);k=c;t=s;break}if((i|0)!=(e|0)){if(i>>>0<o>>>0)ce();e=i+8|0;if((n[e>>2]|0)==(c|0))f=e;else ce()}else f=i+8|0;n[r+12>>2]=i;n[f>>2]=r;k=c;t=s;break}f=n[c+24>>2]|0;i=n[c+12>>2]|0;do if((i|0)==(c|0)){i=c+16|0;r=i+4|0;e=n[r>>2]|0;if(!e){e=n[i>>2]|0;if(!e){l=0;break}else a=i}else a=r;while(1){i=e+20|0;r=n[i>>2]|0;if(r|0){e=r;a=i;continue}i=e+16|0;r=n[i>>2]|0;if(!r)break;else{e=r;a=i}}if(a>>>0<o>>>0)ce();else{n[a>>2]=0;l=e;break}}else{a=n[c+8>>2]|0;if(a>>>0<o>>>0)ce();e=a+12|0;if((n[e>>2]|0)!=(c|0))ce();r=i+8|0;if((n[r>>2]|0)==(c|0)){n[e>>2]=i;n[r>>2]=a;l=i;break}else ce()}while(0);if(f){e=n[c+28>>2]|0;r=14392+(e<<2)|0;if((c|0)==(n[r>>2]|0)){n[r>>2]=l;if(!l){n[3523]=n[3523]&~(1<<e);k=c;t=s;break}}else{if(f>>>0<(n[3526]|0)>>>0)ce();e=f+16|0;if((n[e>>2]|0)==(c|0))n[e>>2]=l;else n[f+20>>2]=l;if(!l){k=c;t=s;break}}i=n[3526]|0;if(l>>>0<i>>>0)ce();n[l+24>>2]=f;r=c+16|0;e=n[r>>2]|0;do if(e|0)if(e>>>0<i>>>0)ce();else{n[l+16>>2]=e;n[e+24>>2]=l;break}while(0);e=n[r+4>>2]|0;if(e)if(e>>>0<(n[3526]|0)>>>0)ce();else{n[l+20>>2]=e;n[e+24>>2]=l;k=c;t=s;break}else{k=c;t=s}}else{k=c;t=s}}else{k=i;t=a}while(0);if(k>>>0>=b>>>0)ce();e=b+4|0;r=n[e>>2]|0;if(!(r&1))ce();if(!(r&2)){if((b|0)==(n[3528]|0)){p=(n[3525]|0)+t|0;n[3525]=p;n[3528]=k;n[k+4>>2]=p|1;if((k|0)!=(n[3527]|0))return;n[3527]=0;n[3524]=0;return}if((b|0)==(n[3527]|0)){p=(n[3524]|0)+t|0;n[3524]=p;n[3527]=k;n[k+4>>2]=p|1;n[k+p>>2]=p;return}t=(r&-8)+t|0;a=r>>>3;do if(r>>>0>=256){f=n[b+24>>2]|0;e=n[b+12>>2]|0;do if((e|0)==(b|0)){i=b+16|0;r=i+4|0;e=n[r>>2]|0;if(!e){e=n[i>>2]|0;if(!e){h=0;break}else a=i}else a=r;while(1){i=e+20|0;r=n[i>>2]|0;if(r|0){e=r;a=i;continue}i=e+16|0;r=n[i>>2]|0;if(!r)break;else{e=r;a=i}}if(a>>>0<(n[3526]|0)>>>0)ce();else{n[a>>2]=0;h=e;break}}else{r=n[b+8>>2]|0;if(r>>>0<(n[3526]|0)>>>0)ce();i=r+12|0;if((n[i>>2]|0)!=(b|0))ce();a=e+8|0;if((n[a>>2]|0)==(b|0)){n[i>>2]=e;n[a>>2]=r;h=e;break}else ce()}while(0);if(f|0){e=n[b+28>>2]|0;r=14392+(e<<2)|0;if((b|0)==(n[r>>2]|0)){n[r>>2]=h;if(!h){n[3523]=n[3523]&~(1<<e);break}}else{if(f>>>0<(n[3526]|0)>>>0)ce();e=f+16|0;if((n[e>>2]|0)==(b|0))n[e>>2]=h;else n[f+20>>2]=h;if(!h)break}i=n[3526]|0;if(h>>>0<i>>>0)ce();n[h+24>>2]=f;r=b+16|0;e=n[r>>2]|0;do if(e|0)if(e>>>0<i>>>0)ce();else{n[h+16>>2]=e;n[e+24>>2]=h;break}while(0);e=n[r+4>>2]|0;if(e|0)if(e>>>0<(n[3526]|0)>>>0)ce();else{n[h+20>>2]=e;n[e+24>>2]=h;break}}}else{r=n[b+8>>2]|0;i=n[b+12>>2]|0;e=14128+(a<<1<<2)|0;if((r|0)!=(e|0)){if(r>>>0<(n[3526]|0)>>>0)ce();if((n[r+12>>2]|0)!=(b|0))ce()}if((i|0)==(r|0)){n[3522]=n[3522]&~(1<<a);break}if((i|0)!=(e|0)){if(i>>>0<(n[3526]|0)>>>0)ce();e=i+8|0;if((n[e>>2]|0)==(b|0))u=e;else ce()}else u=i+8|0;n[r+12>>2]=i;n[u>>2]=r}while(0);n[k+4>>2]=t|1;n[k+t>>2]=t;if((k|0)==(n[3527]|0)){n[3524]=t;return}}else{n[e>>2]=r&-2;n[k+4>>2]=t|1;n[k+t>>2]=t}e=t>>>3;if(t>>>0<256){i=14128+(e<<1<<2)|0;r=n[3522]|0;e=1<<e;if(r&e){e=i+8|0;r=n[e>>2]|0;if(r>>>0<(n[3526]|0)>>>0)ce();else{d=e;p=r}}else{n[3522]=r|e;d=i+8|0;p=i}n[d>>2]=k;n[p+12>>2]=k;n[k+8>>2]=p;n[k+12>>2]=i;return}e=t>>>8;if(e)if(t>>>0>16777215)r=31;else{d=(e+1048320|0)>>>16&8;p=e<<d;b=(p+520192|0)>>>16&4;p=p<<b;r=(p+245760|0)>>>16&2;r=14-(b|d|r)+(p<<r>>>15)|0;r=t>>>(r+7|0)&1|r<<1}else r=0;a=14392+(r<<2)|0;n[k+28>>2]=r;n[k+20>>2]=0;n[k+16>>2]=0;e=n[3523]|0;i=1<<r;do if(e&i){r=t<<((r|0)==31?0:25-(r>>>1)|0);a=n[a>>2]|0;while(1){if((n[a+4>>2]&-8|0)==(t|0)){e=130;break}i=a+16+(r>>>31<<2)|0;e=n[i>>2]|0;if(!e){e=127;break}else{r=r<<1;a=e}}if((e|0)==127)if(i>>>0<(n[3526]|0)>>>0)ce();else{n[i>>2]=k;n[k+24>>2]=a;n[k+12>>2]=k;n[k+8>>2]=k;break}else if((e|0)==130){r=a+8|0;e=n[r>>2]|0;p=n[3526]|0;if(e>>>0>=p>>>0&a>>>0>=p>>>0){n[e+12>>2]=k;n[r>>2]=k;n[k+8>>2]=e;n[k+12>>2]=a;n[k+24>>2]=0;break}else ce()}}else{n[3523]=e|i;n[a>>2]=k;n[k+24>>2]=a;n[k+12>>2]=k;n[k+8>>2]=k}while(0);k=(n[3530]|0)+-1|0;n[3530]=k;if(!k)e=14544;else return;while(1){e=n[e>>2]|0;if(!e)break;else e=e+8|0}n[3530]=-1;return}function Ke(){}function Qe(e,r,i){e=e|0;r=r|0;i=i|0;var t=0,f=0,o=0,l=0;t=e+i|0;if((i|0)>=20){r=r&255;o=e&3;l=r|r<<8|r<<16|r<<24;f=t&~3;if(o){o=e+4-o|0;while((e|0)<(o|0)){a[e>>0]=r;e=e+1|0}}while((e|0)<(f|0)){n[e>>2]=l;e=e+4|0}}while((e|0)<(t|0)){a[e>>0]=r;e=e+1|0}return e-i|0}function er(e){e=e|0;return(e&255)<<24|(e>>8&255)<<16|(e>>16&255)<<8|e>>>24|0}function rr(){return 0}function ir(e,r,i){e=e|0;r=r|0;i=i|0;var t=0;if((i|0)>=4096)return se(e|0,r|0,i|0)|0;t=e|0;if((e&3)==(r&3)){while(e&3){if(!i)return t|0;a[e>>0]=a[r>>0]|0;e=e+1|0;r=r+1|0;i=i-1|0}while((i|0)>=4){n[e>>2]=n[r>>2];e=e+4|0;r=r+4|0;i=i-4|0}}while((i|0)>0){a[e>>0]=a[r>>0]|0;e=e+1|0;r=r+1|0;i=i-1|0}return t|0}function ar(e,r,i,a){e=e|0;r=r|0;i=i|0;a=a|0;return sr[e&1](r|0,i|0,a|0)|0}function tr(e,r,i){e=e|0;r=r|0;i=i|0;cr[e&1](r|0,i|0)}function nr(e,r,i){e=e|0;r=r|0;i=i|0;return ur[e&3](r|0,i|0)|0}function fr(e,r,i){e=e|0;r=r|0;i=i|0;ae(0);return 0}function or(e,r){e=e|0;r=r|0;ae(1)}function lr(e,r){e=e|0;r=r|0;ae(2);return 0}var sr=[fr,qe];var cr=[or,Xe];var ur=[lr,Ce,Pe,Oe];return{_free:$e,_ZLIBJS_freeInflateContext:Te,_ZLIBJS_createInflateContext:Re,_pthread_self:rr,_memset:Qe,_ZLIBJS_freeDeflateContext:Ie,_malloc:Ve,_ZLIBJS_deflate:Ee,_memcpy:ir,_llvm_bswap_i32:er,_ZLIBJS_inflate:Me,_ZLIBJS_createDeflateContext:Ae,_ZLIBJS_init:_e,runPostSets:Ke,stackAlloc:be,stackSave:de,stackRestore:pe,establishStackSpace:ke,setThrew:we,setTempRet0:ye,getTempRet0:ge,dynCall_iiii:ar,dynCall_vii:tr,dynCall_iii:nr}}(b.q,b.r,buffer),Q=b._free=Z._free;b._ZLIBJS_inflate=Z._ZLIBJS_inflate,b._ZLIBJS_createInflateContext=Z._ZLIBJS_createInflateContext;var xa=b._pthread_self=Z._pthread_self,va=b._memset=Z._memset;b._ZLIBJS_freeDeflateContext=Z._ZLIBJS_freeDeflateContext;var N=b._malloc=Z._malloc;b._ZLIBJS_deflate=Z._ZLIBJS_deflate;var ya=b._memcpy=Z._memcpy;b._ZLIBJS_init=Z._ZLIBJS_init,b._ZLIBJS_freeInflateContext=Z._ZLIBJS_freeInflateContext,b._ZLIBJS_createDeflateContext=Z._ZLIBJS_createDeflateContext;var wa=b._llvm_bswap_i32=Z._llvm_bswap_i32;b.runPostSets=Z.runPostSets,b.dynCall_iiii=Z.dynCall_iiii,b.dynCall_vii=Z.dynCall_vii,b.dynCall_iii=Z.dynCall_iii,B.m=Z.stackAlloc,B.B=Z.stackSave,B.A=Z.stackRestore,B.H=Z.establishStackSpace,B.w=Z.setTempRet0,B.u=Z.getTempRet0,y.prototype=Error(),y.prototype.constructor=y;var za=null;b.callMain=b.F=function(e){function r(){for(var e=0;3>e;e++)a.push(0)}e=e||[],X||(X=!0,V(W));var i=e.length+1,a=[M(P(b.thisProgram),"i8",0)];r();for(var t=0;i-1>t;t+=1)a.push(M(P(e[t]),"i8",0)),r();a.push(0),a=M(a,"i32",0);try{var n=b._main(i,a,0);Aa(n,!0)}catch(f){if(!(f instanceof y)){if("SimulateInfiniteLoop"!=f)throw f&&"object"==typeof f&&f.stack&&b.h("exception thrown: "+[f,f.stack]),f;b.noExitRuntime=!0}}finally{}},b.run=b.run=Ba,b.exit=b.exit=Aa;var Da=[];if(b.abort=b.abort=F,b.preInit)for("function"==typeof b.preInit&&(b.preInit=[b.preInit]);0<b.preInit.length;)b.preInit.pop()();var Ca=!0;b.noInitialRun&&(Ca=!1),Ba();var sa=b.ZLIBJS_instances={},Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_VERSION_ERROR=-6,ERROR_TABLE={};ERROR_TABLE[Z_STREAM_ERROR]="invalid compression level",ERROR_TABLE[Z_DATA_ERROR]="invalid or incomplete deflate data",ERROR_TABLE[Z_MEM_ERROR]="out of memory",ERROR_TABLE[Z_VERSION_ERROR]="zlib version mismatch";var defaultParams={compressionLevel:9,chunkSize:16384,shareMemory:!1,src:null,streamFn:function(){}},common={defaultParams:defaultParams,assign:assign,concat:concat,zerror:zerror,validate:validate};BaseInflate.prototype.inflate=function(){var e=common.validate(Module._ZLIBJS_inflate(this.ctxPtr,this.chunkSize));if(!e.valid)throw this.cleanup(),common.zerror(e.error)},BaseInflate.prototype.cleanup=function(){this.ctxPtr&&Module._ZLIBJS_freeInflateContext(this.ctxPtr),delete Module.ZLIBJS_instances[this.ctxPtr]},BaseDeflate.prototype.deflate=function(e){var r=common.validate(Module._ZLIBJS_deflate(this.ctxPtr,this.chunkSize,+e));if(!r.valid)throw this.cleanup(),common.zerror(r.error)},BaseDeflate.prototype.cleanup=function(){this.ctxPtr&&Module._ZLIBJS_freeDeflateContext(this.ctxPtr),delete Module.ZLIBJS_instances[this.ctxPtr]};var ReaderWriterMixin={$read:function(e,r){return Module.HEAPU8.set(this.src.subarray(this.offset,this.offset+this.srcSize),e),this.srcSize},$write:function(e,r){var i=Module.HEAPU8.subarray(e,e+r);i=this.shareMemory?i:new Uint8Array(i),this.streamFn(i)}};ReaderWriterMixin.$read=ReaderWriterMixin.$read,ReaderWriterMixin.$write=ReaderWriterMixin.$write;var StreamReaderWriterMixin={$read:function(e,r){return Module.HEAPU8.set(new Uint8Array(this.src.buffer,this.src.byteOffset,this.srcSize),e),this.srcSize},$write:function(e,r){this.dst=new Buffer(Module.HEAPU8.buffer).slice(e,e+r),this.push(new Buffer(this.dst))}};StreamReaderWriterMixin.$read=StreamReaderWriterMixin.$read,StreamReaderWriterMixin.$write=StreamReaderWriterMixin.$write,common.assign(Inflate.prototype,BaseInflate.prototype,ReaderWriterMixin),Inflate.prototype.constructor=Inflate,Inflate.prototype.inflateAll=function(){for(;this.offset<this.src.length;this.offset+=this.chunkSize)this.srcSize=Math.min(this.src.length-this.offset,this.chunkSize),this.inflate();this.cleanup()},common.assign(Deflate.prototype,BaseDeflate.prototype,ReaderWriterMixin),Deflate.prototype.constructor=Deflate,Deflate.prototype.deflateAll=function(){for(;this.offset<this.src.length;this.offset+=this.chunkSize)this.srcSize=Math.min(this.src.length-this.offset,this.chunkSize),this.deflate(this.src.length-this.offset<=this.chunkSize);this.cleanup()},FILTER.Util.ZLib={Module:Module,inflate:function(e,r){return zlibInflate(1,e,r)},rawinflate:function(e,r){return zlibInflate(-1,e,r)},deflate:function(e,r,i){return zlibDeflate(1,e,r,i)},rawdeflate:function(e,r,i){return zlibDeflate(-1,e,r,i)}}}}(FILTER),!function(e,r){function i(r,i){return e.Util.ZLib.inflate(r,i)}function a(r,i,a){return e.Util.ZLib.deflate(r,i,a)}function t(){}function n(){if(null===I){I=new Int32Array(256);for(var e=0;256>e;e++){for(var r=e,i=0;8>i;i++)1&r?r=3988292384^r>>>1:r>>>=1;I[e]=r}}}function f(){this._crc=-1}function o(e,r,i,a){var t=a.colorType===E.COLORTYPE_COLOR_ALPHA;if(a.inputHasAlpha&&t)return e;if(!a.inputHasAlpha&&!t)return e;var n=t?4:3,f=new Buffer(r*i*n),o=a.inputHasAlpha?4:3,l=0,s=0,c=a.bgColor||{};void 0===c.red&&(c.red=255),void 0===c.green&&(c.green=255),void 0===c.blue&&(c.blue=255);for(var u=0;i>u;u++)for(var h=0;r>h;h++){var b,d=e[l],p=e[l+1],k=e[l+2];a.inputHasAlpha?(b=e[l+3],t||(b/=255,d=Math.min(Math.max(Math.round((1-b)*c.red+b*d),0),255),p=Math.min(Math.max(Math.round((1-b)*c.green+b*p),0),255),k=Math.min(Math.max(Math.round((1-b)*c.blue+b*k),0),255))):b=255,f[s]=d,f[s+1]=p,f[s+2]=k,t&&(f[s+3]=b),l+=o,s+=n}return f}function l(e,r,i){var a=e+r-i,t=Math.abs(a-e),n=Math.abs(a-r),f=Math.abs(a-i);return n>=t&&f>=t?e:f>=n?r:i}function s(e,r,i,a,t){e.copy(a,t,r,r+i)}function c(e,r,i){for(var a=0,t=r+i,n=r;t>n;n++)a+=Math.abs(e[n]);return a}function u(e,r,i,a,t,n){for(var f=0;i>f;f++){var o=f>=n?e[r+f-n]:0,l=e[r+f]-o;a[t+f]=l}}function h(e,r,i,a){for(var t=0,n=0;i>n;n++){var f=n>=a?e[r+n-a]:0,o=e[r+n]-f;t+=Math.abs(o)}return t}function b(e,r,i,a,t){for(var n=0;i>n;n++){var f=r>0?e[r+n-i]:0,o=e[r+n]-f;a[t+n]=o}}function d(e,r,i){for(var a=0,t=r+i,n=r;t>n;n++){var f=r>0?e[n-i]:0,o=e[n]-f;a+=Math.abs(o)}return a}function p(e,r,i,a,t,n){for(var f=0;i>f;f++){var o=f>=n?e[r+f-n]:0,l=r>0?e[r+f-i]:0,s=e[r+f]-(o+l>>1);a[t+f]=s}}function k(e,r,i,a){for(var t=0,n=0;i>n;n++){var f=n>=a?e[r+n-a]:0,o=r>0?e[r+n-i]:0,l=e[r+n]-(f+o>>1);t+=Math.abs(l)}return t}function w(e,r,i,a,t,n){for(var f=0;i>f;f++){var o=f>=n?e[r+f-n]:0,s=r>0?e[r+f-i]:0,c=r>0&&f>=n?e[r+f-(i+n)]:0,u=e[r+f]-l(o,s,c);a[t+f]=u}}function v(e,r,i,a){for(var t=0,n=0;i>n;n++){var f=n>=a?e[r+n-a]:0,o=r>0?e[r+n-i]:0,s=r>0&&n>=a?e[r+n-(i+a)]:0,c=e[r+n]-l(f,o,s);t+=Math.abs(c)}return t}function m(e,r,i,a,t){var n;if("filterType"in a&&-1!==a.filterType){if("number"!=typeof a.filterType)throw new Error("unrecognised filter types");n=[a.filterType]}else n=[0,1,2,3,4];for(var f=r*t,o=0,l=0,s=new Buffer((f+1)*i),c=n[0],u=0;i>u;u++){if(n.length>1)for(var h=1/0,b=0;b<n.length;b++){var d=M[n[b]](e,l,f,t);h>d&&(c=n[b],h=d)}s[o]=c,o++,R[c](e,l,f,s,o,t),o+=f,l+=f}return s}var y=e.Util.Codec,g=y.readUInt16BE,_=y.readUInt32BE,A=y.readBytes;t.prototype={constructor:t,data:null,pos:null,palette:null,imgData:null,transparency:null,animation:null,text:null,width:0,height:0,bits:null,colorType:null,compressionMethod:null,filterMethod:null,interlaceMethod:null,hasAlphaChannel:null,colors:null,colorSpace:null,pixelBitlength:null,readData:function(e){var r,i,a,t,n,f,o,l,s,c,u,h,b,d,p=this;for(p.data=e,p.pos=8,p.palette=[],p.imgData=[],p.transparency={},p.animation=null,p.text={},n=null;;){switch(r=_(p.data,p),s=function(){var e,r;for(r=[],f=e=0;4>e;f=++e)r.push(String.fromCharCode(this.data[this.pos++]));return r}.call(p).join("")){case"IHDR":p.width=_(p.data,p),p.height=_(p.data,p),p.bits=p.data[p.pos++],p.colorType=p.data[p.pos++],p.compressionMethod=p.data[p.pos++],p.filterMethod=p.data[p.pos++],p.interlaceMethod=p.data[p.pos++];break;case"acTL":p.animation={numFrames:_(p.data,p),numPlays:_(p.data,p)||1/0,frames:[]};break;case"PLTE":p.palette=A(r,p.data,p);break;case"fcTL":n&&p.animation.frames.push(n),p.pos+=4,n={width:_(p.data,p),height:_(p.data,p),xOffset:_(p.data,p),yOffset:_(p.data,p)},t=g(p.data,p),a=g(p.data,p)||100,n.delay=1e3*t/a,n.disposeOp=p.data[p.pos++],n.blendOp=p.data[p.pos++],n.data=[];break;case"IDAT":case"fdAT":for("fdAT"===s&&(p.pos+=4,r-=4),e=(null!=n?n.data:void 0)||p.imgData,f=h=0;r>=0?r>h:h>r;f=r>=0?++h:--h)e.push(p.data[p.pos++]);break;case"tRNS":switch(p.transparency={},p.colorType){case 3:if(p.transparency.indexed=A(r,p.data,p),c=255-p.transparency.indexed.length,c>0)for(f=b=0;c>=0?c>b:b>c;f=c>=0?++b:--b)p.transparency.indexed.push(255);break;case 0:p.transparency.grayscale=A(r,p.data,p)[0];break;case 2:p.transparency.rgb=A(r,p.data,p)}break;case"tEXt":u=A(r,p.data,p),o=u.indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,o)),p.text[l]=String.fromCharCode.apply(String,u.slice(o+1));break;case"IEND":return n&&p.animation.frames.push(n),p.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(p),p.hasAlphaChannel=4===(d=p.colorType)||6===d,i=p.colors+(p.hasAlphaChannel?1:0),p.pixelBitlength=p.bits*i,p.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(p),void(p.imgData=new Uint8Array(p.imgData));default:p.pos+=r}if(p.pos+=4,p.pos>p.data.length)throw new Error("Incomplete or corrupt PNG file")}},decodePixels:function(e){var r,a,t,n,f,o,l,s,c,u,h,b,d,p,k,w,v,m,y,g,_,A,E,I=this;if(null==e&&(e=I.imgData),0===e.length)return new Uint8Array(0);for(e=i(e),b=I.pixelBitlength/8,w=b*I.width,d=new Uint8Array(w*I.height),o=e.length,k=0,p=0,a=0;o>p;){switch(e[p++]){case 0:for(n=y=0;w>y;n=y+=1)d[a++]=e[p++];break;case 1:for(n=g=0;w>g;n=g+=1)r=e[p++],f=b>n?0:d[a-b],d[a++]=(r+f)%256;break;case 2:for(n=_=0;w>_;n=_+=1)r=e[p++],t=(n-n%b)/b,v=k&&d[(k-1)*w+t*b+n%b],d[a++]=(v+r)%256;break;case 3:for(n=A=0;w>A;n=A+=1)r=e[p++],t=(n-n%b)/b,f=b>n?0:d[a-b],v=k&&d[(k-1)*w+t*b+n%b],d[a++]=(r+Math.floor((f+v)/2))%256;break;case 4:for(n=E=0;w>E;n=E+=1)r=e[p++],t=(n-n%b)/b,f=b>n?0:d[a-b],0===k?v=m=0:(v=d[(k-1)*w+t*b+n%b],m=t&&d[(k-1)*w+(t-1)*b+n%b]),l=f+v-m,s=Math.abs(l-f),u=Math.abs(l-v),h=Math.abs(l-m),c=u>=s&&h>=s?f:h>=u?v:m,d[a++]=(r+c)%256;break;default:throw new Error("Invalid filter algorithm: "+e[p-1])}k++}return d},decodePalette:function(){var e,r,i,a,t,n,f,o,l,s,c=this;for(a=c.palette,f=c.transparency.indexed||[],n=new Uint8Array((f.length||0)+a.length),t=0,i=a.length,e=0,r=o=0,l=a.length;l>o;r=o+=3)n[t++]=a[r],n[t++]=a[r+1],n[t++]=a[r+2],n[t++]=null!=(s=f[e++])?s:255;return n},copyToImageData:function(e,r){var i,a,t,n,f,o,l,s,c,u,h,b=this;if(a=b.colors,c=null,i=b.hasAlphaChannel,b.palette.length&&(c=null!=(h=b._decodedPalette)?h:b._decodedPalette=b.decodePalette(),a=4,i=!0),t=e.data||e,s=t.length,f=c||r,n=o=0,1===a)for(;s>n;)l=c?4*r[n/4]:o,u=f[l++],t[n++]=u,t[n++]=u,t[n++]=u,t[n++]=i?f[l++]:255,o=l;else for(;s>n;)l=c?4*r[n/4]:o,t[n++]=f[l++],t[n++]=f[l++],t[n++]=f[l++],t[n++]=i?f[l++]:255,o=l},decode:function(){var e,r=this;return e=new Uint8Array(r.width*r.height*4),r.copyToImageData(e,r.decodePixels()),e}};var E={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5},I=null;f.prototype.write=function(e){null===I&&n();for(var r=0;r<e.length;r++)this._crc=I[255&(this._crc^e[r])]^this._crc>>>8;return!0},f.prototype.crc32=function(){return-1^this._crc},f.crc32=function(e){null===I&&n();for(var r=-1,i=0;i<e.length;i++)r=I[255&(r^e[i])]^r>>>8;return-1^r};var R={0:s,1:u,2:b,3:p,4:w},M={0:c,1:h,2:d,3:k,4:v},T=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null!=e.inputHasAlpha?e.inputHasAlpha:!0,e.bitDepth=e.bitDepth||8,e.colorType="number"==typeof e.colorType?e.colorType:E.COLORTYPE_COLOR_ALPHA,e.colorType!==E.COLORTYPE_COLOR&&e.colorType!==E.COLORTYPE_COLOR_ALPHA)throw new Error("option color type:"+e.colorType+" is not supported at present");if(8!==e.bitDepth)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};T.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},T.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},T.prototype.filterData=function(e,r,i){var a=o(e,r,i,this._options),t=E.COLORTYPE_TO_BPP_MAP[this._options.colorType],n=m(a,r,i,this._options,t);return n},T.prototype._packChunk=function(e,r){var i=r?r.length:0,a=new Buffer(i+12);return a.writeUInt32BE(i,0),a.writeUInt32BE(e,4),r&&r.copy(a,8),a.writeInt32BE(f.crc32(a.slice(4,a.length-4)),a.length-4),a},T.prototype.packGAMA=function(e){var r=new Buffer(4);return r.writeUInt32BE(Math.floor(e*E.GAMMA_DIVISION),0),this._packChunk(E.TYPE_gAMA,r)},T.prototype.packIHDR=function(e,r){var i=new Buffer(13);return i.writeUInt32BE(e,0),i.writeUInt32BE(r,4),i[8]=this._options.bitDepth,i[9]=this._options.colorType,i[10]=0,i[11]=0,i[12]=0,this._packChunk(E.TYPE_IHDR,i)},T.prototype.packIDAT=function(e){return this._packChunk(E.TYPE_IDAT,e)},T.prototype.packIEND=function(){return this._packChunk(E.TYPE_IEND,null)},e.Codec.PNG={encoder:function(e,r){r=r||{};var i=new T(r),t=[];t.push(new Buffer(E.PNG_SIGNATURE)),t.push(i.packIHDR(e.width,e.height)),r.gamma&&t.push(i.packGAMA(r.gamma));var n=i.filterData(e.data,e.width,e.height),f=i.getDeflateOptions(),o=a(n,f.level,f.chuckSize);if(n=null,!o||!o.length)throw new Error("bad png - invalid compressed data response");return t.push(i.packIDAT(new Buffer(o))),t.push(i.packIEND()),Buffer.concat(t)},decoder:function(e,r){var i=new t;return i.readData(new Uint8Array(e)),{width:i.width,height:i.height,data:i.decode()}}}}(FILTER),!function(e,r){function i(){}function a(e,r){for(var i,a,t=0,n=[],f=16;f>0&&!e[f-1];)f--;n.push({children:[],index:0});var o,l=n[0];for(i=0;f>i;i++){for(a=0;a<e[i];a++){for(l=n.pop(),l.children[l.index]=r[t];l.index>0;)l=n.pop();for(l.index++,n.push(l);n.length<=i;)n.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o;t++}f>i+1&&(n.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o)}return n[0].children}function t(e,r,i,a,t,n,f,o,s){function c(){if(L>0)return L--,C>>L&1;if(C=e[r++],255==C){var i=e[r++];if(i)throw"unexpected marker: "+(C<<8|i).toString(16)}return L=7,C>>>7}function u(e){for(var r,i=e;null!==(r=c());){if(i=i[r],"number"==typeof i)return i;if("object"!=typeof i)throw"invalid huffman sequence"}return null}function h(e){for(var r=0;e>0;){var i=c();if(null===i)return;r=r<<1|i,e--}return r}function b(e){var r=h(e);return r>=1<<e-1?r:r+(-1<<e)+1}function d(e,r){var i=u(e.huffmanTableDC),a=0===i?0:b(i);r[0]=e.pred+=a;for(var t=1;64>t;){var n=u(e.huffmanTableAC),f=15&n,o=n>>4;if(0!==f){t+=o;var s=l[t];r[s]=b(f),t++}else{if(15>o)break;t+=16}}}function p(e,r){var i=u(e.huffmanTableDC),a=0===i?0:b(i)<<s;r[0]=e.pred+=a}function k(e,r){r[0]|=c()<<s}function w(e,r){if(P>0)return void P--;for(var i=n,a=f;a>=i;){var t=u(e.huffmanTableAC),o=15&t,c=t>>4;if(0!==o){i+=c;var d=l[i];r[d]=b(o)*(1<<s),i++}else{if(15>c){P=h(c)+(1<<c)-1;break}i+=16}}}function v(e,r){for(var i=n,a=f,t=0;a>=i;){var o=l[i];switch(x){case 0:var d=u(e.huffmanTableAC),p=15&d,t=d>>4;if(0===p)15>t?(P=h(t)+(1<<t),x=4):(t=16,x=1);else{if(1!==p)throw"invalid ACn encoding";g=b(p),x=t?2:3}continue;case 1:case 2:r[o]?r[o]+=c()<<s:(t--,0===t&&(x=2==x?3:0));break;case 3:r[o]?r[o]+=c()<<s:(r[o]=g<<s,x=0);break;case 4:r[o]&&(r[o]+=c()<<s)}i++}4===x&&(P--,0===P&&(x=0))}function m(e,r,i,a,t){var n=i/T|0,f=i%T,o=n*e.v+a,l=f*e.h+t;r(e,e.blocks[o][l])}function y(e,r,i){var a=i/e.blocksPerLine|0,t=i%e.blocksPerLine;r(e,e.blocks[a][t])}var g,_,A,E,I,R,M,T=(i.precision,i.samplesPerLine,i.scanLines,i.mcusPerLine),B=i.progressive,S=(i.maxH,i.maxV,r),C=0,L=0,P=0,x=0,O=a.length;M=B?0===n?0===o?p:k:0===o?w:v:d;var D,U,z=0;U=1==O?a[0].blocksPerLine*a[0].blocksPerColumn:T*i.mcusPerColumn,t||(t=U);for(var F,Z;U>z;){for(A=0;O>A;A++)a[A].pred=0;if(P=0,1==O)for(_=a[0],R=0;t>R;R++)y(_,M,z),z++;else for(R=0;t>R;R++){for(A=0;O>A;A++)for(_=a[A],F=_.h,Z=_.v,E=0;Z>E;E++)for(I=0;F>I;I++)m(_,M,z,E,I);if(z++,z===U)break}if(L=0,D=e[r]<<8|e[r+1],65280>D)throw"marker was not found";if(!(D>=65488&&65495>=D))break;r+=2}return r-S}function n(e,r){function i(e,i,a){var t,n,f,o,l,w,v,m,y,g,_=r.quantizationTable,A=a;for(g=0;64>g;g++)A[g]=e[g]*_[g];for(g=0;8>g;++g){var E=8*g;0!=A[1+E]||0!=A[2+E]||0!=A[3+E]||0!=A[4+E]||0!=A[5+E]||0!=A[6+E]||0!=A[7+E]?(t=p*A[0+E]+128>>8,n=p*A[4+E]+128>>8,f=A[2+E],o=A[6+E],l=k*(A[1+E]-A[7+E])+128>>8,m=k*(A[1+E]+A[7+E])+128>>8,w=A[3+E]<<4,v=A[5+E]<<4,y=t-n+1>>1,t=t+n+1>>1,n=y,y=f*d+o*b+128>>8,f=f*b-o*d+128>>8,o=y,y=l-v+1>>1,l=l+v+1>>1,v=y,y=m+w+1>>1,w=m-w+1>>1,m=y,y=t-o+1>>1,t=t+o+1>>1,o=y,y=n-f+1>>1,n=n+f+1>>1,f=y,y=l*h+m*u+2048>>12,l=l*u-m*h+2048>>12,m=y,y=w*c+v*s+2048>>12,w=w*s-v*c+2048>>12,v=y,A[0+E]=t+m,A[7+E]=t-m,A[1+E]=n+v,A[6+E]=n-v,A[2+E]=f+w,A[5+E]=f-w,A[3+E]=o+l,A[4+E]=o-l):(y=p*A[0+E]+512>>10,A[0+E]=y,A[1+E]=y,A[2+E]=y,A[3+E]=y,A[4+E]=y,A[5+E]=y,A[6+E]=y,A[7+E]=y)}for(g=0;8>g;++g){var I=g;0!=A[8+I]||0!=A[16+I]||0!=A[24+I]||0!=A[32+I]||0!=A[40+I]||0!=A[48+I]||0!=A[56+I]?(t=p*A[0+I]+2048>>12,n=p*A[32+I]+2048>>12,f=A[16+I],o=A[48+I],l=k*(A[8+I]-A[56+I])+2048>>12,m=k*(A[8+I]+A[56+I])+2048>>12,w=A[24+I],v=A[40+I],y=t-n+1>>1,t=t+n+1>>1,n=y,y=f*d+o*b+2048>>12,f=f*b-o*d+2048>>12,o=y,y=l-v+1>>1,l=l+v+1>>1,v=y,y=m+w+1>>1,w=m-w+1>>1,m=y,y=t-o+1>>1,t=t+o+1>>1,o=y,y=n-f+1>>1,n=n+f+1>>1,f=y,y=l*h+m*u+2048>>12,l=l*u-m*h+2048>>12,m=y,y=w*c+v*s+2048>>12,w=w*s-v*c+2048>>12,v=y,A[0+I]=t+m,A[56+I]=t-m,A[8+I]=n+v,A[48+I]=n-v,A[16+I]=f+w,A[40+I]=f-w,A[24+I]=o+l,A[32+I]=o-l):(y=p*a[g+0]+8192>>14,A[0+I]=y,A[8+I]=y,A[16+I]=y,A[24+I]=y,A[32+I]=y,A[40+I]=y,A[48+I]=y,
A[56+I]=y)}for(g=0;64>g;++g){var R=128+(A[g]+8>>4);i[g]=0>R?0:R>255?255:R}}for(var a,t,n=[],f=r.blocksPerLine,o=r.blocksPerColumn,l=f<<3,w=new Int32Array(64),v=new Uint8Array(64),m=0;o>m;m++){var y=m<<3;for(a=0;8>a;a++)n.push(new Uint8Array(l));for(var g=0;f>g;g++){i(r.blocks[m][g],v,w);var _=0,A=g<<3;for(t=0;8>t;t++){var E=n[y+t];for(a=0;8>a;a++)E[A+a]=v[_++]}}}return n}function f(e){return 0>e?0:e>255?255:e}function o(e){function r(e){for(var r=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;64>i;i++){var a=E((r[i]*e+50)/100);1>a?a=1:a>255&&(a=255),I[N[i]]=a}for(var t=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],n=0;64>n;n++){var f=E((t[n]*e+50)/100);1>f?f=1:f>255&&(f=255),R[N[n]]=f}for(var o=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,s=0;8>s;s++)for(var c=0;8>c;c++)M[l]=1/(I[N[l]]*o[s]*o[c]*8),T[l]=1/(R[N[l]]*o[s]*o[c]*8),l++}function i(e,r){for(var i=0,a=0,t=new Array,n=1;16>=n;n++){for(var f=1;f<=e[n];f++)t[r[a]]=[],t[r[a]][0]=i,t[r[a]][1]=n,a++,i++;i*=2}return t}function a(){m=i(H,G),y=i(q,X),g=i(J,Y),_=i(W,j)}function t(){for(var e=1,r=2,i=1;15>=i;i++){for(var a=e;r>a;a++)S[32767+a]=i,B[32767+a]=[],B[32767+a][1]=i,B[32767+a][0]=a;for(var t=-(r-1);-e>=t;t++)S[32767+t]=i,B[32767+t]=[],B[32767+t][1]=i,B[32767+t][0]=r-1+t;e<<=1,r<<=1}}function n(){for(var e=0;256>e;e++)Z[e]=19595*e,Z[e+256>>0]=38470*e,Z[e+512>>0]=7471*e+32768,Z[e+768>>0]=-11059*e,Z[e+1024>>0]=-21709*e,Z[e+1280>>0]=32768*e+8421375,Z[e+1536>>0]=-27439*e,Z[e+1792>>0]=-5329*e}function f(e){for(var r=e[0],i=e[1]-1;i>=0;)r&1<<i&&(x|=1<<O),i--,O--,0>O&&(255==x?(o(255),o(0)):o(x),O=7,x=0)}function o(e){P.push(e)}function l(e){o(e>>8&255),o(255&e)}function s(e,r){var i,a,t,n,f,o,l,s,c,u=0;const h=8,b=64;for(c=0;h>c;++c){i=e[u],a=e[u+1],t=e[u+2],n=e[u+3],f=e[u+4],o=e[u+5],l=e[u+6],s=e[u+7];var d=i+s,p=i-s,k=a+l,w=a-l,v=t+o,m=t-o,y=n+f,g=n-f,_=d+y,A=d-y,E=k+v,I=k-v;e[u]=_+E,e[u+4]=_-E;var R=.707106781*(I+A);e[u+2]=A+R,e[u+6]=A-R,_=g+m,E=m+w,I=w+p;var M=.382683433*(_-I),T=.5411961*_+M,B=1.306562965*I+M,S=.707106781*E,L=p+S,P=p-S;e[u+5]=P+T,e[u+3]=P-T,e[u+1]=L+B,e[u+7]=L-B,u+=8}for(u=0,c=0;h>c;++c){i=e[u],a=e[u+8],t=e[u+16],n=e[u+24],f=e[u+32],o=e[u+40],l=e[u+48],s=e[u+56];var x=i+s,O=i-s,D=a+l,U=a-l,z=t+o,F=t-o,Z=n+f,N=n-f,H=x+Z,G=x-Z,J=D+z,Y=D-z;e[u]=H+J,e[u+32]=H-J;var q=.707106781*(Y+G);e[u+16]=G+q,e[u+48]=G-q,H=N+F,J=F+U,Y=U+O;var X=.382683433*(H-Y),W=.5411961*H+X,j=1.306562965*Y+X,V=.707106781*J,$=O+V,K=O-V;e[u+40]=K+W,e[u+24]=K-W,e[u+8]=$+j,e[u+56]=$-j,u++}var Q;for(c=0;b>c;++c)Q=e[c]*r[c],C[c]=Q>0?Q+.5|0:Q-.5|0;return C}function c(){l(65504),l(16),o(74),o(70),o(73),o(70),o(0),o(1),o(1),o(0),l(1),l(1),o(0),o(0)}function u(e,r){l(65472),l(17),o(8),l(r),l(e),o(3),o(1),o(17),o(0),o(2),o(17),o(1),o(3),o(17),o(1)}function h(){l(65499),l(132),o(0);for(var e=0;64>e;e++)o(I[e]);o(1);for(var r=0;64>r;r++)o(R[r])}function b(){l(65476),l(418),o(0);for(var e=0;16>e;e++)o(H[e+1]);for(var r=0;11>=r;r++)o(G[r]);o(16);for(var i=0;16>i;i++)o(J[i+1]);for(var a=0;161>=a;a++)o(Y[a]);o(1);for(var t=0;16>t;t++)o(q[t+1]);for(var n=0;11>=n;n++)o(X[n]);o(17);for(var f=0;16>f;f++)o(W[f+1]);for(var s=0;161>=s;s++)o(j[s])}function d(){l(65498),l(12),o(3),o(1),o(0),o(2),o(17),o(3),o(17),o(0),o(63),o(0)}function p(e,r,i,a,t){var n,o=t[0],l=t[240];const c=16,u=63,h=64;for(var b=s(e,r),d=0;h>d;++d)L[N[d]]=b[d];var p=L[0]-i;i=L[0],0==p?f(a[0]):(n=32767+p,f(a[S[n]]),f(B[n]));for(var k=63;k>0&&0==L[k];k--);if(0==k)return f(o),i;for(var w,v=1;k>=v;){for(var m=v;0==L[v]&&k>=v;++v);var y=v-m;if(y>=c){w=y>>4;for(var g=1;w>=g;++g)f(l);y=15&y}n=32767+L[v],f(t[(y<<4)+S[n]]),f(B[n]),v++}return k!=u&&f(o),i}function k(){for(var e=String.fromCharCode,r=0;256>r;r++)F[r]=e(r)}function w(e){if(0>=e&&(e=1),e>100&&(e=100),A!==e){var i=0;i=50>e?Math.floor(5e3/e):Math.floor(200-2*e),r(i),A=e}}function v(){e||(e=50),k(),a(),t(),n(),w(e)}var m,y,g,_,A,E=(Math.round,Math.floor),I=new Array(64),R=new Array(64),M=new Array(64),T=new Array(64),B=new Array(65535),S=new Array(65535),C=new Array(64),L=new Array(64),P=[],x=0,O=7,D=new Array(64),U=new Array(64),z=new Array(64),F=new Array(256),Z=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Y=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],j=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(e,r){r&&w(r),P=new Array,x=0,O=7,l(65496),c(),h(),u(e.width,e.height),b(),d();var i=0,a=0,t=0;x=0,O=7,this.encode.displayName="_encode_";for(var n,o,s,k,v,A,E,I,R,B=e.data,S=e.width,C=e.height,L=4*S,F=0;C>F;){for(n=0;L>n;){for(v=L*F+n,A=v,E=-1,I=0,R=0;64>R;R++)I=R>>3,E=4*(7&R),A=v+I*L+E,F+I>=C&&(A-=L*(F+1+I-C)),n+E>=L&&(A-=n+E-L+4),o=B[A++],s=B[A++],k=B[A++],D[R]=(Z[o]+Z[s+256>>0]+Z[k+512>>0]>>16)-128,U[R]=(Z[o+768>>0]+Z[s+1024>>0]+Z[k+1280>>0]>>16)-128,z[R]=(Z[o+1280>>0]+Z[s+1536>>0]+Z[k+1792>>0]>>16)-128;i=p(D,M,i,m,g),a=p(U,T,a,y,_),t=p(z,T,t,y,_),n+=32}F+=8}if(O>=0){var N=[];N[1]=O+1,N[0]=(1<<O+1)-1,f(N)}return l(65497),new Uint8Array(P)},v()}var l=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),s=4017,c=799,u=3406,h=2276,b=1567,d=3784,p=5793,k=2896;i.prototype={constructor:i,parse:function(e){function r(){var r=e[c]<<8|e[c+1];return c+=2,r}function i(){var i=r(),a=e.subarray(c,c+i-2);return c+=a.length,a}function f(e){var r,i,a=0,t=0;for(i in e.components)e.components.hasOwnProperty(i)&&(r=e.components[i],a<r.h&&(a=r.h),t<r.v&&(t=r.v));var n=Math.ceil(e.samplesPerLine/8/a),f=Math.ceil(e.scanLines/8/t);for(i in e.components)if(e.components.hasOwnProperty(i)){r=e.components[i];for(var o=Math.ceil(Math.ceil(e.samplesPerLine/8)*r.h/a),l=Math.ceil(Math.ceil(e.scanLines/8)*r.v/t),s=n*r.h,c=f*r.v,u=[],h=0;c>h;h++){for(var b=[],d=0;s>d;d++)b.push(new Int32Array(64));u.push(b)}r.blocksPerLine=o,r.blocksPerColumn=l,r.blocks=u}e.maxH=a,e.maxV=t,e.mcusPerLine=n,e.mcusPerColumn=f}var o,s,c=0,u=(e.length,null),h=null,b=[],d=[],p=[],k=[],w=r();if(65496!=w)throw"SOI not found";for(w=r();65497!=w;){var v,m;switch(w){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var y=i();65504===w&&74===y[0]&&70===y[1]&&73===y[2]&&70===y[3]&&0===y[4]&&(u={version:{major:y[5],minor:y[6]},densityUnits:y[7],xDensity:y[8]<<8|y[9],yDensity:y[10]<<8|y[11],thumbWidth:y[12],thumbHeight:y[13],thumbData:y.subarray(14,14+3*y[12]*y[13])}),65518===w&&65===y[0]&&100===y[1]&&111===y[2]&&98===y[3]&&101===y[4]&&0===y[5]&&(h={version:y[6],flags0:y[7]<<8|y[8],flags1:y[9]<<8|y[10],transformCode:y[11]});break;case 65499:for(var g=r(),_=g+c-2;_>c;){var A=e[c++],E=new Int32Array(64);if(A>>4===0)for(m=0;64>m;m++){var I=l[m];E[I]=e[c++]}else{if(A>>4!==1)throw"DQT: invalid table spec";for(m=0;64>m;m++){var I=l[m];E[I]=r()}}b[15&A]=E}break;case 65472:case 65473:case 65474:r(),o={},o.extended=65473===w,o.progressive=65474===w,o.precision=e[c++],o.scanLines=r(),o.samplesPerLine=r(),o.components={},o.componentsOrder=[];var R,M=e[c++];for(v=0;M>v;v++){R=e[c];var T=e[c+1]>>4,B=15&e[c+1],S=e[c+2];o.componentsOrder.push(R),o.components[R]={h:T,v:B,quantizationIdx:S},c+=3}f(o),d.push(o);break;case 65476:var C=r();for(v=2;C>v;){var L=e[c++],P=new Uint8Array(16),x=0;for(m=0;16>m;m++,c++)x+=P[m]=e[c];var O=new Uint8Array(x);for(m=0;x>m;m++,c++)O[m]=e[c];v+=17+x,(L>>4===0?k:p)[15&L]=a(P,O)}break;case 65501:r(),s=r();break;case 65498:var D,U=(r(),e[c++]),z=[];for(v=0;U>v;v++){D=o.components[e[c++]];var F=e[c++];D.huffmanTableDC=k[F>>4],D.huffmanTableAC=p[15&F],z.push(D)}var Z=e[c++],N=e[c++],H=e[c++],G=t(e,c,o,z,s,Z,N,H>>4,15&H);c+=G;break;default:if(255==e[c-3]&&e[c-2]>=192&&e[c-2]<=254){c-=3;break}throw"unknown JPEG marker "+w.toString(16)}w=r()}if(1!=d.length)throw"only single frame JPEGs supported";for(var v=0;v<d.length;v++){var J=d[v].components;for(var m in J)J[m].quantizationTable=b[J[m].quantizationIdx],delete J[m].quantizationIdx}this.width=o.samplesPerLine,this.height=o.scanLines,this.jfif=u,this.adobe=h,this.components=[];for(var v=0;v<o.componentsOrder.length;v++){var D=o.components[o.componentsOrder[v]];this.components.push({lines:n(o,D),scaleX:D.h/o.maxH,scaleY:D.v/o.maxV})}},getData:function(e,r){var i,a,t,n,o,l,s,c,u,h,b,d,p,k,w,v,m,y,g,_,A,E=this.width/e,I=this.height/r,R=0,M=e*r*this.components.length,T=new Uint8Array(M);switch(this.components.length){case 1:for(i=this.components[0],h=0;r>h;h++)for(o=i.lines[0|h*i.scaleY*I],u=0;e>u;u++)b=o[0|u*i.scaleX*E],T[R++]=b;break;case 2:for(i=this.components[0],a=this.components[1],h=0;r>h;h++)for(o=i.lines[0|h*i.scaleY*I],l=a.lines[0|h*a.scaleY*I],u=0;e>u;u++)b=o[0|u*i.scaleX*E],T[R++]=b,b=l[0|u*a.scaleX*E],T[R++]=b;break;case 3:for(A=!0,this.adobe&&this.adobe.transformCode?A=!0:"undefined"!=typeof this.colorTransform&&(A=!!this.colorTransform),i=this.components[0],a=this.components[1],t=this.components[2],h=0;r>h;h++)for(o=i.lines[0|h*i.scaleY*I],l=a.lines[0|h*a.scaleY*I],s=t.lines[0|h*t.scaleY*I],u=0;e>u;u++)A?(b=o[0|u*i.scaleX*E],d=l[0|u*a.scaleX*E],p=s[0|u*t.scaleX*E],y=f(b+1.402*(p-128)),g=f(b-.3441363*(d-128)-.71413636*(p-128)),_=f(b+1.772*(d-128))):(y=o[0|u*i.scaleX*E],g=l[0|u*a.scaleX*E],_=s[0|u*t.scaleX*E]),T[R++]=y,T[R++]=g,T[R++]=_;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";for(A=!1,this.adobe&&this.adobe.transformCode?A=!0:"undefined"!=typeof this.colorTransform&&(A=!!this.colorTransform),i=this.components[0],a=this.components[1],t=this.components[2],n=this.components[3],h=0;r>h;h++)for(o=i.lines[0|h*i.scaleY*I],l=a.lines[0|h*a.scaleY*I],s=t.lines[0|h*t.scaleY*I],c=n.lines[0|h*n.scaleY*I],u=0;e>u;u++)A?(b=o[0|u*i.scaleX*E],d=l[0|u*a.scaleX*E],p=s[0|u*t.scaleX*E],k=c[0|u*n.scaleX*E],w=255-f(b+1.402*(p-128)),v=255-f(b-.3441363*(d-128)-.71413636*(p-128)),m=255-f(b+1.772*(d-128))):(w=o[0|u*i.scaleX*E],v=l[0|u*a.scaleX*E],m=s[0|u*t.scaleX*E],k=c[0|u*n.scaleX*E]),T[R++]=w,T[R++]=v,T[R++]=m,T[R++]=k;break;default:throw"Unsupported color mode"}return T},copyToImageData:function(e){var r,i,a,t,n,o,l,s,c,u=e.width,h=e.height,b=e.data,d=this.getData(u,h),p=0,k=0;switch(this.components.length){case 1:for(i=0;h>i;i++)for(r=0;u>r;r++)a=d[p++],b[k++]=a,b[k++]=a,b[k++]=a,b[k++]=255;break;case 3:for(i=0;h>i;i++)for(r=0;u>r;r++)l=d[p++],s=d[p++],c=d[p++],b[k++]=l,b[k++]=s,b[k++]=c,b[k++]=255;break;case 4:for(i=0;h>i;i++)for(r=0;u>r;r++)n=d[p++],o=d[p++],a=d[p++],t=d[p++],l=255-f(n*(1-t/255)+t),s=255-f(o*(1-t/255)+t),c=255-f(a*(1-t/255)+t),b[k++]=l,b[k++]=s,b[k++]=c,b[k++]=255;break;default:throw"Unsupported color mode"}}};e.Codec.JPEG=e.Codec.JPG={encoder:function(e,r){r=r||{};var i="undefined"==typeof r.quality?100:r.quality,a=new o(i);return new Buffer(a.encode(e))},decoder:function(e,r){var a=new i;a.parse(new Uint8Array(e));var t={width:a.width,height:a.height,data:new Uint8Array(a.width*a.height*4)};return a.copyToImageData(t),t}}}(FILTER),!function(e,r){function i(e){var r=this;if(r.pos=0,r.buffer=e,r.flag=[String.fromCharCode(r.buffer[r.pos++]),String.fromCharCode(r.buffer[r.pos++])].join(""),"BM"!==r.flag)throw new Error("Invalid BMP File");r.parseHeader(),r.parseBGR()}function a(e){var r=this;r.data=e.data,r.width=e.width,r.height=e.height,r.extraBytes=3&r.width,r.rgbSize=r.height*(3*r.width+r.extraBytes),r.headerInfoSize=40,r.flag="BM",r.reserved=0,r.offset=54,r.fileSize=r.rgbSize+r.offset,r.planes=1,r.bitPP=24,r.compress=0,r.hr=0,r.vr=0,r.colors=0,r.importantColors=0}var t=e.Util.Codec,n=t.readUInt8,f=t.readUInt16LE,o=t.readUInt32LE,l=t.write,s=(t.writeUInt8,t.writeUInt16LE),c=t.writeUInt32LE,u=t.fill;i.prototype={constructor:i,pos:0,buffer:null,flag:null,fileSize:null,reserved:null,offset:null,headerSize:null,width:0,height:0,planes:null,bitPP:null,compress:null,rawSize:null,hr:null,vr:null,colors:null,importantColors:null,palette:null,data:null,parseHeader:function(){var e=this,r=e.buffer;if(e.fileSize=o(r,e),e.reserved=o(r,e),e.offset=o(r,e),e.headerSize=o(r,e),e.width=o(r,e),e.height=o(r,e),e.planes=f(r,e),e.bitPP=f(r,e),e.compress=o(r,e),e.rawSize=o(r,e),e.hr=o(r,e),e.vr=o(r,e),e.colors=o(r,e),e.importantColors=o(r,e),e.bitPP<24){var i=0===e.colors?1<<e.bitPP:e.colors;e.palette=new Array(i);for(var a=0;i>a;a++){var t=n(r,e),l=n(r,e),s=n(r,e),c=n(r,e);e.palette[a]={red:s,green:l,blue:t,quad:c}}}},parseBGR:function(){var e=this;e.pos=e.offset;var r="bit"+e.bitPP,i=e.width*e.height*4;try{e.data=new Uint8Array(i),e[r]()}catch(a){console.log("bit decode error:"+a)}},bit1:function(){var e,r,i,a,t,f,o=this,l=o.buffer,s=o.palette,c=o.width,u=o.height,h=Math.ceil(c/8),b=3&h;for(e=u-1;e>=0;e--){for(r=0;h>r;r++)for(i=n(l,o),a=e*c*4+8*r*4,t=0;8>t&&c>8*r+t;t++)f=s[i>>7-t&1],o.data[a+4*t]=f.blue,o.data[a+4*t+1]=f.green,o.data[a+4*t+2]=f.red,o.data[a+4*t+3]=255;0!=b&&(o.pos+=4-b)}},bit4:function(){var e,r,i,a,t,f,o,l=this,s=l.buffer,c=l.palette,u=l.width,h=l.height,b=Math.ceil(u/2),d=3&b;for(e=h-1;e>=0;e--){for(r=0;b>r&&(i=n(s,l),a=e*u*4+2*r*4,t=i>>4,f=15&i,o=c[t],l.data[a]=o.blue,l.data[a+1]=o.green,l.data[a+2]=o.red,l.data[a+3]=255,!(2*r+1>=u));r++)o=c[f],l.data[a+4]=o.blue,l.data[a+4+1]=o.green,l.data[a+4+2]=o.red,l.data[a+4+3]=255;0!=d&&(l.pos+=4-d)}},bit8:function(){var e,r,i,a,t,f=this,o=f.buffer,l=f.palette,s=f.width,c=f.height,u=3&s;for(e=c-1;e>=0;e--){for(r=0;s>r;r++)i=n(o,f),a=e*s*4+4*r,i<l.length?(t=l[i],f.data[a]=t.blue,f.data[a+1]=t.green,f.data[a+2]=t.red,f.data[a+3]=255):(f.data[a]=255,f.data[a+1]=255,f.data[a+2]=255,f.data[a+3]=255);0!=u&&(f.pos+=4-u)}},bit24:function(){var e,r,i,a,t,f,o=this,l=o.buffer,s=(o.palette,o.width),c=o.height,u=3&s;for(e=c-1;e>=0;e--){for(r=0;s>r;r++)a=n(l,o),t=n(l,o),f=n(l,o),i=e*s*4+4*r,o.data[i]=f,o.data[i+1]=t,o.data[i+2]=a,o.data[i+3]=255;o.pos+=u}},getData:function(){return this.data}},a.prototype={constructor:a,flag:null,fileSize:null,reserved:null,offset:null,headerSize:null,width:0,height:0,planes:null,bitPP:null,compress:null,rawSize:null,hr:null,vr:null,colors:null,importantColors:null,palette:null,extraBytes:null,rgbSize:null,headerInfoSize:null,data:null,encode:function(){var e=this,r=e.width,i=e.height,a=[],t=new Array(e.offset+e.rgbSize);l(a,e.flag),c(a,e.fileSize),c(a,e.reserved),c(a,e.offset),c(a,e.headerInfoSize),c(a,r),c(a,i),s(a,e.planes),s(a,e.bitPP),c(a,e.compress),c(a,e.rgbSize),c(a,e.hr),c(a,e.vr),c(a,e.colors),c(a,e.importantColors);var n,f,o,h,b,d,p,k=0,w=3*r+e.extraBytes;for(n=i-1;n>=0;n--){for(f=0;r>f;f++)o=n*w+3*f,h=e.data[k++],b=e.data[k++],d=e.data[k++],k++,t[o+2]=h,t[o+1]=b,t[o]=d;e.extraBytes>0&&(p=n*w+3*r,u(t,0,p,p+e.extraBytes))}return new Uint8Array(a.concat(t))}},e.Codec.BMP={encoder:function(e,r){"undefined"==typeof r.quality?100:r.quality;return new Buffer(new a(e).encode())},decoder:function(e,r){var a=new i(new Uint8Array(e));return{data:a.data,width:a.width,height:a.height}}}}(FILTER),!function(e,r){function i(e){return e.reduce(function(e,r){return 2*e+r},0)}function a(e){for(var r=[],i=7;i>=0;i--)r.push(!!(e&1<<i));return r}function t(e,r){for(var i,a,t=0,n=function(e){for(var i=0,a=0;e>a;a++)r.charCodeAt(t>>3)&1<<(7&t)&&(i|=1<<a),t++;return i},f=[],o=1<<e,l=o+1,s=e+1,c=[],u=function(){c=[],s=e+1;for(var r=0;o>r;r++)c[r]=[r];c[o]=[],c[l]=null};;)if(a=i,i=n(s),i!==o){if(i===l)break;if(i<c.length)a!==o&&c.push(c[a].concat(c[i][0]));else{if(i!==c.length)throw new Error("Invalid LZW code.");c.push(c[a].concat(c[a][0]))}f.push.apply(f,c[i]),c.length===1<<s&&12>s&&s++}else u();return f}function n(e){var r=this;r.data=e,r.len=r.data.length,r.pos=0,r.readByte=function(){var r=this;if(r.pos>=r.data.length)throw new Error("Attempted to read past end of stream.");return e instanceof Uint8Array?e[r.pos++]:255&e.charCodeAt(r.pos++)},r.readBytes=function(e){for(var r=this,i=[],a=0;e>a;a++)i.push(r.readByte());return i},r.read=function(e){for(var r=this,i="",a=0;e>a;a++)i+=String.fromCharCode(r.readByte());return i},r.readUnsigned=function(){var e=this,r=e.readBytes(2);return(r[1]<<8)+r[0]}}function f(e,r){r||(r={});var n=function(r){for(var i=[],a=0;r>a;a++)i.push(e.readBytes(3));return i},f=function(){var r,i;i="";do r=e.readByte(),i+=e.read(r);while(0!==r);return i},o=function(){var t={};if(t.sig=e.read(3),t.ver=e.read(3),"GIF"!==t.sig)throw new Error("Not a GIF file.");t.width=e.readUnsigned(),t.height=e.readUnsigned();var f=a(e.readByte());t.gctFlag=f.shift(),t.colorRes=i(f.splice(0,3)),t.sorted=f.shift(),t.gctSize=i(f.splice(0,3)),t.bgColor=e.readByte(),t.pixelAspectRatio=e.readByte(),t.gctFlag&&(t.gct=n(1<<t.gctSize+1)),r.hdr&&r.hdr(t)},l=function(t){var n=function(t){var n=(e.readByte(),a(e.readByte()));t.reserved=n.splice(0,3),t.disposalMethod=i(n.splice(0,3)),t.userInput=n.shift(),t.transparencyGiven=n.shift(),t.delayTime=e.readUnsigned(),t.transparencyIndex=e.readByte(),t.terminator=e.readByte(),r.gce&&r.gce(t)},o=function(e){e.comment=f(),r.com&&r.com(e)},l=function(i){e.readByte();i.ptHeader=e.readBytes(12),i.ptData=f(),r.pte&&r.pte(i)},s=function(i){var a=function(i){e.readByte();i.unknown=e.readByte(),i.iterations=e.readUnsigned(),i.terminator=e.readByte(),r.app&&r.app.NETSCAPE&&r.app.NETSCAPE(i)},t=function(e){e.appData=f(),r.app&&r.app[e.identifier]&&r.app[e.identifier](e)};e.readByte();switch(i.identifier=e.read(8),i.authCode=e.read(3),i.identifier){case"NETSCAPE":a(i);break;default:t(i)}},c=function(e){e.data=f(),r.unknown&&r.unknown(e)};switch(t.label=e.readByte(),t.label){case 249:t.extType="gce",n(t);break;case 254:t.extType="com",o(t);break;case 1:t.extType="pte",l(t);break;case 255:t.extType="app",s(t);break;default:t.extType="unknown",c(t)}},s=function(o){var l=function(e,r){for(var i=new Array(e.length),a=e.length/r,t=function(a,t){var n=e.slice(t*r,(t+1)*r);i.splice.apply(i,[a*r,r].concat(n))},n=[0,4,2,1],f=[8,8,4,2],o=0,l=0;4>l;l++)for(var s=n[l];a>s;s+=f[l])t(s,o),o++;return i};o.leftPos=e.readUnsigned(),o.topPos=e.readUnsigned(),o.width=e.readUnsigned(),o.height=e.readUnsigned();var s=a(e.readByte());o.lctFlag=s.shift(),o.interlaced=s.shift(),o.sorted=s.shift(),o.reserved=s.splice(0,2),o.lctSize=i(s.splice(0,3)),o.lctFlag&&(o.lct=n(1<<o.lctSize+1)),o.lzwMinCodeSize=e.readByte();var c=f();o.pixels=t(o.lzwMinCodeSize,c),o.interlaced&&(o.pixels=l(o.pixels,o.width)),r.img&&r.img(o)},c=function(){var i={};switch(i.sentinel=e.readByte(),String.fromCharCode(i.sentinel)){case"!":i.type="ext",l(i);break;case",":i.type="img",s(i);break;case";":i.type="eof",r.eof&&r.eof(i);break;default:throw new Error("Unknown block: 0x"+i.sentinel.toString(16))}"eof"!==i.type&&c()},u=function(){o(),c()};u()}e.Codec.GIF={encoder:e.NotImplemented("GIF.encoder"),decoder:function(r,i){var a,t=null,o={width:0,height:0,data:null};return f(new n(new Uint8Array(r)),{hdr:function(e){a=e},gce:function(e){t=e.transparencyGiven?e.transparencyIndex:null},img:function(r){var i=r.lctFlag?r.lct:a.gct,n=new e.ImArray(r.width*r.height*4);r.pixels.forEach(function(e,r){var a=r<<2;e!==t&&(n[a+0]=i[e][0],n[a+1]=i[e][1],n[a+2]=i[e][2],n[a+3]=255)}),o.width=r.width,o.height=r.height,o.data=n}}),o}}}(FILTER),!function(e,r){function i(e){switch(e.image_type){case b:case k:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&u("TGA.tgaCheckHeader: Invalid type colormap data for indexed type");break;case d:case p:case w:case v:e.colormap_type&&u("TGA.tgaCheckHeader: Invalid type colormap data for colormap type");break;case h:u("TGA.tgaCheckHeader: No data");default:u('TGA.tgaCheckHeader: Invalid type " '+e.image_type+'"')}(e.width<=0||e.height<=0)&&u("TGA.tgaCheckHeader: Invalid image size"),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&u('TGA.tgaCheckHeader: Invalid pixel size "'+e.pixel_size+'"')}function a(e,r,i,a,t){var n,f,o,l;if(f=i.pixel_size>>3,o=i.width*i.height*f,r&&(l=t.subarray(a,a+=i.colormap_length*(i.colormap_size>>3))),e){n=new Uint8Array(o);for(var s,c,u,h=0,b=new Uint8Array(f);o>h;)if(s=t[a++],c=(127&s)+1,128&s){for(u=0;f>u;++u)b[u]=t[a++];for(u=0;c>u;++u)n.set(b,h+u*f);h+=f*c}else{for(c*=f,u=0;c>u;++u)n[h+u]=t[a++];h+=c}}else n=t.subarray(a,a+=r?i.width*i.height:o);return{pixel_data:n,palettes:l}}function t(e,r,i,a,t,n,f,o,l,s){var c,u,h,b=s,d=0,p=e.width;for(h=i;h!==t;h+=a)for(u=n;u!==o;u+=f,d++)c=l[d],r[4*(u+p*h)+3]=255,r[4*(u+p*h)+2]=b[3*c+0],r[4*(u+p*h)+1]=b[3*c+1],r[4*(u+p*h)+0]=b[3*c+2];return r}function n(e,r,i,a,t,n,f,o,l){var s,c,u,h=0,b=e.width;for(u=i;u!==t;u+=a)for(c=n;c!==o;c+=f,h+=2)s=l[h+0]+(l[h+1]<<8),r[4*(c+b*u)+0]=(31744&s)>>7,r[4*(c+b*u)+1]=(992&s)>>2,r[4*(c+b*u)+2]=(31&s)>>3,r[4*(c+b*u)+3]=32768&s?0:255;return r}function f(e,r,i,a,t,n,f,o,l){var s,c,u=0,h=e.width;for(c=i;c!==t;c+=a)for(s=n;s!==o;s+=f,u+=3)r[4*(s+h*c)+3]=255,r[4*(s+h*c)+2]=l[u+0],r[4*(s+h*c)+1]=l[u+1],r[4*(s+h*c)+0]=l[u+2];return r}function o(e,r,i,a,t,n,f,o,l){var s,c,u=0,h=e.width;for(c=i;c!==t;c+=a)for(s=n;s!==o;s+=f,u+=4)r[4*(s+h*c)+2]=l[u+0],r[4*(s+h*c)+1]=l[u+1],r[4*(s+h*c)+0]=l[u+2],r[4*(s+h*c)+3]=l[u+3];return r}function l(e,r,i,a,t,n,f,o,l){var s,c,u,h=0,b=e.width;for(u=i;u!==t;u+=a)for(c=n;c!==o;c+=f,h++)s=l[h],r[4*(c+b*u)+0]=s,r[4*(c+b*u)+1]=s,r[4*(c+b*u)+2]=s,r[4*(c+b*u)+3]=255;return r}function s(e,r,i,a,t,n,f,o,l){var s,c,u=0,h=e.width;for(c=i;c!==t;c+=a)for(s=n;s!==o;s+=f,u+=2)r[4*(s+h*c)+0]=l[u+0],r[4*(s+h*c)+1]=l[u+0],r[4*(s+h*c)+2]=l[u+0],r[4*(s+h*c)+3]=l[u+1];return r}function c(e,r,i,a,c,h){var b,d,p,k,w,v,I=new Uint8Array(r*i*4);switch((e.flags&m)>>y){default:case A:b=0,p=1,w=r,d=0,k=1,v=i;break;case g:b=0,p=1,w=r,d=i-1,k=-1,v=-1;break;case E:b=r-1,p=-1,w=-1,d=0,k=1,v=i;break;case _:b=r-1,p=-1,w=-1,d=i-1,k=-1,v=-1}if(h)switch(e.pixel_size){case 8:l(e,I,d,k,v,b,p,w,a);break;case 16:s(e,I,d,k,v,b,p,w,a);break;default:u("TGA.getTgaRGBA: not support this format")}else switch(e.pixel_size){case 8:t(e,I,d,k,v,b,p,w,a,c);break;case 16:n(e,I,d,k,v,b,p,w,a);break;case 24:f(e,I,d,k,v,b,p,w,a);break;case 32:o(e,I,d,k,v,b,p,w,a);break;default:u("TGA.getTgaRGBA: not support this format")}return I}var u=function(r){e.error(r,!0)},h=0,b=1,d=2,p=3,k=9,w=10,v=11,m=48,y=4,g=0,_=1,A=2,E=3;e.Codec.TGA={encoder:e.NotImplemented("TGA.encoder"),decoder:function(e,r){e.length<19&&u("TGA: Not enough data to contain header.");var t=new Uint8Array(e),n=0,f={id_length:t[n++],colormap_type:t[n++],image_type:t[n++],colormap_index:t[n++]|t[n++]<<8,colormap_length:t[n++]|t[n++]<<8,colormap_size:t[n++],origin:[t[n++]|t[n++]<<8,t[n++]|t[n++]<<8],width:t[n++]|t[n++]<<8,height:t[n++]|t[n++]<<8,pixel_size:t[n++],flags:t[n++]};i(f),f.id_length+n>e.length&&u("TGA: No data"),n+=f.id_length;var o=!1,l=!1,s=!1;switch(f.image_type){case k:o=!0,l=!0;break;case b:l=!0;break;case w:o=!0;break;case d:break;case v:o=!0,s=!0;break;case p:s=!0}var h=a(o,l,f,n,t),m=c(f,f.width,f.height,h.pixel_data,h.palettes,s);return{width:f.width,height:f.height,data:m}}}}(FILTER),!function(e,r){var i=function(r){e.error(r,!0)},a="hasOwnproperty",t=Array.prototype.push,n=Array.prototype.slice,f=-1,o=1,l=2,s=3,c=4,u=function(e,r){switch(e){case o:i("RGBE Read Error: "+(r||""));break;case l:i("RGBE Write Error: "+(r||""));break;case s:i("RGBE Bad File Format: "+(r||""));break;case c:default:i("RGBE: Error: "+(r||""))}return f},h=4,d=1,p=2,k=4,w="\n",v=function(e,r,i){r=r?r:1024;for(var a=e.pos,t=-1,n=0,f="",o=128,l=String.fromCharCode.apply(null,new Uint16Array(e.subarray(a,a+o)));0>(t=l.indexOf(w))&&r>n&&a<e.byteLength;)f+=l,n+=l.length,a+=o,l+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(a,a+o)));return t>-1?(!1!==i&&(e.pos+=n+t+1),f+l.slice(0,t)):!1},m=function(e,r){var i,a,f=r.length;for(b=new Uint16Array(f),i=0;f>i;i++)a=r.charCodeAt(i),b[i]=a;t.apply(e,n.call(new Uint8Array(b)))},y=function(e,r){t.apply(e,n.call(r))},g=/^#\?(\S+)$/,_=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,A=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,E=/^\s*FORMAT=(\S+)\s*$/,I=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,R=function(e){var r,i,a={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=v(e)))return u(o,"no header found");if(!(i=r.match(g)))return u(s,"bad initial token");for(a.valid|=d,a.programtype=i[1],a.string+=r+"\n";;){if(r=v(e),!1===r)break;if(a.string+=r+"\n","#"!==r.charAt(0)){if((i=r.match(_))&&(a.gamma=parseFloat(i[1],10)),(i=r.match(A))&&(a.exposure=parseFloat(i[1],10)),(i=r.match(E))&&(a.valid|=p,a.format=i[1]),(i=r.match(I))&&(a.valid|=k,a.height=parseInt(i[1],10),a.width=parseInt(i[2],10)),a.valid&p&&a.valid&k)break}else a.comments+=r+"\n"}return a.valid&p?a.valid&k?a:u(s,"missing image size specifier"):u(s,"missing format specifier")},M=function(e,r,i,t){var n="RGBE";t=t||{},t[a]("programtype")&&(n=t.programtype),m(e,"#?"+n+"\n"),t[a]("gamma")&&m(e,"GAMMA="+t.gamma+"\n"),t[a]("exposure")&&m(e,"EXPOSURE="+t.exposure+"\n"),m(e,"FORMAT=32-bit_rle_rgbe\n\n"),m(e,"-Y "+~~i+" +X "+~~r+"\n")},T=function(e,r,i){var a,t,n,f,l,h,b,d,p,k,w,v,m,y=r,g=i;if(8>y||y>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(y!==(e[2]<<8|e[3]))return u(s,"wrong scanline width");if(a=new Uint8Array(4*r*i),!a||!a.length)return u(c,"unable to allocate buffer space");for(t=0,n=0,d=4*y,m=new Uint8Array(4),h=new Uint8Array(d);g>0&&n<e.byteLength;){if(n+4>e.byteLength)return u(o);if(m[0]=e[n++],m[1]=e[n++],m[2]=e[n++],m[3]=e[n++],2!=m[0]||2!=m[1]||(m[2]<<8|m[3])!=y)return u(s,"bad rgbe scanline format");for(b=0;d>b&&n<e.byteLength;){if(f=e[n++],v=f>128,v&&(f-=128),0===f||b+f>d)return u(s,"bad scanline data");if(v)for(l=e[n++],p=0;f>p;p++)h[b++]=l;else h.set(e.subarray(n,n+f),b),b+=f,n+=f}for(k=y,p=0;k>p;p++)w=0,a[t]=h[p+w],w+=y,a[t+1]=h[p+w],w+=y,a[t+2]=h[p+w],w+=y,a[t+3]=h[p+w],t+=4;g--}return a},B=function(e,r,i){var a,t,n,f,o,l=4,s=new Uint8Array(2);for(a=0;i>a;){for(t=a,n=f=0;l>n&&i>t;)for(t+=n,f=n,n=1;i>t+n&&127>n&&r[t]==r[t+n];)n++;for(f>1&&f==t-a&&(s[0]=128+f,s[1]=r[a],y(e,s),a=t);t>a;)o=t-a,o>128&&(o=128),s[0]=o,y(e,s),y(e,r.subarray(a,o)),a+=o;n>=l&&(s[0]=128+n,s[1]=r[t],y(e,s),a+=n)}},S=function(e,r,i,a){var t,n,f,o=new Uint8Array(4);if(8>i||i>32767)return void y(e,r);for(t=new Uint8Array(4*i),f=0;a-- >0;){for(o[0]=2,o[1]=2,o[2]=i>>8,o[3]=255&i,y(e,o),n=0;i>n;n++)o[0]=r[datapos+0],o[1]=r[datapos+1],o[2]=r[datapos+2],o[3]=r[datapos+3],t[n]=o[0],t[n+i]=o[1],t[n+2*i]=o[2],t[n+3*i]=o[3],f+=h;for(n=0;4>n;n++)B(e,t[n*i],i)}};e.Codec.HDR=e.Codec.RGBE={encoder:function(e,r){r=r||{};var i=[];return M(i,e.width,e.height,r),S(i,e.data,r.scanline_width||0,r.num_scanlines||0),new Buffer(new Uint8Array(i))},decoder:function(e,r){var i=new Uint8Array(e);i.byteLength;i.pos=0;var a=R(i);if(f!==a){var t=a.width,n=a.height,o=T(i.subarray(i.pos),t,n);if(f!==o)return r&&(r.gamma=a.gamma,r.exposure=a.exposure),{width:t,height:n,data:o}}return null}}}(FILTER),FILTER});
/**
*
*   FILTER.js Generic Filters
*   @version: 0.9.6
*   @dependencies: Filter.js
*
*   JavaScript Image Processing Library (Generic Filters)
*   https://github.com/foo123/FILTER.js
*
**/!function(t,e){"use strict";"object"==typeof module&&module.exports?module.exports=e.call(t,module.$deps&&module.$deps.FILTER||require("./FILTER".toLowerCase())):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified("FILTER_FILTERS")?define("FILTER_FILTERS",["module","FILTER"],function(n,i){return e.moduleUri=n.uri,e.call(t,i),i}):(e.call(t,t.FILTER)||1)&&"function"==typeof define&&define.amd&&define(function(){return t.FILTER})}(this,function t(e){"use strict";var n=e.getPath(t.moduleUri);return!function(t,e){var i=(Object.prototype,Function.prototype,Array.prototype),r=i.slice,l=i.splice,a=i.push,s=t.Create({name:"CompositeFilter",init:function(t){var e=this;e.filters=t&&t.length?t:[]},path:n,filters:null,hasInputs:!0,_stable:!0,dispose:function(t){var e,n=this,i=n.filters;if(!0===t)for(e=0;e<i.length;e++)i[e]&&i[e].dispose(t),i[e]=null;return n.filters=null,n.$super("dispose"),n},serializeInputs:function(t){var e,n,i,r=this,l=r.filters,a=[],s=!1;for(e=0,n=l.length;n>e;e++)a.push(i=l[e].serializeInputs(t)),i&&(s=!0);return s?a:null},unserializeInputs:function(t,e){var n=this;if(!t)return n;var i,r,l=n.filters;for(i=0,r=l.length;r>i;i++)t[i]&&l[i].unserializeInputs(t[i],e);return n},serialize:function(){var t,e,n=this,i=n.filters,r=[];for(t=0,e=i.length;e>t;t++)r.push(i[t].serializeFilter());return{_stable:n._stable,filters:r}},unserialize:function(e){var n,i,r,l,a,s=this,o=s.filters;if(s._stable=e._stable,l=e.filters||[],i=l.length,r=o.length,i===r&&s._stable)for(n=0;i>n;n++)o[n].unserializeFilter(l[n]);else{for(n=0;r>n;n++)o[n]&&o[n].dispose(!0),o[n]=null;for(o=[],n=0;i>n;n++){if(a=l[n]&&l[n].filter?t.Filter.get(l[n].filter):null,!a)throw new Error('Filter "'+l[n].filter+'" could not be created');o.push((new a).unserializeFilter(l[n]))}s.filters=o}return s},setMetaData:function(t,e){var n,i,r=this,l=r.filters;if(t&&t.filters&&(i=t.filters.length)&&l.length)for(n=0;i>n;n++)l[t.filters[n][0]].setMetaData(t.filters[n][1],e);return t&&null!=t._IMG_WIDTH&&(r.meta={_IMG_WIDTH:t._IMG_WIDTH,_IMG_HEIGHT:t._IMG_HEIGHT},r.hasMeta=!0),r},stable:function(t){return arguments.length||(t=!0),this._stable=!!t,this},set:function(t){return t&&t.length&&(this.filters=t),this},filter:function(t,e){return arguments.length>1?(this.filters.length>t?this.filters[t]=e:this.filters.push(e),this):this.filters.length>t?this.filters[t]:null},get:null,push:function(){return arguments.length&&a.apply(this.filters,arguments),this},concat:null,pop:function(){return this.filters.pop()},shift:function(){return this.filters.shift()},unshift:function(){return arguments.length&&l.apply(this.filters,a.apply([0,0],arguments)),this},insertAt:function(t){var e=r.call(arguments);e.length;return argslen>1&&(e.shift(),l.apply(this.filters,[t,0].concat(e))),this},removeAt:function(t){return this.filters.splice(t,1)},remove:function(t){for(var e=this.filters.length;--e>=0;)t===this.filters[e]&&this.filters.splice(e,1);return this},reset:function(){return this.filters.length=0,this},empty:null,_apply:function(t,e,n,i){var r,l=this,a=null,s=0,o=null,u=null;if(l.filters.length){i=i||{};var c,f,h=l.filters,m=h.length;for(a=new Array(m),c=0;m>c;c++)f=h[c],f&&f._isOn&&(i.container=l,i.index=c,t=f._apply(t,e,n,i),f.hasMeta&&(a[s++]=[c,r=f.metaData()],null!=r._IMG_WIDTH&&(o=e=r._IMG_WIDTH,u=n=r._IMG_HEIGHT)))}return s>0?(a.length>s&&(a.length=s),l.hasMeta=!0,l.meta={filters:a},null!=o&&(l.meta._IMG_WIDTH=o,l.meta._IMG_HEIGHT=u)):(l.hasMeta=!1,l.meta=null),t},canRun:function(){return this._isOn&&this.filters.length},toString:function(){var t,e="	",n=this.filters,i=[],r=n.length;for(t=0;r>t;t++)i.push(e+n[t].toString().split("\n").join("\n"+e));return["[FILTER: "+this.name+"]","[",i.join("\n"),"]",""].join("\n")}});s.prototype.get=s.prototype.filter,s.prototype.empty=s.prototype.reset,s.prototype.concat=s.prototype.push,t.CompositionFilter=t.CompositeFilter}(e),!function(t,e){var i=Math.min,r=Math.max,l=(Math.floor,t.Array32F),a=t._notSupportClamp;t.Create({name:"AlgebraicFilter",init:function(t){var e=this;e.set(t)},path:n,matrix:null,raw:!1,hasInputs:!0,dispose:function(){var t=this;return t.matrix=null,t.raw=null,t.$super("dispose"),t},serialize:function(){var t=this;return{matrix:t.matrix,raw:t.raw}},unserialize:function(t){var e=this;return e.matrix=t.matrix,e.raw=t.raw,e},fastGradient:function(t){return this},set:function(t){var e=this;return t&&t.length&&(e.matrix=t),e},setInputValues:function(t,n){var i,r=this,l=r.matrix;return n&&(l||(l=r.matrix=[1,0,0,0,0,null,null]),i=7*(t-1),null!=n.a&&(l[i]=+n.a),null!=n.b&&(l[i+1]=+n.b),null!=n.c&&(l[i+2]=+n.c),null!=n.tx&&(l[i+3]=+n.tx),null!=n.ty&&(l[i+4]=+n.ty),e!==n.co&&(l[i+5]=n.co),e!==n.ci&&(l[i+6]=n.ci)),r},reset:function(){var t=this;return t.matrix=null,t},_apply:function(t,e,n){var s=this,o=s.matrix;if(!o||!o.length)return t;var u,c,f,h,m,_,p,d,g,v,C,R,y,x,I,A,w,b,F,E,L,G,T,M,S,N,Y,U,B,O,H,z=o.length,X=t.length,D=X>>>2,V=new l(X);for(f=0,b=e,F=n,w=t,c=0;z>c;c+=7){if(E=i(e,b),L=i(n,F),H=E*L,R=o[c+0],y=o[c+1],x=o[c+2]||0,v=(o[c+3]||0)*(e-1)|0,C=(o[c+4]||0)*(n-1)*e|0,A=o[c+5],I=o[c+6],null!==I&&null!==A)for(d=0,p=C,g=0,u=0;H>u;u++,d++)d>=E&&(d=0,p+=e,g+=b),_=d+v,0>_||_>=e||0>p||p>=D||(h=_+p<<2,m=d+g<<2,V[h+A]=R*V[h+A]+y*w[m+I]+x);else if(null!==I)for(d=0,p=C,g=0,u=0;H>u;u++,d++)d>=E&&(d=0,p+=e,g+=b),_=d+v,0>_||_>=e||0>p||p>=D||(h=_+p<<2,m=d+g<<2,O=y*w[m+I]+x,V[h]=R*V[h]+O,V[h+1]=R*V[h+1]+O,V[h+2]=R*V[h+2]+O,V[h+3]=R*V[h+3]+O);else if(null!==A)for(G=(y>>>16&255)/255,T=(y>>>8&255)/255,M=(255&y)/255,S=(y>>>24&255)/255,N=x>>>16&255,Y=x>>>8&255,U=255&x,B=x>>>24&255,d=0,p=C,g=0,u=0;H>u;u++,d++)d>=E&&(d=0,p+=e,g+=b),_=d+v,0>_||_>=e||0>p||p>=D||(h=_+p<<2,m=d+g<<2,V[h+A]=R*V[h+A]+G*w[m]+N+T*w[m+1]+Y+M*w[m+2]+U+S*w[m+3]+B);else for(d=0,p=C,g=0,u=0;H>u;u++,d++)d>=E&&(d=0,p+=e,g+=b),_=d+v,0>_||_>=e||0>p||p>=D||(h=_+p<<2,m=d+g<<2,V[h]=R*V[h]+y*w[m]+x,V[h+1]=R*V[h+1]+y*w[m+1]+x,V[h+2]=R*V[h+2]+y*w[m+2]+x,V[h+3]=R*V[h+3]+y*w[m+3]+x);w=s.input(++f),b=w[1],F=w[2],w=w[0]}if(a)for(u=0;X>u;u+=4)t[u]=i(255,r(0,0|V[u])),t[u+1]=i(255,r(0,0|V[u+1])),t[u+2]=i(255,r(0,0|V[u+2])),t[u+3]=i(255,r(0,0|V[u+3]));else for(u=0;X>u;u+=4)t[u]=0|V[u],t[u+1]=0|V[u+1],t[u+2]=0|V[u+2],t[u+3]=0|V[u+3];return t}})}(e),!function(t,e){var i="hasOwnProperty",r=t.ImArray,l=(t.ImArrayCopy,Math.min),a=Math.round,s=t.Util.Array.hasArrayset,o=t.Util.Array.arrayset,u=t._notSupportClamp;t.Create({name:"BlendFilter",init:function(t){var e=this;e.set(t)},path:n,matrix:null,hasInputs:!0,dispose:function(){var t=this;return t.matrix=null,t.$super("dispose"),t},serialize:function(){var t=this;return{matrix:t.matrix}},unserialize:function(t){var e=this;return e.matrix=t.matrix,e},set:function(t){var e=this;return t&&t.length&&(e.matrix=t),e},setInputValues:function(t,n){var i,r=this,l=r.matrix;return n&&(l||(l=r.matrix=["normal",0,0,1,1]),i=t-1<<2,e!==n.mode&&(l[i]=n.mode||"normal"),null!=n.startX&&(l[i+1]=+n.startX),null!=n.startY&&(l[i+2]=+n.startY),null!=n.alpha&&(l[i+3]=+n.alpha),null!=n.enabled&&(l[i+4]=!!n.enabled)),r},reset:function(){var t=this;return t.matrix=null,t.resetInputs(),t},_apply:function(e,n,c){var f=this,h=f.matrix;if(!h||!h.length)return e;var m,_,p,d,g,v,C,R,y,x,I,A,w,b,F,E,L,G,T,M,S,N,Y,U,B,O=h.length,H=e.length,z=t.Color.Blend;for(B=new r(H),s?B.set(e):o(B,e),m=0,_=1;O>m;m+=5,_++)if(h[m+4]&&(d=h[m+3]||0,0!==d&&(U=h[m]||"normal",Y=z[i](U)?z[U]:null,Y&&(p=f.input(_),p&&(I=p[0],A=p[1],w=p[2],g=h[m+1]||0,v=h[m+2]||0,C=0,R=0,0>g&&(C=-g,g=0),0>v&&(R=-v,v=0),!(g>=n||v>=c||C>=A||R>=w||(g=a(g),v=a(v),C=a(C),R=a(R),y=l(n-g,A-C),x=l(c-v,w-R),0>=y||0>=x)))))))for(G=g,T=v*n,M=C,S=R*A,b=g+y,F=C+y,E=0,L=x*y;L>E;E++)N=M+S<<2,0<I[N+3]&&Y(B,I,G+T<<2,N,d,u),++G>=b&&(G=g,T+=n),++M>=F&&(M=C,S+=A);return B}}),t.CombineFilter=t.BlendFilter}(e),!function(t,e){var i=t.CHANNEL,r=t.ColorTable,l=t.Color.clampPixel,a=(Math.floor,Math.pow),s=Math.exp,o=1/255,u=t.Util.Array.typed,c=t.Create({name:"ColorTableFilter",init:function(t,e,n,r){var l=this;l.table=[null,null,null,null],t=t||null,e=e||t,n=n||e,r=r||null,l.table[i.R]=t,l.table[i.G]=e,l.table[i.B]=n,l.table[i.A]=r},path:n,table:null,dispose:function(){var t=this;return t.table=null,t.$super("dispose"),t},serialize:function(){var t=this;return{tableR:t.table[i.R],tableG:t.table[i.G],tableB:t.table[i.B],tableA:t.table[i.A]}},unserialize:function(t){var e=this;return e.table[i.R]=u(t.tableR,r),e.table[i.G]=u(t.tableG,r),e.table[i.B]=u(t.tableB,r),e.table[i.A]=u(t.tableA,r),e},functional:function(e,n,i){if("function"!=typeof e)return this;var r=t.Util.Filter.ct_eye,l=r(e),a=n?r(n):l,s=i?r(i):a;return this.set(l,a,s)},channel:function(e){if(null==e)return this;var n,r,l,a=t.Util.Filter.ct_eye;switch(e||i.R){case i.B:n=a(0,0),r=a(0,0),l=a();break;case i.G:n=a(0,0),r=a(),l=a(0,0);break;case i.R:default:n=a(),r=a(0,0),l=a(0,0)}return this.set(n,r,l)},redChannel:function(){return this.channel(i.R)},greenChannel:function(){return this.channel(i.G)},blueChannel:function(){return this.channel(i.B)},channelInvert:function(e){if(null==e)return this;var n,r,l,a=t.Util.Filter.ct_eye;switch(e||i.R){case i.B:n=a(),r=a(),l=a(-1,255);break;case i.G:n=a(),r=a(-1,255),l=a();break;case i.R:default:n=a(-1,255),r=a(),l=a()}return this.set(n,r,l)},redInvert:function(){return this.channelInvert(i.R)},greenInvert:function(){return this.channelInvert(i.G)},blueInvert:function(){return this.channelInvert(i.B)},invert:function(){return this.set(t.Util.Filter.ct_eye(-1,255))},thresholds:function(t,e,n){t.length||(t=[t]),e||(e=t),n||(n=e);var i,a,s=t.length,o=s+1,u=e.length,c=u+1,f=n.length,h=f+1,m=new r(256),_=new r(o),p=new r(256),d=new r(c),g=new r(256),v=new r(h),C=255/(o-1),R=255/(c-1),y=255/(h-1);for(i=0;o>i;i++)_[i]=C*i|0;for(t[0]=255*t[0]|0,i=1;s>i;i++)t[i]=t[i-1]+255*t[i]|0;for(i=0;c>i;i++)d[i]=R*i|0;for(e[0]=255*e[0]|0,i=1;u>i;i++)e[i]=e[i-1]+255*e[i]|0;for(i=0;h>i;i++)v[i]=y*i|0;for(n[0]=255*n[0]|0,i=1;f>i;i++)n[i]=n[i-1]+255*n[i]|0;for(i=0;256>i;i++){for(a=0;s>a&&i>t[a];)a++;for(m[i]=l(_[a]),a=0;u>a&&i>e[a];)a++;for(p[i]=l(d[a]),a=0;f>a&&i>n[a];)a++;g[i]=l(v[a])}return this.set(m,p,g)},threshold:function(t,e,n){return t=null==t?.5:t,e=null==e?t:e,n=null==n?e:n,this.thresholds([t],[e],[n])},quantize:function(e){null==e&&(e=64),2>e&&(e=2);var n,i=new r(e),a=255/(e-1),s=e/256;for(n=0;e>n;n++)i[n]=0|l(a*n);return this.set(t.Util.Filter.ct_eye(function(t){return i[s*t|0]}))},posterize:null,binarize:function(){return this.quantize(2)},solarize:function(e,n){null==n&&(n=1),null==e&&(e=.5);var i;return-1===n?(e*=256,i=function(t){return t>e?255-t:t}):2===n?(e=1-e,i=function(t){var n=2*t/255;return e>n?255-255*n:255*n-255}):i=function(t){var n=2*t/255;return n>e?255-255*n:255*n-255},this.set(t.Util.Filter.ct_eye(i))},solarize2:function(t){return this.solarize(t,2)},solarizeInverse:function(t){return this.solarize(t,-1)},mask:function(e){var n=t.Util.Filter.ct_eye,i=e>>>16&255,r=e>>>8&255,l=255&e;return this.set(n(function(t){return t&i}),n(function(t){return t&r}),n(function(t){return t&l}))},replace:function(e,n){if(e==n)return this;var i=t.Util.Filter.ct_eye,r=i(),l=i(),a=i();return r[e>>>16&255]=n>>>16&255,l[e>>>8&255]=n>>>8&255,a[255&e]=255&n,this.set(r,l,a)},extract:function(e,n,r){if(!n||!n.length)return this;r=r||0;var a,s,o=t.Util.Filter.ct_eye,u=o(0,r>>>16&255),c=o(0,r>>>8&255),f=o(0,255&r);switch(e||i.R){case i.B:for(a=n[0],s=n[1];s>=a;a++)f[a]=l(a);break;case i.G:for(a=n[0],s=n[1];s>=a;a++)c[a]=l(a);break;case i.R:default:for(a=n[0],s=n[1];s>=a;a++)u[a]=l(a)}return this.set(u,c,f)},gammaCorrection:function(e,n,i){e=e||1,n=n||e,i=i||n,e=1/e,n=1/n,i=1/i;var r=t.Util.Filter.ct_eye;return this.set(r(function(t){return 255*a(o*t,e)}),r(function(t){return 255*a(o*t,n)}),r(function(t){return 255*a(o*t,i)}))},exposure:function(e){return null==e&&(e=1),this.set(t.Util.Filter.ct_eye(function(t){return 255*(1-s(-e*t*o))}))},contrast:function(e,n,i){null==n&&(n=e),null==i&&(i=e),e+=1,n+=1,i+=1;var r=t.Util.Filter.ct_eye;return this.set(r(e,128*(1-e)),r(n,128*(1-n)),r(i,128*(1-i)))},brightness:function(e,n,i){null==n&&(n=e),null==i&&(i=e);var r=t.Util.Filter.ct_eye;return this.set(r(1,e),r(1,n),r(1,i))},quickContrastCorrection:function(e){return this.set(t.Util.Filter.ct_eye(null==e?1.2:+e))},set:function(e,n,r,l){if(!e)return this;var a,s,o=t.Util.Filter.ct_eye,u=t.Util.Filter.ct_multiply,c=this.table,f=c[i.R]||o();return n||r?(n=n||e,r=r||n,a=c[i.G]||f,s=c[i.B]||a,c[i.R]=u(e,f),c[i.G]=u(n,a),c[i.B]=u(r,s)):(c[i.R]=u(e,f),c[i.G]=c[i.R],c[i.B]=c[i.R]),this},reset:function(){return this.table=[null,null,null,null],this},combineWith:function(t){return this.set(t.getTable(i.R),t.getTable(i.G),t.getTable(i.B))},getTable:function(t){return this.table[t||i.R]||null},setTable:function(t,e){return this.table[e||i.R]=t||null,this},_apply:function(t,e,n){var r=this,l=r.table;if(!l||!l[i.R])return t;var a,s,o=t.length,u=o>>>2,c=(15&u)<<2,f=l[0],h=l[1],m=l[2],_=l[3];if(_){for(a=0;c>a;a+=4)t[a]=f[t[a]],t[a+1]=h[t[a+1]],t[a+2]=m[t[a+2]],t[a+3]=_[t[a+3]];for(s=c;o>s;s+=64)a=s,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]],t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],t[a]=_[t[a++]]}else{for(a=0;c>a;a+=4)t[a]=f[t[a]],t[a+1]=h[t[a+1]],t[a+2]=m[t[a+2]];for(s=c;o>s;s+=64)a=s,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a,t[a]=f[t[a++]],t[a]=h[t[a++]],t[a]=m[t[a++]],++a}return t},canRun:function(){return this._isOn&&this.table&&this.table[i.R]}});c.prototype.posterize=c.prototype.levels=c.prototype.quantize,t.TableLookupFilter=t.ColorTableFilter}(e),!function(t,e){var i=t.CHANNEL,r=t.ColorMatrix,l=t.Array8U,a=Math.sin,s=Math.cos,o=t.CONST.toRad,u=(t.CONST.toDeg,t.Util.Array.typed),c=t._notSupportClamp,f=t.Create({name:"ColorMatrixFilter",init:function(t){var e=this;e.matrix=t&&t.length?new r(t):null},path:n,matrix:null,dispose:function(){var t=this;return t.matrix=null,t.$super("dispose"),t},serialize:function(){var t=this;return{matrix:t.matrix}},unserialize:function(t){var e=this;return e.matrix=u(t.matrix,r),e},channel:function(t,e){t=t||0;var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255],r=i.A===t||e?1:0;return n[5*i.R+t]=i.R===t?1:r,n[5*i.G+t]=i.G===t?1:r,n[5*i.B+t]=i.B===t?1:r,this.set(n)},redChannel:function(t){return this.channel(i.R,t)},greenChannel:function(t){return this.channel(i.G,t)},blueChannel:function(t){return this.channel(i.B,t)},alphaChannel:function(t){return this.channel(i.A,!0)},maskChannel:function(t){if(t=t||0,i.A===t)return this;var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];return e[5*t+t]=0,this.set(e)},swapChannels:function(t,e){if(t===e)return this;var n=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];return n[5*t+t]=0,n[5*e+e]=0,n[5*t+e]=1,n[5*e+t]=1,this.set(n)},invertChannel:function(t){if(t=t||0,i.A===t)return this;var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];return e[5*t+t]=-1,e[5*t+4]=255,this.set(e)},invertRed:function(){return this.invertChannel(i.R)},invertGreen:function(){return this.invertChannel(i.G)},invertBlue:function(){return this.invertChannel(i.B)},invertAlpha:function(){return this.invertChannel(i.A)},invert:function(){return this.set(t.Util.Filter.cm_rechannel([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},desaturate:function(e){var n=e||t.LUMA;return this.set(t.Util.Filter.cm_rechannel([n[0],n[1],n[2],0,0,n[0],n[1],n[2],0,0,n[0],n[1],n[2],0,0,0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},grayscale:null,saturate:function(e,n){var r,l,a,s,o=n||t.LUMA;return r=1-e,l=r*o[0],a=r*o[1],s=r*o[2],this.set(t.Util.Filter.cm_rechannel([l+e,a,s,0,0,l,a+e,s,0,0,l,a,s+e,0,0,0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},colorize:function(e,n,r){var l,a,s,o,u=r||t.LUMA;return null==n&&(n=1),l=(e>>16&255)/255,a=(e>>8&255)/255,s=(255&e)/255,o=1-n,this.set(t.Util.Filter.cm_rechannel([o+n*l*u[0],n*l*u[1],n*l*u[2],0,0,n*a*u[0],o+n*a*u[1],n*a*u[2],0,0,n*s*u[0],n*s*u[1],o+n*s*u[2],0,0,0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},contrast:function(e,n,r){return null==n&&(n=e),null==r&&(r=e),e+=1,n+=1,r+=1,this.set(t.Util.Filter.cm_rechannel([e,0,0,0,128*(1-e),0,n,0,0,128*(1-n),0,0,r,0,128*(1-r),0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},brightness:function(e,n,r){return null==n&&(n=e),null==r&&(r=e),this.set(t.Util.Filter.cm_rechannel([1,0,0,0,e,0,1,0,0,n,0,0,1,0,r,0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},adjustHue:function(e,n){e*=o;var r=s(e),l=a(e),u=n||t.LUMA;return this.set(t.Util.Filter.cm_rechannel([u[0]+r*(1-u[0])+l*-u[0],u[1]+r*-u[1]+l*-u[1],u[2]+r*-u[2]+l*(1-u[2]),0,0,u[0]+r*-u[0]+.143*l,u[1]+r*(1-u[1])+.14*l,u[2]+r*-u[2]+l*-.283,0,0,u[0]+r*-u[0]+l*-(1-u[0]),u[1]+r*-u[1]+l*u[1],u[2]+r*(1-u[2])+l*u[2],0,0,0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},rotateHue:null,average:function(e,n,r){return null==e&&(e=.3333),null==n&&(n=.3333),null==r&&(r=.3333),this.set(t.Util.Filter.cm_rechannel([e,n,r,0,0,e,n,r,0,0,e,n,r,0,0,0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},quickContrastCorrection:function(e){return null==e&&(e=1.2),this.set(t.Util.Filter.cm_rechannel([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},sepia:function(e){return null==e&&(e=.5),e>1?e=1:0>e&&(e=0),this.set(t.Util.Filter.cm_rechannel([1-.607*e,.769*e,.189*e,0,0,.349*e,1-.314*e,.168*e,0,0,.272*e,.534*e,1-.869*e,0,0,0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},sepia2:function(e,n){null==e&&(e=10),e>100&&(e=100),e*=2.55;var r=n||t.LUMA;return this.set(t.Util.Filter.cm_rechannel([r[0],r[1],r[2],0,40,r[0],r[1],r[2],0,20,r[0],r[1],r[2],0,-e,0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},threshold:function(e,n,r){null==n&&(n=256);var l=r||t.LUMA;return this.set(t.Util.Filter.cm_rechannel(!1!==r?[l[0]*n,l[1]*n,l[2]*n,0,-(n-1)*e,l[0]*n,l[1]*n,l[2]*n,0,-(n-1)*e,l[0]*n,l[1]*n,l[2]*n,0,-(n-1)*e,0,0,0,1,0]:[n,0,0,0,-(n-1)*e,0,n,0,0,-(n-1)*e,0,0,n,0,-(n-1)*e,0,0,0,1,0],i.R,i.G,i.B,i.A,i.R,i.G,i.B,i.A))},thresholdRGB:function(t,e){return this.threshold(t,e,!1)},threshold_rgb:null,thresholdChannel:function(e,n,r,l){null==r&&(r=256);var a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],s=l||t.LUMA;return i.A===e?(a[5*e+e]=r,a[5*e+4]=-r*n):!1!==l?(a[5*e+i.R]=s[0]*r,a[5*e+i.G]=s[1]*r,a[5*e+i.B]=s[2]*r,a[5*e+4]=-(r-1)*n):(a[5*e+i.R]=r,a[5*e+i.G]=r,a[5*e+i.B]=r,a[5*e+4]=-(r-1)*n),this.set(a)},thresholdRed:function(t,e,n){return this.thresholdChannel(i.R,t,e,n)},thresholdGreen:function(t,e,n){return this.thresholdChannel(i.G,t,e,n)},thresholdBlue:function(t,e,n){return this.thresholdChannel(i.B,t,e,n)},thresholdAlpha:function(t,e,n){return this.thresholdChannel(i.A,t,e,n)},threshold_alpha:null,RGB2YCbCr:function(){return this.set(t.Util.Filter.cm_rechannel([.299,.587,.114,0,0,-.168736,-.331264,.5,0,128,.5,-.418688,-.081312,0,128,0,0,0,1,0],i.R,i.G,i.B,i.A,i.Y,i.CB,i.CR,i.A))},YCbCr2RGB:function(){return this.set(t.Util.Filter.cm_rechannel([1,0,1.402,0,-179.456,1,-.34414,-.71414,0,135.45984,1,1.772,0,0,-226.816,0,0,0,1,0],i.Y,i.CB,i.CR,i.A,i.R,i.G,i.B,i.A))},RGB2YIQ:function(){return this.set(t.Util.Filter.cm_rechannel([.299,.587,.114,0,0,.701,-.587,-.114,0,0,-.299,-.587,.886,0,0,0,0,0,1,0],i.R,i.G,i.B,i.A,i.Y,i.IP,i.Q,i.A))},YIQ2RGB:function(){return this.set(t.Util.Filter.cm_rechannel([1,1,0,0,0,1,-.509,-.194,0,0,1,0,1,0,0,0,0,0,1,0],i.Y,i.IP,i.Q,i.A,i.R,i.G,i.B,i.A))},blend:function(e,n){var i=this;return i.matrix=i.matrix?t.Util.Filter.cm_combine(i.matrix,e.matrix,1-n,n,r):new r(e.matrix),i},set:function(e){var n=this;return n.matrix=n.matrix?t.Util.Filter.cm_multiply(n.matrix,e):new r(e),n},reset:function(){return this.matrix=null,this},combineWith:function(t){return this.set(t.matrix)},_apply:c?function(t,e,n){var i=this,a=i.matrix;if(!a)return t;var s,o=t.length,u=o>>>2,c=(7&u)<<2,f=new r(32),h=new l(4),m=new r(4);for(s=0;c>s;s+=4)h[0]=t[s],h[1]=t[s+1],h[2]=t[s+2],h[3]=t[s+3],m[0]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],m[1]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],m[2]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],m[3]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],m[0]=m[0]<0?0:m[0]>255?255:m[0],m[1]=m[1]<0?0:m[1]>255?255:m[1],m[2]=m[2]<0?0:m[2]>255?255:m[2],m[3]=m[3]<0?0:m[3]>255?255:m[3],t[s]=0|m[0],t[s+1]=0|m[1],t[s+2]=0|m[2],t[s+3]=0|m[3];for(s=c;o>s;s+=32)h[0]=t[s],h[1]=t[s+1],h[2]=t[s+2],h[3]=t[s+3],f[0]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[1]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[2]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[3]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+4],h[1]=t[s+5],h[2]=t[s+6],h[3]=t[s+7],f[4]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[5]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[6]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[7]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+8],h[1]=t[s+9],h[2]=t[s+10],h[3]=t[s+11],f[8]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[9]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[10]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[11]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+12],h[1]=t[s+13],h[2]=t[s+14],h[3]=t[s+15],f[12]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[13]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[14]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[15]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+16],h[1]=t[s+17],h[2]=t[s+18],h[3]=t[s+19],f[16]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[17]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[18]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[19]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+20],h[1]=t[s+21],h[2]=t[s+22],h[3]=t[s+23],f[20]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[21]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[22]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[23]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+24],h[1]=t[s+25],h[2]=t[s+26],h[3]=t[s+27],f[24]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[25]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[26]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[27]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+28],h[1]=t[s+29],h[2]=t[s+30],h[3]=t[s+31],f[28]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[29]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[30]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[31]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],f[0]=f[0]<0?0:f[0]>255?255:f[0],f[1]=f[1]<0?0:f[1]>255?255:f[1],f[2]=f[2]<0?0:f[2]>255?255:f[2],f[3]=f[3]<0?0:f[3]>255?255:f[3],f[4]=f[4]<0?0:f[4]>255?255:f[4],f[5]=f[5]<0?0:f[5]>255?255:f[5],f[6]=f[6]<0?0:f[6]>255?255:f[6],f[7]=f[7]<0?0:f[7]>255?255:f[7],f[8]=f[8]<0?0:f[8]>255?255:f[8],f[9]=f[9]<0?0:f[9]>255?255:f[9],f[10]=f[10]<0?0:f[10]>255?255:f[10],f[11]=f[11]<0?0:f[11]>255?255:f[11],f[12]=f[12]<0?0:f[12]>255?255:f[12],f[13]=f[13]<0?0:f[13]>255?255:f[13],f[14]=f[14]<0?0:f[14]>255?255:f[14],f[15]=f[15]<0?0:f[15]>255?255:f[15],f[16]=f[16]<0?0:f[16]>255?255:f[16],f[17]=f[17]<0?0:f[17]>255?255:f[17],f[18]=f[18]<0?0:f[18]>255?255:f[18],f[19]=f[19]<0?0:f[19]>255?255:f[19],f[20]=f[20]<0?0:f[20]>255?255:f[20],f[21]=f[21]<0?0:f[21]>255?255:f[21],f[22]=f[22]<0?0:f[22]>255?255:f[22],f[23]=f[23]<0?0:f[23]>255?255:f[23],f[24]=f[24]<0?0:f[24]>255?255:f[24],f[25]=f[25]<0?0:f[25]>255?255:f[25],f[26]=f[26]<0?0:f[26]>255?255:f[26],f[27]=f[27]<0?0:f[27]>255?255:f[27],f[28]=f[28]<0?0:f[28]>255?255:f[28],f[29]=f[29]<0?0:f[29]>255?255:f[29],f[30]=f[30]<0?0:f[30]>255?255:f[30],f[31]=f[31]<0?0:f[31]>255?255:f[31],t[s]=0|f[0],t[s+1]=0|f[1],t[s+2]=0|f[2],t[s+3]=0|f[3],t[s+4]=0|f[4],t[s+5]=0|f[5],t[s+6]=0|f[6],t[s+7]=0|f[7],t[s+8]=0|f[8],t[s+9]=0|f[9],t[s+10]=0|f[10],t[s+11]=0|f[11],t[s+12]=0|f[12],t[s+13]=0|f[13],t[s+14]=0|f[14],t[s+15]=0|f[15],t[s+16]=0|f[16],t[s+17]=0|f[17],t[s+18]=0|f[18],t[s+19]=0|f[19],t[s+20]=0|f[20],t[s+21]=0|f[21],t[s+22]=0|f[22],t[s+23]=0|f[23],t[s+24]=0|f[24],t[s+25]=0|f[25],t[s+26]=0|f[26],t[s+27]=0|f[27],t[s+28]=0|f[28],t[s+29]=0|f[29],t[s+30]=0|f[30],t[s+31]=0|f[31];return t}:function(t,e,n){var i=this,a=i.matrix;if(!a)return t;var s,o=t.length,u=o>>>2,c=(7&u)<<2,f=new r(32),h=new l(4),m=new r(4);for(s=0;c>s;s+=4)h[0]=t[s],h[1]=t[s+1],h[2]=t[s+2],h[3]=t[s+3],m[0]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],m[1]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],m[2]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],m[3]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],t[s]=0|m[0],t[s+1]=0|m[1],t[s+2]=0|m[2],t[s+3]=0|m[3];for(s=c;o>s;s+=32)h[0]=t[s],h[1]=t[s+1],h[2]=t[s+2],h[3]=t[s+3],f[0]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[1]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[2]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[3]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+4],h[1]=t[s+5],h[2]=t[s+6],h[3]=t[s+7],f[4]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[5]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[6]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[7]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+8],h[1]=t[s+9],h[2]=t[s+10],h[3]=t[s+11],f[8]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[9]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[10]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[11]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+12],h[1]=t[s+13],h[2]=t[s+14],h[3]=t[s+15],f[12]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[13]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[14]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[15]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+16],h[1]=t[s+17],h[2]=t[s+18],h[3]=t[s+19],f[16]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[17]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[18]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[19]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+20],h[1]=t[s+21],h[2]=t[s+22],h[3]=t[s+23],f[20]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[21]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[22]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[23]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+24],h[1]=t[s+25],h[2]=t[s+26],h[3]=t[s+27],f[24]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[25]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[26]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[27]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],h[0]=t[s+28],h[1]=t[s+29],h[2]=t[s+30],h[3]=t[s+31],f[28]=a[0]*h[0]+a[1]*h[1]+a[2]*h[2]+a[3]*h[3]+a[4],f[29]=a[5]*h[0]+a[6]*h[1]+a[7]*h[2]+a[8]*h[3]+a[9],f[30]=a[10]*h[0]+a[11]*h[1]+a[12]*h[2]+a[13]*h[3]+a[14],f[31]=a[15]*h[0]+a[16]*h[1]+a[17]*h[2]+a[18]*h[3]+a[19],t[s]=0|f[0],t[s+1]=0|f[1],t[s+2]=0|f[2],t[s+3]=0|f[3],t[s+4]=0|f[4],t[s+5]=0|f[5],t[s+6]=0|f[6],t[s+7]=0|f[7],t[s+8]=0|f[8],t[s+9]=0|f[9],t[s+10]=0|f[10],t[s+11]=0|f[11],t[s+12]=0|f[12],t[s+13]=0|f[13],t[s+14]=0|f[14],t[s+15]=0|f[15],t[s+16]=0|f[16],t[s+17]=0|f[17],t[s+18]=0|f[18],t[s+19]=0|f[19],t[s+20]=0|f[20],t[s+21]=0|f[21],t[s+22]=0|f[22],t[s+23]=0|f[23],t[s+24]=0|f[24],t[s+25]=0|f[25],t[s+26]=0|f[26],t[s+27]=0|f[27],t[s+28]=0|f[28],t[s+29]=0|f[29],t[s+30]=0|f[30],t[s+31]=0|f[31];return t},canRun:function(){return this._isOn&&this.matrix}});f.prototype.grayscale=f.prototype.desaturate,f.prototype.rotateHue=f.prototype.adjustHue,f.prototype.threshold_rgb=f.prototype.thresholdRGB,f.prototype.threshold_alpha=f.prototype.thresholdAlpha}(e),!function(t,e){function i(e,n){var i=n?o(n):"",r=o(e),l=s?"c[0] = 0>c[0] ? 0 : (255<c[0] ? 255: c[0]); c[1] = 0>c[1] ? 0 : (255<c[1] ? 255: c[1]); c[2] = 0>c[2] ? 0 : (255<c[2] ? 255: c[2]); c[3] = 0>c[3] ? 0 : (255<c[3] ? 255: c[3]);":"";return new Function("FILTER",'"use strict"; return function( im, w, h ){    var self = this;    if ( !self._map ) return im;    var x, y, i, i0, imLen = im.length, imArea = imLen>>>2, rem = (imArea&7)<<2, c = new FILTER.ColorMatrix(4);    '+i+";        x=0;y=0;    for(i=0; i<rem; i+=4)    {        c[0] = im[i]; c[1] = im[i+1]; c[2] = im[i+2]; c[3] = im[i+3];        "+r+";        "+l+";        im[i] = c[0]|0; im[i+1] = c[1]|0; im[i+2] = c[2]|0; im[i+3] = c[3]|0;        if (++x>=w) {x=0; y++;}    }    for(i0=rem; i0<imLen; i0+=32)    {        i=i0; c[0] = im[i]; c[1] = im[i+1]; c[2] = im[i+2]; c[3] = im[i+3];        "+r+";        "+l+";        im[i] = c[0]|0; im[i+1] = c[1]|0; im[i+2] = c[2]|0; im[i+3] = c[3]|0;                if (++x>=w) {x=0; y++;}        i+=4; c[0] = im[i]; c[1] = im[i+1]; c[2] = im[i+2]; c[3] = im[i+3];        "+r+";        "+l+";        im[i] = c[0]|0; im[i+1] = c[1]|0; im[i+2] = c[2]|0; im[i+3] = c[3]|0;                if (++x>=w) {x=0; y++;}        i+=4; c[0] = im[i]; c[1] = im[i+1]; c[2] = im[i+2]; c[3] = im[i+3];        "+r+";        "+l+";        im[i] = c[0]|0; im[i+1] = c[1]|0; im[i+2] = c[2]|0; im[i+3] = c[3]|0;                if (++x>=w) {x=0; y++;}        i+=4; c[0] = im[i]; c[1] = im[i+1]; c[2] = im[i+2]; c[3] = im[i+3];        "+r+";        "+l+";        im[i] = c[0]|0; im[i+1] = c[1]|0; im[i+2] = c[2]|0; im[i+3] = c[3]|0;                if (++x>=w) {x=0; y++;}        i+=4; c[0] = im[i]; c[1] = im[i+1]; c[2] = im[i+2]; c[3] = im[i+3];        "+r+";        "+l+";        im[i] = c[0]|0; im[i+1] = c[1]|0; im[i+2] = c[2]|0; im[i+3] = c[3]|0;                if (++x>=w) {x=0; y++;}        i+=4; c[0] = im[i]; c[1] = im[i+1]; c[2] = im[i+2]; c[3] = im[i+3];        "+r+";        "+l+";        im[i] = c[0]|0; im[i+1] = c[1]|0; im[i+2] = c[2]|0; im[i+3] = c[3]|0;                if (++x>=w) {x=0; y++;}        i+=4; c[0] = im[i]; c[1] = im[i+1]; c[2] = im[i+2]; c[3] = im[i+3];        "+r+";        "+l+";        im[i] = c[0]|0; im[i+1] = c[1]|0; im[i+2] = c[2]|0; im[i+3] = c[3]|0;                if (++x>=w) {x=0; y++;}        i+=4; c[0] = im[i]; c[1] = im[i+1]; c[2] = im[i+2]; c[3] = im[i+3];        "+r+";        "+l+";        im[i] = c[0]|0; im[i+1] = c[1]|0; im[i+2] = c[2]|0; im[i+3] = c[3]|0;                if (++x>=w) {x=0; y++;}    }    return im;};")(t)}var r,l=(t.CHANNEL,t.MODE),a=(t.Color,t.ColorMatrix,t.Util.Array.typed),s=t._notSupportClamp,o=t.Util.String.function_body,u=t.Create({name:"ColorMapFilter",init:function(t,e){var n=this;t&&n.set(t,e)},path:n,_map:null,_mapInit:null,_mapName:null,_mapChanged:!1,thresholds:null,quantizedColors:null,mode:l.COLOR,dispose:function(){var t=this;return t._map=null,t._mapInit=null,t._mapName=null,t._mapChanged=null,t.thresholds=null,t.quantizedColors=null,t.$super("dispose"),t},serialize:function(){var t,e=this;return t={_mapName:e._mapName||null,_map:"generic"===e._mapName&&e._map&&e._mapChanged?e._map.toString():null,_mapInit:"generic"===e._mapName&&e._mapInit&&e._mapChanged?e._mapInit.toString():null,thresholds:e.thresholds,quantizedColors:e.quantizedColors
},e._mapChanged=!1,t},unserialize:function(t){var e=this;return e.thresholds=a(t.thresholds,Array),e.quantizedColors=a(t.quantizedColors,Array),!t._map&&t._mapName&&r.hasOwnProperty(t._mapName)?e.set(t._mapName):t._map&&"generic"===t._mapName&&e.set(t._map,t._mapInit||null),e},RGB2HSV:function(){return this.set("rgb2hsv")},HSV2RGB:function(){return this.set("hsv2rgb")},RGB2CMYK:function(){return this.set("rgb2cmyk")},hue:function(){return this.set("hue")},saturation:function(){return this.set("saturation")},quantize:function(t,e){var n=this;return n.thresholds=t,n.quantizedColors=e,n.set("quantize")},threshold:null,mask:function(t,e,n){var i=this;return i.thresholds=[t,e],i.quantizedColors=[n||0],i.set("mask")},extract:null,set:function(t,e){var n=this;return t&&r.hasOwnProperty(String(t))?(n._mapName!==String(t)&&(n._mapName=String(t),n._map=r[n._mapName],n._mapInit=r["init__"+n._mapName],n._apply=i(n._map,n._mapInit)),n._mapChanged=!1):t&&(n._mapName="generic",n._map=T,n._mapInit=e||null,n._apply=i(n._map,n._mapInit),n._mapChanged=!0),n},reset:function(){var t=this;return t._mapName=null,t._map=null,t._mapInit=null,t._mapChanged=!1,t},canRun:function(){return this._isOn&&this._map}});u.prototype.threshold=u.prototype.quantize,u.prototype.extract=u.prototype.mask,r={rgb2hsv:"function( ){        if ( 0 !== c[3] )        {            RGB2HSV(c, 0);            C0 = c[0]; C1 = c[1]; C2 = c[2];            c[CH] = C0; c[CS] = C1; c[CV] = C2;        }    }",init__rgb2hsv:"function( ){        var C0, C1, C2, CH = FILTER.CHANNEL.H, CS = FILTER.CHANNEL.S, CV = FILTER.CHANNEL.V, RGB2HSV = FILTER.Color.RGB2HSV;    }",hsv2rgb:"function( ){        if ( 0 !== c[3] )        {            C0 = c[CH]; C1 = c[CS]; C2 = c[CV];            c[0] = C0; c[1] = C1; c[2] = C2;            HSV2RGB(c, 0);        }    }",init__hsv2rgb:"function( ){        var C0, C1, C2, CH = FILTER.CHANNEL.H, CS = FILTER.CHANNEL.S, CV = FILTER.CHANNEL.V, HSV2RGB = FILTER.Color.HSV2RGB;    }",rgb2cmyk:"function( ){        if ( 0 !== c[3] )        {            RGB2CMYK(c, 0);            C0 = c[0]; C1 = c[1]; C2 = c[2];            c[CY] = C0; c[MA] = C1; c[YE] = C2;        }    }",init__rgb2cmyk:"function( ){        var C0, C1, C2, CY = FILTER.CHANNEL.CY, MA = FILTER.CHANNEL.MA, YE = FILTER.CHANNEL.YE, RGB2CMYK = FILTER.Color.RGB2CMYK;    }",hue:"function( ){        if ( 0 !== c[3] )        {            HHH = HUE(c[0], c[1], c[2])*0.70833333333333333333333333333333;            c[0] = HHH; c[1] = HHH; c[2] = HHH;        }    }",init__hue:"function( ){        var HUE = FILTER.Color.hue, HHH;    }",saturation:"function( ){        if ( 0 !== c[3] )        {            SSS = SATURATION(c[0], c[1], c[2]);            c[0] = SSS; c[1] = SSS; c[2] = SSS;        }    }",init__saturation:"function( ){        var SATURATION = FILTER.Color.saturation, SSS;    }",quantize:"function( ){        if ( 0 !== c[3] )        {            J = 0; V = VALUE(c[0], c[1], c[2]);            while (J<THRESH_LEN && V>THRESH[J]) J++;            COLVAL = J < COLORS_LEN ? COLORS[j] : 0xffffff;            c[0] = (COLVAL >>> 16) & 255; c[1] = (COLVAL >>> 8) & 255; c[2] = COLVAL & 255;        }    }",init__quantize:"function( ){        var VALUE = FILTER.MODE.HUE === self.mode ? FILTER.Color.hue : (FILTER.MODE.SATURATION === self.mode ? FILTER.Color.saturation : (FILTER.MODE.INTENSITY === self.mode ? FILTER.Color.intensity : FILTER.Color.color24)),            THRESH = self.thresholds, THRESH_LEN = THRESH.length,            COLORS = self.quantizedColors, COLORS_LEN = COLORS.length, J, COLVAL, V;    }",mask:"function( ){        if ( 0 !== c[3] )        {            V = VALUE(c[0], c[1], c[2]);            if ( (V < MIN_VALUE) || (V > MAX_VALUE) )            {                c[0] = COLVAL[0];                c[1] = COLVAL[1];                c[2] = COLVAL[2];                c[3] = COLVAL[3];            }        }    }",init__mask:"function( ){        var VALUE = FILTER.MODE.HUE === self.mode ? FILTER.Color.hue : (FILTER.MODE.SATURATION === self.mode ? FILTER.Color.saturation : (FILTER.MODE.INTENSITY === self.mode ? FILTER.Color.intensity : FILTER.Color.color24)),            MIN_VALUE = self.thresholds[0], MAX_VALUE = self.thresholds[self.thresholds.length-1],            COLVAL = [(self.quantizedColors[0] >>> 16) & 255, (self.quantizedColors[0] >>> 8) & 255, self.quantizedColors[0] & 255, (self.quantizedColors[0] >>> 24) & 255], V;    }"}}(e),!function(t,e){var i=t.ImArray,r=t.AffineMatrix,l=t.Util.Array.typed,a=t.MODE,s=(t.CONST.toRad,Math.sin),o=Math.cos,u=Math.tan,c=t.Create({name:"AffineMatrixFilter",init:function(t){var e=this;e.matrix=t&&t.length?new r(t):null},path:n,matrix:null,mode:a.CLAMP,color:0,dispose:function(){var t=this;return t.matrix=null,t.color=null,t.$super("dispose"),t},serialize:function(){var t=this;return{matrix:t.matrix,color:t.color}},unserialize:function(t){var e=this;return e.matrix=l(t.matrix,r),e.color=t.color,e},flipX:function(){return this.set([-1,0,0,1,0,1,0,0])},flipY:function(){return this.set([1,0,0,0,0,-1,0,1])},flipXY:function(){return this.set([-1,0,0,1,0,-1,0,1])},translate:function(t,e,n){return this.set(n?[1,0,0,t,0,1,0,e]:[1,0,t,0,0,1,e,0])},shift:null,rotate:function(t){var e=s(t),n=o(t);return this.set([n,-e,0,0,e,n,0,0])},scale:function(t,e){return this.set([t,0,0,0,0,e,0,0])},skew:function(t,e){return this.set([1,t?u(t):0,0,0,e?u(e):0,1,0,0])},set:function(e){var n=this;return n.matrix=n.matrix?t.Util.Filter.am_multiply(n.matrix,e):new r(e),n},reset:function(){return this.matrix=null,this},combineWith:function(t){return this.set(t.matrix)},_apply:function(t,e,n){var r=this,l=r.matrix;if(!l)return t;var s,o,u,c,f,h,m,_,p,d,g,v=t.length,C=v>>>2,R=e-1,y=C-e,x=new i(v),I=r.color||0,A=a.COLOR,w=(a.CLAMP,a.WRAP),b=a.IGNORE,F=l[0],E=l[1],L=l[2]+l[3]*R,G=l[4]*e,T=l[5],M=l[6]*e+l[7]*y,S=r.mode||b;if(A===S)for(g=I>>>24&255,_=I>>>16&255,p=I>>>8&255,d=255&I,s=0,o=0,u=0,h=0;v>h;h+=4,s++)s>=e&&(s=0,o++,u+=e),c=F*s+E*o+L,f=G*s+T*u+M,0>c||c>R||0>f||f>y?(x[h]=_,x[h+1]=p,x[h+2]=d,x[h+3]=g):(m=(0|c)+(0|f)<<2,x[h]=t[m],x[h+1]=t[m+1],x[h+2]=t[m+2],x[h+3]=t[m+3]);else if(b===S)for(s=0,o=0,u=0,h=0;v>h;h+=4,s++)s>=e&&(s=0,o++,u+=e),c=F*s+E*o+L,f=G*s+T*u+M,f=f>y||0>f?u:f,c=c>R||0>c?s:c,m=(0|c)+(0|f)<<2,x[h]=t[m],x[h+1]=t[m+1],x[h+2]=t[m+2],x[h+3]=t[m+3];else if(w===S)for(s=0,o=0,u=0,h=0;v>h;h+=4,s++)s>=e&&(s=0,o++,u+=e),c=F*s+E*o+L,f=G*s+T*u+M,f=f>y?f-C:0>f?f+C:f,c=c>R?c-e:0>c?c+e:c,m=(0|c)+(0|f)<<2,x[h]=t[m],x[h+1]=t[m+1],x[h+2]=t[m+2],x[h+3]=t[m+3];else for(s=0,o=0,u=0,h=0;v>h;h+=4,s++)s>=e&&(s=0,o++,u+=e),c=F*s+E*o+L,f=G*s+T*u+M,f=f>y?y:0>f?0:f,c=c>R?R:0>c?0:c,m=(0|c)+(0|f)<<2,x[h]=t[m],x[h+1]=t[m+1],x[h+2]=t[m+2],x[h+3]=t[m+3];return x},canRun:function(){return this._isOn&&this.matrix}});c.prototype.shift=c.prototype.translate}(e),!function(t,e){var i=t.MODE,r=(t.Util.Array.typed,Math.min),l=(Math.max,Math.floor);t.Create({name:"DisplacementMapFilter",init:function(t){var e=this;t&&e.setInput("map",t)},path:n,scaleX:1,scaleY:1,startX:0,startY:0,componentX:0,componentY:0,color:0,mode:i.CLAMP,hasInputs:!0,dispose:function(){var t=this;return t.scaleX=null,t.scaleY=null,t.startX=null,t.startY=null,t.componentX=null,t.componentY=null,t.color=null,t.$super("dispose"),t},serialize:function(){var t=this;return{scaleX:t.scaleX,scaleY:t.scaleY,startX:t.startX,startY:t.startY,componentX:t.componentX,componentY:t.componentY,color:t.color}},unserialize:function(t){var e=this;return e.scaleX=t.scaleX,e.scaleY=t.scaleY,e.startX=t.startX,e.startY=t.startY,e.componentX=t.componentX,e.componentY=t.componentY,e.color=t.color,e},reset:function(){return this.unsetInput("map"),this},_apply:function(e,n,a){var s,o=this;if(s=o.input("map"),!s)return e;var u,c,f,h,m,_,p,d,g,v,C,R,y,x,I,A,w,b,F,E,L,G,T,M,S,N,Y,U,B,O,H,z,X,D,V,q,k=o.color||0,P=n-1,j=a-1,W=.00390625*o.scaleX,$=.00390625*o.scaleY,J=o.componentX,Q=o.componentY,K=i.IGNORE,Z=(i.CLAMP,i.COLOR),tt=i.WRAP,et=o.mode||K,nt=(t.ImArray,t.ImArrayCopy),it=t.Array16I;for(u=s[0],c=s[1],f=s[2],X=u.length,h=X>>>2,_=r(c,n),p=r(f,a),z=e.length,O=_*p<<2,H=z>>>2,y=l(o.startX*P),R=l(o.startY*j),x=R*n,I=-y,A=-R,w=P-y,b=j-R,m=new it(h<<1),D=new nt(e),F=(15&h)<<2,L=0,E=0;F>E;E+=4)m[L++]=l((u[E+J]-128)*W),m[L++]=l((u[E+Q]-128)*$);for(E=F;X>E;E+=64)m[L++]=l((u[E+J]-128)*W),m[L++]=l((u[E+Q]-128)*$),m[L++]=l((u[E+4+J]-128)*W),m[L++]=l((u[E+4+Q]-128)*$),m[L++]=l((u[E+8+J]-128)*W),m[L++]=l((u[E+8+Q]-128)*$),m[L++]=l((u[E+12+J]-128)*W),m[L++]=l((u[E+12+Q]-128)*$),m[L++]=l((u[E+16+J]-128)*W),m[L++]=l((u[E+16+Q]-128)*$),m[L++]=l((u[E+20+J]-128)*W),m[L++]=l((u[E+20+Q]-128)*$),m[L++]=l((u[E+24+J]-128)*W),m[L++]=l((u[E+24+Q]-128)*$),m[L++]=l((u[E+28+J]-128)*W),m[L++]=l((u[E+28+Q]-128)*$),m[L++]=l((u[E+32+J]-128)*W),m[L++]=l((u[E+32+Q]-128)*$),m[L++]=l((u[E+36+J]-128)*W),m[L++]=l((u[E+36+Q]-128)*$),m[L++]=l((u[E+40+J]-128)*W),m[L++]=l((u[E+40+Q]-128)*$),m[L++]=l((u[E+44+J]-128)*W),m[L++]=l((u[E+44+Q]-128)*$),m[L++]=l((u[E+48+J]-128)*W),m[L++]=l((u[E+48+Q]-128)*$),m[L++]=l((u[E+52+J]-128)*W),m[L++]=l((u[E+52+Q]-128)*$),m[L++]=l((u[E+56+J]-128)*W),m[L++]=l((u[E+56+Q]-128)*$),m[L++]=l((u[E+60+J]-128)*W),m[L++]=l((u[E+60+Q]-128)*$);if(Z===et)for(d=k>>>24&255,g=k>>>16&255,v=k>>>8&255,C=255&k,G=0,T=0,M=0,S=0,E=0;O>E;E+=4,G++)G>=_&&(G=0,T++,M+=n,S+=c),A>T||T>b||I>G||G>w||(Y=G+y,N=T+R,U=Y+M+x<<2,L=G+S<<1,V=Y+m[L],q=N+m[L+1],q>j||0>q||V>P||0>V?(e[U]=g,e[U+1]=v,e[U+2]=C,e[U+3]=d):(B=V+q*n<<2,e[U]=D[B],e[U+1]=D[B+1],e[U+2]=D[B+2],e[U+3]=D[B+3]));else if(K===et)for(G=0,T=0,M=0,S=0,E=0;O>E;E+=4,G++)G>=_&&(G=0,T++,M+=n,S+=c),A>T||T>b||I>G||G>w||(Y=G+y,N=T+R,U=Y+M+x<<2,L=G+S<<1,V=Y+m[L],q=N+m[L+1],q>j||0>q||V>P||0>V||(B=V+q*n<<2,e[U]=D[B],e[U+1]=D[B+1],e[U+2]=D[B+2],e[U+3]=D[B+3]));else if(tt===et)for(G=0,T=0,M=0,S=0,E=0;O>E;E+=4,G++)G>=_&&(G=0,T++,M+=n,S+=c),A>T||T>b||I>G||G>w||(Y=G+y,N=T+R,U=Y+M+x<<2,L=G+S<<1,V=Y+m[L],q=N+m[L+1],q=q>j?q-a:0>q?q+a:q,V=V>P?V-n:0>V?V+n:V,B=V+q*n<<2,e[U]=D[B],e[U+1]=D[B+1],e[U+2]=D[B+2],e[U+3]=D[B+3]);else for(G=0,T=0,M=0,S=0,E=0;O>E;E+=4,G++)G>=_&&(G=0,T++,M+=n,S+=c),A>T||T>b||I>G||G>w||(Y=G+y,N=T+R,U=Y+M+x<<2,L=G+S<<1,V=Y+m[L],q=N+m[L+1],q=q>j?j:0>q?0:q,V=V>P?P:0>V?0:V,B=V+q*n<<2,e[U]=D[B],e[U+1]=D[B+1],e[U+2]=D[B+2],e[U+3]=D[B+3]);return e}})}(e),!function(t,e){function i(e,n){var i=n?a(n):"",r=a(e);return new Function("FILTER",'"use strict"; return function( im, w, h ){    var self = this;    if ( !self._map ) return im;    var x, y, i, j, imLen = im.length, dst = new FILTER.ImArray(imLen), t = new FILTER.Array32F(2),        COLOR = FILTER.MODE.COLOR, CLAMP = FILTER.MODE.CLAMP, WRAP = FILTER.MODE.WRAP, IGNORE = FILTER.MODE.IGNORE,        mode = self.mode||IGNORE, color = self.color||0, r, g, b, a, bx = w-1, by = h-1;    '+i+";        if ( COLOR === mode )    {        a = (color >>> 24)&255;        r = (color >>> 16)&255;        g = (color >>> 8)&255;        b = (color)&255;            for (x=0,y=0,i=0; i<imLen; i+=4,x++)        {            if (x>=w) { x=0; y++; }                        t[0] = x; t[1] = y;                        "+r+";                        if ( 0>t[0] || t[0]>bx || 0>t[1] || t[1]>by )            {                /* color */                dst[i] = r;   dst[i+1] = g;                dst[i+2] = b;  dst[i+3] = a;                continue;            }                        j = ((t[0]|0) + (t[1]|0)*w) << 2;            dst[i] = im[j];   dst[i+1] = im[j+1];            dst[i+2] = im[j+2];  dst[i+3] = im[j+3];        }    }    else if ( IGNORE === mode )    {        for (x=0,y=0,i=0; i<imLen; i+=4,x++)        {            if (x>=w) { x=0; y++; }                        t[0] = x; t[1] = y;                        "+r+";                        /* ignore */            t[1] = t[1] > by || t[1] < 0 ? y : t[1];            t[0] = t[0] > bx || t[0] < 0 ? x : t[0];                        j = ((t[0]|0) + (t[1]|0)*w) << 2;            dst[i] = im[j];   dst[i+1] = im[j+1];            dst[i+2] = im[j+2];  dst[i+3] = im[j+3];        }    }    else if ( WRAP === mode )    {        for (x=0,y=0,i=0; i<imLen; i+=4,x++)        {            if (x>=w) { x=0; y++; }                        t[0] = x; t[1] = y;                        "+r+";                        /* wrap */            t[1] = t[1] > by ? t[1]-h : (t[1] < 0 ? t[1]+h : t[1]);            t[0] = t[0] > bx ? t[0]-w : (t[0] < 0 ? t[0]+w : t[0]);                        j = ((t[0]|0) + (t[1]|0)*w) << 2;            dst[i] = im[j];   dst[i+1] = im[j+1];            dst[i+2] = im[j+2];  dst[i+3] = im[j+3];        }    }    else /*if ( CLAMP === mode )*/    {        for (x=0,y=0,i=0; i<imLen; i+=4,x++)        {            if (x>=w) { x=0; y++; }                        t[0] = x; t[1] = y;                        "+r+";                        /* clamp */            t[1] = t[1] > by ? by : (t[1] < 0 ? 0 : t[1]);            t[0] = t[0] > bx ? bx : (t[0] < 0 ? 0 : t[0]);                        j = ((t[0]|0) + (t[1]|0)*w) << 2;            dst[i] = im[j];   dst[i+1] = im[j+1];            dst[i+2] = im[j+2];  dst[i+3] = im[j+3];        }    }    return dst;};")(t)}var r,l=t.MODE,a=t.Util.String.function_body;t.Create({name:"GeometricMapFilter",init:function(t,e){var n=this;t&&n.set(t,e)},path:n,_map:null,_mapInit:null,_mapName:null,_mapChanged:!1,color:0,centerX:0,centerY:0,angle:0,radius:0,mode:l.CLAMP,dispose:function(){var t=this;return t._map=null,t._mapInit=null,t._mapName=null,t._mapChanged=null,t.color=0,t.centerX=null,t.centerY=null,t.angle=null,t.radius=null,t.$super("dispose"),t},serialize:function(){var t,e=this;return t={_mapName:e._mapName||null,_map:"generic"===e._mapName&&e._map&&e._mapChanged?e._map.toString():null,_mapInit:"generic"===e._mapName&&e._mapInit&&e._mapChanged?e._mapInit.toString():null,color:e.color,centerX:e.centerX,centerY:e.centerY,angle:e.angle,radius:e.radius},e._mapChanged=!1,t},unserialize:function(t){var e=this;return e.color=t.color,e.centerX=t.centerX,e.centerY=t.centerY,e.angle=t.angle,e.radius=t.radius,!t._map&&t._mapName&&r.hasOwnProperty(t._mapName)?e.set(t._mapName):t._map&&"generic"===t._mapName&&e.set(t._map,t._mapInit||null),e},polar:function(t,e){return this},cartesian:function(t,e){return this},twirl:function(t,e,n,i){var r=this;return r.angle=t||0,r.radius=e||0,r.centerX=n||0,r.centerY=i||0,r.set("twirl")},sphere:function(t,e,n){var i=this;return i.radius=t||0,i.centerX=e||0,i.centerY=n||0,i.set("sphere")},set:function(t,e){var n=this;return t&&r.hasOwnProperty(String(t))?(n._mapName!==String(t)&&(n._mapName=String(t),n._map=r[n._mapName],n._mapInit=r["init__"+n._mapName],n._apply=i(n._map,n._mapInit)),n._mapChanged=!1):t&&(n._mapName="generic",n._map=t,n._mapInit=e||null,n._apply=i(n._map,n._mapInit),n._mapChanged=!0),n},reset:function(){var t=this;return t._mapName=null,t._map=null,t._mapInit=null,t._mapChanged=!1,t},canRun:function(){return this._isOn&&this._map}}),r={twirl:"function( ){        TX = t[0]-CX; TY = t[1]-CY;        D = Sqrt(TX*TX + TY*TY);        if ( D < R )        {            theta = Atan2(TY, TX) + fact*(R-D);            t[0] = CX + D*Cos(theta);  t[1] = CY + D*Sin(theta);        }    }",init__twirl:"function( ){        var Sqrt = Math.sqrt, Atan2 = Math.atan2, Sin = Math.sin, Cos = Math.cos,            CX = self.centerX*(w-1), CY = self.centerY*(h-1),            angle = self.angle, R = self.radius, fact = angle/R,            D, TX, TY, theta;    }",sphere:"function( ){        TX = t[0]-CX;  TY = t[1]-CY;        TX2 = TX*TX; TY2 = TY*TY;        D2 = TX2 + TY2;        if ( D2 < R2 )        {            D2 = R2 - D2; D = Sqrt(D2);            thetax = Asin(TX / Sqrt(TX2 + D2)) * invrefraction;            thetay = Asin(TY / Sqrt(TY2 + D2)) * invrefraction;            t[0] = t[0] - D * Tan(thetax);  t[1] = t[1] - D * Tan(thetay);        }    }",init__sphere:"function( ){        var Sqrt = Math.sqrt, Asin = Math.asin, Tan = Math.tan,            CX = self.centerX*(w-1), CY = self.centerY*(h-1),            invrefraction = 1-0.555556,            R = self.radius, R2 = R*R,            D, TX, TY, TX2, TY2, R2, D2, thetax, thetay;    }"}}(e),!function(t,e){function i(t){for(var e=0,n=0,i=t.length;i>n;n++)e+=t[n];return e}function r(t,e){var n,i,r,l=[],a=[],s=[],o=t.length,u=e,c=u>>>1;for(i=0,r=0,n=0;o>n;)a.push(i-c),a.push(r-c),t[n]&&(l.push(i-c),l.push(r-c),s.push(t[n])),n++,i++,i>=u&&(i=0,r++);return[new v(l),new v(a),new d(s)]}function l(t,e){var n,i,r,l=new Array(t);for(n=0,i=0,r=0;t>r;r++,n++)l[r]=e(n,i,t);return l}function a(t){var e,n=new Array(t);for(e=0;t>e;e++)n[e]=1;return n}function s(t,e){var n,i=t>>>1,r=new Array(t);if(e)for(n=0;t>n;n++)r[t-1-n]=n-i;else for(n=0;t>n;n++)r[n]=n-i;return r}function o(t){var e,n,i,r,l=F.length;if(t--,l>t)e=F[t];else for(e=F[l-1];t>=l;){for(n=e,e=new Array(n.length+1),e[0]=1,i=0,r=n.length-1;r>i;i++)e[i+1]=n[i]+n[i+1];e[n.length]=1,20>l&&F.push(e),l++}return e.slice()}function u(t){var e=o(t);return C(e,e)}function c(t,e){return 1===e?C(s(t,1),o(t)):C(o(t),s(t,0))}function f(t,e){return 1===e?C(s(t,1),a(t)):C(a(t),s(t,0))}function h(t,e,n){e=e||1,n=n||e;var i,r=t*t,l=new d(r);for(i=0;t>i;i++)l[i]=e;return l[r>>>1]=n,l}function m(t,e,n,i){var r,l,a,s,o,u=t*t,c=t>>>1,f=u>>>1,h=new d(u);for(s=0,r=0;c>=r;r++,s+=e)for(l=0,o=0,a=0;c>=a;a++,l+=t,o+=n)h[f+r+l]=s+o,h[f-r-l]=-s-o,h[f-r+l]=-s+o,h[f+r-l]=s-o;return h[f]=i||1,h}function _(t,e,n,i){var r,l,a,s,o,u,c=t*t,f=t>>1,h=c>>1,m=new d(c),_=new d(c),p=1/t,g=1e-8;for(I(e)>g?(o=1,u=n/e):(o=e/n,u=1),r=0,a=0,s=0,l=u*t;f>=r;)_[h+r]=h+a+s+.5|0,_[h-r]=h-a-s+.5|0,r++,a+=o,s+=l;for(r=0;f>=r;)m[_[h+r]]=m[_[h-r]]=p,r++;return m[h]=i||1,m}var p=t.MODE,d=t.ConvolutionMatrix,g=t.ImArray,v=(t.Array32F,t.Array16I),C=(t.Array8U,t.Util.Filter.cm_convolve),R=t.Util.Array.typed,y=t._notSupportClamp,x=(Math.SQRT2,t.CONST.toRad),I=(t.CONST.toDeg,Math.abs),A=Math.sqrt,w=Math.sin,b=Math.cos,F=[[1],[1,1],[1,2,1],[1,3,3,1],[1,4,6,4,1],[1,5,10,10,5,1],[1,6,15,20,15,6,1],[1,7,21,35,35,21,7,1],[1,8,28,56,70,56,28,8,1]],E=t.Create({name:"ConvolutionMatrixFilter",init:function(t,e,n,i){var r=this;r._coeff=new d([1,0]),r.matrix2=null,r.dim2=0,r._isGrad=!1,r._doIntegral=0,r._doSeparable=!1,t&&t.length?r.set(t,A(t.length)+.5|0,e||1,n||0):(r.matrix=null,r.dim=0),r.mode=i||p.RGB},path:n,dim:0,dim2:0,matrix:null,matrix2:null,_mat:null,_mat2:null,_coeff:null,_isGrad:!1,_doIntegral:0,_doSeparable:!1,_indices:null,_indices2:null,_indicesf:null,_indicesf2:null,mode:p.RGB,dispose:function(){var t=this;return t.dim=null,t.dim2=null,t.matrix=null,t.matrix2=null,t._mat=null,t._mat2=null,t._coeff=null,t._isGrad=null,t._doIntegral=null,t._doSeparable=null,t._indices=null,t._indices2=null,t._indicesf=null,t._indicesf2=null,t.$super("dispose"),t},serialize:function(){var t=this;return{dim:t.dim,dim2:t.dim2,matrix:t.matrix,matrix2:t.matrix2,_mat:t._mat,_mat2:t._mat2,_coeff:t._coeff,_isGrad:t._isGrad,_doIntegral:t._doIntegral,_doSeparable:t._doSeparable,_indices:t._indices,_indices2:t._indices2,_indicesf:t._indicesf,_indicesf2:t._indicesf2}},unserialize:function(t){var e=this;return e.dim=t.dim,e.dim2=t.dim2,e.matrix=R(t.matrix,d),e.matrix2=R(t.matrix2,d),e._mat=R(t._mat,d),e._mat2=R(t._mat2,d),e._coeff=R(t._coeff,d),e._isGrad=t._isGrad,e._doIntegral=t._doIntegral,e._doSeparable=t._doSeparable,e._indices=R(t._indices,v),e._indices2=R(t._indices2,v),e._indicesf=R(t._indicesf,v),e._indicesf2=R(t._indicesf2,v),e},functional:function(t,n){n=n===e?3:1&n?n:n+1;var r=l(n,t),a=1/i(r);return this.set(r,n,a,a,n,r),this._doSeparable=!0,this},fastGauss:function(t,n){return n=n===e?3:1&n?n:n+1,t=0|(t||1),1>t?t=1:t>7&&(t=7),this.set(h(n),n,1/(n*n),0),this._doIntegral=t,this},lowPass:function(t){return t=t===e?3:1&t?t:t+1,this.set(h(t),t,1/(t*t),0),this._doIntegral=1,this},boxBlur:null,highPass:function(t,n){t=t===e?3:1&t?t:t+1,n=n===e?1:n;var i=-n/(t*t);return this.set(h(t,i,1+i),t,1,0),this._doIntegral=1,this},glow:function(t,n){return t=t===e?.5:t,this.highPass(n,-t)},sharpen:function(t,n){return t=t===e?.5:t,this.highPass(n,t)},verticalBlur:function(t){return t=t===e?3:1&t?t:t+1,this.set(a(t),1,1/t,0,t),this._doIntegral=1,this},horizontalBlur:function(t){return t=t===e?3:1&t?t:t+1,this.set(a(t),t,1/t,0,1),this._doIntegral=1,this},directionalBlur:function(t,n){return n=n===e?3:1&n?n:n+1,t*=x,this.set(_(n,b(t),-w(t),1/n),n,1,0)},binomialLowPass:function(t){t=t===e?3:1&t?t:t+1;var n=o(t),i=1/(1<<t-1);return this.set(n,t,i,i,t,n),this._doSeparable=!0,this},gaussBlur:null,binomialHighPass:function(n){n=n===e?3:1&n?n:n+1;var r=u(n);return this.set(t.Util.Filter.cm_combine(h(n),r,1,-1/i(r)),n,1,0)},prewittX:function(t){return t=t===e?3:1&t?t:t+1,this.set(a(t),t,1,0,t,s(t,0)),this._doSeparable=!0,this},gradX:null,prewittY:function(t){return t=t===e?3:1&t?t:t+1,this.set(s(t,1),t,1,0,t,a(t)),this._doSeparable=!0,this},gradY:null,prewittDirectional:function(n,i){return i=i===e?3:1&i?i:i+1,n*=x,this.set(t.Util.Filter.cm_combine(f(i,0),f(i,1),b(n),w(n)),i,1,0)},gradDirectional:null,prewitt:function(t){return t=t===e?3:1&t?t:t+1,this.set(f(t,0),t,1,0,t,f(t,1)),this._isGrad=!0,this},grad:null,sobelX:function(t){return t=t===e?3:1&t?t:t+1,this.set(o(t),t,1,0,t,s(t,0)),this._doSeparable=!0,this},sobelY:function(t){return t=t===e?3:1&t?t:t+1,this.set(s(t,1),t,1,0,t,o(t)),this._doSeparable=!0,this},sobelDirectional:function(n,i){return i=i===e?3:1&i?i:i+1,n*=x,this.set(t.Util.Filter.cm_combine(c(i,0),c(i,1),b(n),w(n)),i,1,0)},sobel:function(t){return t=t===e?3:1&t?t:t+1,this.set(c(t,0),t,1,0,t,c(t,1)),this._isGrad=!0,this},laplace:function(t){return t=t===e?3:1&t?t:t+1,this.set(h(t,-1,t*t-1),t,1,0),this._doIntegral=1,this},emboss:function(t,n,i){return i=i===e?3:1&i?i:i+1,t=t===e?-.25*Math.PI:t*x,n=n||1,this.set(m(i,n*b(t),-n*w(t),1),i,1,0)},bump:null,edges:function(t){return t=t||1,this.set([0,t,0,t,-4*t,t,0,t,0],3,1,0)},set:function(t,e,n,i,l,a){var s,o=this;return o._isGrad=!1,o._doIntegral=0,o._doSeparable=!1,o.matrix2=null,o.dim2=0,o._indices2=o._indicesf2=null,o._mat2=null,o.matrix=new d(t),o.dim=e,o._coeff[0]=n||1,o._coeff[1]=i||0,s=r(o.matrix,o.dim),o._indices=s[0],o._indicesf=s[1],o._mat=s[2],a?(o.matrix2=new d(a),o.dim2=l,s=r(o.matrix2,o.dim2),o._indices2=s[0],o._indicesf2=s[1],o._mat2=s[2]):l&&(o.dim2=l),o},reset:function(){var t=this;return t.matrix=t.matrix2=null,t.dim=t.dim2=0,t._mat=t._mat2=null,t._indices=t._indices2=t._indicesf=t._indicesf2=null,t._isGrad=!1,t._doIntegral=0,t._doSeparable=!1,t},combineWith:function(t){var e=this;return t.matrix?e.matrix?e.set(C(e.matrix,t.matrix),e.dim*t.dim,e._coeff[0]*t._coeff[0]):e.set(t.matrix,t.dim,t._coeff[0],t._coeff[1]):e},_apply:y?function(e,n,i){var r=this,l=r.mode;if(!r.matrix)return e;if(r._doIntegral)return r.matrix2?t.Util.Filter.integral_convolution(l,e,n,i,2,r.matrix,r.matrix2,r.dim,r.dim2,r._coeff[0],r._coeff[1],r._doIntegral):t.Util.Filter.integral_convolution(l,e,n,i,2,r.matrix,null,r.dim,r.dim,r._coeff[0],r._coeff[1],r._doIntegral);if(r._doSeparable)return t.Util.Filter.separable_convolution(l,e,n,i,2,r._mat,r._mat2,r._indices,r._indices2,r._coeff[0],r._coeff[1]);var a,s,o,u,c,f,h,m,_,d,C,R,y,x,A,w,b,F,E,L,G,T,M,S,N=e.length,Y=N>>>2,U=new g(N),B=n-1,O=Y-n,H=r._coeff[0],z=r._coeff[1],X=r.matrix,D=r.matrix2,V=r._isGrad;if(p.GRAY===l)if(D){for(T=r._indicesf.length,S=new v(r._indicesf),f=0;T>f;f+=2)S[f+1]*=n;for(M=X.length,h=0,m=0,u=0;N>u;u+=4,h++){for(h>=n&&(h=0,m+=n),R=y=x=A=w=b=F=E=0,f=0,c=0;M>f;f++,c+=2)_=h+S[c],d=m+S[c+1],0>_||_>B||0>d||d>O||(C=_+d<<2,L=X[f],R+=e[C]*L,G=D[f],w+=e[C]*G);a=V?I(R)+I(w):H*R+z*w,a=0>a?0:a>255?255:a,U[u]=0|a,U[u+1]=0|a,U[u+2]=0|a,U[u+3]=e[u+3]}}else{for(T=r._indices.length,S=new v(r._indices),f=0;T>f;f+=2)S[f+1]*=n;for(X=r._mat,M=X.length,h=0,m=0,u=0;N>u;u+=4,h++){for(h>=n&&(h=0,m+=n),R=y=x=A=0,f=0,c=0;M>f;f++,c+=2)_=h+S[c],d=m+S[c+1],0>_||_>B||0>d||d>O||(C=_+d<<2,L=X[f],R+=e[C]*L);a=H*R+z,a=0>a?0:a>255?255:a,U[u]=0|a,U[u+1]=0|a,U[u+2]=0|a,U[u+3]=e[u+3]}}else if(D){for(T=r._indicesf.length,S=new v(r._indicesf),f=0;T>f;f+=2)S[f+1]*=n;for(M=X.length,h=0,m=0,u=0;N>u;u+=4,h++){for(h>=n&&(h=0,m+=n),R=y=x=A=w=b=F=E=0,f=0,c=0;M>f;f++,c+=2)_=h+S[c],d=m+S[c+1],0>_||_>B||0>d||d>O||(C=_+d<<2,L=X[f],R+=e[C]*L,y+=e[C+1]*L,x+=e[C+2]*L,G=D[f],w+=e[C]*G,b+=e[C+1]*G,F+=e[C+2]*G);V?(a=I(R)+I(w),s=I(y)+I(b),o=I(x)+I(F)):(a=H*R+z*w,s=H*y+z*b,o=H*x+z*F),a=0>a?0:a>255?255:a,s=0>s?0:s>255?255:s,o=0>o?0:o>255?255:o,U[u]=0|a,U[u+1]=0|s,U[u+2]=0|o,U[u+3]=e[u+3]}}else{for(T=r._indices.length,S=new v(r._indices),f=0;T>f;f+=2)S[f+1]*=n;for(X=r._mat,M=X.length,h=0,m=0,u=0;N>u;u+=4,h++){for(h>=n&&(h=0,m+=n),R=y=x=A=0,f=0,c=0;M>f;f++,c+=2)_=h+S[c],d=m+S[c+1],0>_||_>B||0>d||d>O||(C=_+d<<2,L=X[f],R+=e[C]*L,y+=e[C+1]*L,x+=e[C+2]*L);a=H*R+z,s=H*y+z,o=H*x+z,a=0>a?0:a>255?255:a,s=0>s?0:s>255?255:s,o=0>o?0:o>255?255:o,U[u]=0|a,U[u+1]=0|s,U[u+2]=0|o,U[u+3]=e[u+3]}}return U}:function(e,n,i){var r=this,l=r.mode;if(!r.matrix)return e;if(r._doIntegral)return r.matrix2?t.Util.Filter.integral_convolution(l,e,n,i,2,r.matrix,r.matrix2,r.dim,r.dim2,r._coeff[0],r._coeff[1],r._doIntegral):t.Util.Filter.integral_convolution(l,e,n,i,2,r.matrix,null,r.dim,r.dim,r._coeff[0],r._coeff[1],r._doIntegral);if(r._doSeparable)return t.Util.Filter.separable_convolution(l,e,n,i,2,r._mat,r._mat2,r._indices,r._indices2,r._coeff[0],r._coeff[1]);var a,s,o,u,c,f,h,m,_,d,C,R,y,x,A,w,b,F,E,L,G,T,M,S,N=e.length,Y=N>>>2,U=new g(N),B=n-1,O=Y-n,H=r._coeff[0],z=r._coeff[1],X=r.matrix,D=r.matrix2,V=r._isGrad;if(p.GRAY===l)if(D){for(T=r._indicesf.length,S=new v(r._indicesf),f=0;T>f;f+=2)S[f+1]*=n;for(M=X.length,h=0,m=0,u=0;N>u;u+=4,h++){for(h>=n&&(h=0,m+=n),R=y=x=A=w=b=F=E=0,f=0,c=0;M>f;f++,c+=2)_=h+S[c],d=m+S[c+1],0>_||_>B||0>d||d>O||(C=_+d<<2,L=X[f],R+=e[C]*L,G=D[f],w+=e[C]*G);a=V?I(R)+I(w):H*R+z*w,U[u]=0|a,U[u+1]=0|a,U[u+2]=0|a,U[u+3]=e[u+3]}}else{for(T=r._indices.length,S=new v(r._indices),f=0;T>f;f+=2)S[f+1]*=n;for(X=r._mat,M=X.length,h=0,m=0,u=0;N>u;u+=4,h++){for(h>=n&&(h=0,m+=n),R=y=x=A=0,f=0,c=0;M>f;f++,c+=2)_=h+S[c],d=m+S[c+1],0>_||_>B||0>d||d>O||(C=_+d<<2,L=X[f],R+=e[C]*L);a=H*R+z,U[u]=0|a,U[u+1]=0|a,U[u+2]=0|a,U[u+3]=e[u+3]}}else if(D){for(T=r._indicesf.length,S=new v(r._indicesf),f=0;T>f;f+=2)S[f+1]*=n;for(M=X.length,h=0,m=0,u=0;N>u;u+=4,h++){for(h>=n&&(h=0,m+=n),R=y=x=A=w=b=F=E=0,f=0,c=0;M>f;f++,c+=2)_=h+S[c],d=m+S[c+1],0>_||_>B||0>d||d>O||(C=_+d<<2,L=X[f],R+=e[C]*L,y+=e[C+1]*L,x+=e[C+2]*L,G=D[f],w+=e[C]*G,b+=e[C+1]*G,F+=e[C+2]*G);V?(a=I(R)+I(w),s=I(y)+I(b),o=I(x)+I(F)):(a=H*R+z*w,s=H*y+z*b,o=H*x+z*F),U[u]=0|a,U[u+1]=0|s,U[u+2]=0|o,U[u+3]=e[u+3]}}else{for(T=r._indices.length,S=new v(r._indices),f=0;T>f;f+=2)S[f+1]*=n;for(X=r._mat,M=X.length,h=0,m=0,u=0;N>u;u+=4,h++){for(h>=n&&(h=0,m+=n),R=y=x=A=0,f=0,c=0;M>f;f++,c+=2)_=h+S[c],d=m+S[c+1],0>_||_>B||0>d||d>O||(C=_+d<<2,L=X[f],R+=e[C]*L,y+=e[C+1]*L,x+=e[C+2]*L);a=H*R+z,s=H*y+z,o=H*x+z,U[u]=0|a,U[u+1]=0|s,U[u+2]=0|o,U[u+3]=e[u+3]}}return U},canRun:function(){return this._isOn&&this.matrix}});E.prototype.gradX=E.prototype.prewittX,E.prototype.gradY=E.prototype.prewittY,E.prototype.gradDirectional=E.prototype.prewittDirectional,E.prototype.grad=E.prototype.prewitt,E.prototype.bump=E.prototype.emboss,E.prototype.boxBlur=E.prototype.lowPass,E.prototype.gaussBlur=E.prototype.binomialLowPass}(e),!function(t,e){var i,r=t.MODE,l=t.ImArray,a=t.Array8U,s=t.Array32I,o=Math.sqrt,u=t.Util.Array.typed,c=function(t){var e,n=t*t,i=new a(n);for(e=0;n>e;e++)i[e]=1;return i},f=c(3);t.Create({name:"MorphologicalFilter",init:function(){var t=this;t._filterName=null,t._filter=null,t._dim=0,t._structureElement=null,t._indices=null,t.mode=r.RGB},path:n,_filterName:null,_filter:null,_dim:0,_structureElement:null,_indices:null,mode:r.RGB,dispose:function(){var t=this;return t._filterName=null,t._filter=null,t._dim=null,t._structureElement=null,t._indices=null,t.$super("dispose"),t},serialize:function(){var t=this;return{_filterName:t._filterName,_dim:t._dim,_structureElement:t._structureElement,_indices:t._indices}},unserialize:function(t){var e=this;return e._dim=t._dim,e._structureElement=u(t._structureElement,a),e._indices=u(t._indices,s),e._filterName=t._filterName,e._filterName&&i[e._filterName]&&(e._filter=i[e._filterName]),e},erode:function(t){return this.set(t,"erode")},dilate:function(t){return this.set(t,"dilate")},opening:function(t){return this.set(t,"open")},closing:function(t){return this.set(t,"close")},gradient:function(t){return this.set(t,"gradient")},laplacian:function(t){return this.set(t,"laplacian")},set:function(t,e){var n=this;n._filterName=e,n._filter=i[e],t&&t.length?(n._structureElement=new a(t),n._dim=o(n._structureElement.length)+.5|0):t&&t===+t?(n._structureElement=c(t),n._dim=t):(n._structureElement=f,n._dim=3);var r,l,u,h=[],t=n._structureElement,m=t.length,_=n._dim,p=_>>>1;for(l=0,u=0,r=0;m>r;r++,l++)l>=_&&(l=0,u++),t[r]&&(h.push(l-p),h.push(u-p));return n._indices=new s(h),n},reset:function(){var t=this;return t._filterName=null,t._filter=null,t._dim=0,t._structureElement=null,t._indices=null,t},_apply:function(t,e,n){var i=this;return i._dim&&i._filter?i._filter(i,t,e,n):t},canRun:function(){return this._isOn&&this._dim&&this._filter}}),i={dilate:function(t,e,n,i){var a,o,u,c,f,h,m,_,p,d,g,v,C,R=t._structureElement,y=(R.length,t._dim,t._indices),x=y.length,I=x>>>1,A=new s(x),w=e.length,b=w>>>2,F=new l(w),E=n-1,L=b-n;for(o=0;x>o;o+=2)A[o]=y[o],A[o+1]=y[o+1]*n;if(r.GRAY===t.mode)for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=0,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],_>g&&(g=_));F[a]=g,F[a+1]=g,F[a+2]=g,F[a+3]=e[a+3]}else for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=v=C=0,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],_>g&&(g=_),p>v&&(v=p),d>C&&(C=d));F[a]=g,F[a+1]=v,F[a+2]=C,F[a+3]=e[a+3]}return F},erode:function(t,e,n,i){var a,o,u,c,f,h,m,_,p,d,g,v,C,R=t._structureElement,y=(R.length,t._dim,t._indices),x=y.length,I=x>>>1,A=new s(x),w=e.length,b=w>>>2,F=new l(w),E=n-1,L=b-n;for(o=0;x>o;o+=2)A[o]=y[o],A[o+1]=y[o+1]*n;if(r.GRAY===t.mode)for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=255,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],g>_&&(g=_));F[a]=g,F[a+1]=g,F[a+2]=g,F[a+3]=e[a+3]}else for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=v=C=255,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],g>_&&(g=_),v>p&&(v=p),C>d&&(C=d));F[a]=g,F[a+1]=v,F[a+2]=C,F[a+3]=e[a+3]}return F},open:function(t,e,n,i){var a,o,u,c,f,h,m,_,p,d,g,v,C,R=t._structureElement,y=(R.length,t._dim,t._indices),x=y.length,I=x>>>1,A=new s(x),w=e.length,b=w>>>2,F=new l(w),E=n-1,L=b-n;for(o=0;x>o;o+=2)A[o]=y[o],A[o+1]=y[o+1]*n;if(r.GRAY===t.mode){for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=255,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],g>_&&(g=_));F[a]=g,F[a+1]=g,F[a+2]=g,F[a+3]=e[a+3]}var G=e;for(e=F,F=G,u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=0,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],_>g&&(g=_));F[a]=g,F[a+1]=g,F[a+2]=g,F[a+3]=e[a+3]}}else{for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=v=C=255,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],g>_&&(g=_),v>p&&(v=p),C>d&&(C=d));F[a]=g,F[a+1]=v,F[a+2]=C,F[a+3]=e[a+3]}var G=e;for(e=F,F=G,u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=v=C=0,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],_>g&&(g=_),p>v&&(v=p),d>C&&(C=d));F[a]=g,F[a+1]=v,F[a+2]=C,F[a+3]=e[a+3]}}return F},close:function(t,e,n,i){var a,o,u,c,f,h,m,_,p,d,g,v,C,R=t._structureElement,y=(R.length,t._dim,t._indices),x=y.length,I=x>>>1,A=new s(x),w=e.length,b=w>>>2,F=new l(w),E=n-1,L=b-n;for(o=0;x>o;o+=2)A[o]=y[o],A[o+1]=y[o+1]*n;if(r.GRAY===t.mode){for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=0,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],_>g&&(g=_));F[a]=g,F[a+1]=g,F[a+2]=g,F[a+3]=e[a+3]}var G=e;for(e=F,F=G,u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=255,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],g>_&&(g=_));F[a]=g,F[a+1]=g,F[a+2]=g,F[a+3]=e[a+3]}}else{for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),
g=v=C=0,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],_>g&&(g=_),p>v&&(v=p),d>C&&(C=d));F[a]=g,F[a+1]=v,F[a+2]=C,F[a+3]=e[a+3]}var G=e;for(e=F,F=G,u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=v=C=255,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],g>_&&(g=_),v>p&&(v=p),C>d&&(C=d));F[a]=g,F[a+1]=v,F[a+2]=C,F[a+3]=e[a+3]}}return F},gradient:function(t,e,n,i){var a,o,u,c,f,h,m,_,p,d,g,v,C,R=t._structureElement,y=(R.length,t._dim,t._indices),x=y.length,I=x>>>1,A=new s(x),w=e.length,b=w>>>2,F=new l(w),E=n-1,L=b-n;for(o=0;x>o;o+=2)A[o]=y[o],A[o+1]=y[o+1]*n;if(r.GRAY===t.mode){for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=0,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],_>g&&(g=_));F[a]=g,F[a+1]=g,F[a+2]=g,F[a+3]=e[a+3]}for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=255,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],g>_&&(g=_));g=.5*(F[a]-g)|0,F[a]=g,F[a+1]=g,F[a+2]=g}}else{for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=v=C=0,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],_>g&&(g=_),p>v&&(v=p),d>C&&(C=d));F[a]=g,F[a+1]=v,F[a+2]=C,F[a+3]=e[a+3]}for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=v=C=255,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],g>_&&(g=_),v>p&&(v=p),C>d&&(C=d));g=.5*(F[a]-g)|0,v=.5*(F[a+1]-v)|0,C=.5*(F[a+2]-C)|0,F[a]=g,F[a+1]=v,F[a+2]=C}}return F},laplacian:function(t,e,n,i){var a,o,u,c,f,h,m,_,p,d,g,v,C,R=t._structureElement,y=(R.length,t._dim,t._indices),x=y.length,I=x>>>1,A=new s(x),w=e.length,b=w>>>2,F=new l(w),E=n-1,L=b-n;for(o=0;x>o;o+=2)A[o]=y[o],A[o+1]=y[o+1]*n;if(r.GRAY===t.mode){for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=0,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],_>g&&(g=_));F[a]=g,F[a+1]=g,F[a+2]=g,F[a+3]=e[a+3]}for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=255,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],g>_&&(g=_));g=.5*(F[a]+g)-e[a]|0,F[a]=g,F[a+1]=g,F[a+2]=g}}else{for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=v=C=0,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],_>g&&(g=_),p>v&&(v=p),d>C&&(C=d));F[a]=g,F[a+1]=v,F[a+2]=C,F[a+3]=e[a+3]}for(u=0,c=0,a=0;w>a;a+=4,u++){for(u>=n&&(u=0,c+=n),g=v=C=255,o=0;I>o;o+=2)f=u+A[o],h=c+A[o+1],0>f||f>E||0>h||h>L||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],g>_&&(g=_),v>p&&(v=p),C>d&&(C=d));g=.5*(F[a]+g)-e[a]|0,v=.5*(F[a+1]+v)-e[a+1]|0,C=.5*(F[a+2]+C)-e[a+2]|0,F[a]=g,F[a+1]=v,F[a+2]=C}}return F}}}(e),!function(t,e){var i,r=t.MODE,l=t.ImArray,a=t.Array32I,s=t.Array32U,o=t.Util.Array.typed,u=Math.min,c=Math.max,f=t.Create({name:"StatisticalFilter",init:function(){var t=this;t.d=0,t.k=0,t._gray=!1,t._filter=null,t._indices=null,t.mode=r.RGB},path:n,d:0,k:0,_filter:null,_indices:null,mode:r.RGB,dispose:function(){var t=this;return t.d=null,t.k=null,t._filter=null,t._indices=null,t.$super("dispose"),t},serialize:function(){var t=this;return{d:t.d,k:t.k,_filter:t._filter,_indices:t._indices}},unserialize:function(t){var e=this;return e.d=t.d,e.k=t.k,e._filter=t._filter,e._indices=o(t._indices,a),e},kth:function(t,e){return this.set(null==e?3:1&e?e:e+1,t)},median:function(t){return this.set(null==t?3:1&t?t:t+1,.5)},minimum:function(t){return this.set(null==t?3:1&t?t:t+1,0)},erode:null,maximum:function(t){return this.set(null==t?3:1&t?t:t+1,1)},dilate:null,set:function(t,e){var n=this;n.d=t=t||3,n.k=e=u(1,c(0,e||0)),n._filter=0===e?"0th":1===e?"1th":"kth";var i,r,l,s=t*t<<1,o=t>>>1,f=new a(s);for(r=0,l=0,i=0;s>i;i+=2,r++)r>=t&&(r=0,l++),f[i]=r-o,f[i+1]=l-o;return n._indices=f,n},reset:function(){var t=this;return t.d=0,t.k=0,t._filter=null,t._indices=null,t},_apply:function(t,e,n){var r=this;return r.d?i[r._filter](r,t,e,n):t},canRun:function(){return this._isOn&&this.d}});f.prototype.erode=f.prototype.minimum,f.prototype.dilate=f.prototype.maximum,i={"1th":function(t,e,n,i){var s,o,u,c,f,h,m,_,p,d,g,v,C,R=(t.d,e.length),y=R>>>2,x=new l(R),I=n-1,A=y-n,w=t._indices,b=w.length,F=new a(b);for(o=0;b>o;o+=2)F[o]=w[o],F[o+1]=w[o+1]*n;if(r.GRAY===t.mode)for(s=0,u=0,c=0;R>s;s+=4,u++){for(u>=n&&(u=0,c+=n),v=0,o=0;b>o;o+=2)f=u+F[o],h=c+F[o+1],0>f||f>I||0>h||h>A||(m=f+h<<2,p=e[m],p>v&&(v=p));x[s]=v,x[s+1]=v,x[s+2]=v,x[s+3]=e[s+3]}else for(s=0,u=0,c=0;R>s;s+=4,u++){for(u>=n&&(u=0,c+=n),g=v=C=0,o=0;b>o;o+=2)f=u+F[o],h=c+F[o+1],0>f||f>I||0>h||h>A||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],_>g&&(g=_),p>v&&(v=p),d>C&&(C=d));x[s]=g,x[s+1]=v,x[s+2]=C,x[s+3]=e[s+3]}return x},"0th":function(t,e,n,i){var s,o,u,c,f,h,m,_,p,d,g,v,C,R=(t.d,e.length),y=R>>>2,x=new l(R),I=n-1,A=y-n,w=t._indices,b=w.length,F=new a(b);for(o=0;b>o;o+=2)F[o]=w[o],F[o+1]=w[o+1]*n;if(r.GRAY===t.mode)for(s=0,u=0,c=0;R>s;s+=4,u++){for(u>=n&&(u=0,c+=n),v=255,o=0;b>o;o+=2)f=u+F[o],h=c+F[o+1],0>f||f>I||0>h||h>A||(m=f+h<<2,p=e[m],v>p&&(v=p));x[s]=v,x[s+1]=v,x[s+2]=v,x[s+3]=e[s+3]}else for(s=0,u=0,c=0;R>s;s+=4,u++){for(u>=n&&(u=0,c+=n),g=v=C=255,o=0;b>o;o+=2)f=u+F[o],h=c+F[o+1],0>f||f>I||0>h||h>A||(m=f+h<<2,_=e[m],p=e[m+1],d=e[m+2],g>_&&(g=_),v>p&&(v=p),C>d&&(C=d));x[s]=g,x[s+1]=v,x[s+2]=C,x[s+3]=e[s+3]}return x},kth:function(t,e,n,i){var o,u,c,f,h,m,_,p,d,g,v,C,R,y,x,I,A,w,b,F,E,L,G,T,M=(t.d,t.k),S=e.length,N=S>>>2,Y=new l(S),U=n-1,B=N-n,O=t._indices,H=O.length,z=new a(H);for(u=0;H>u;u+=2)z[u]=O[u],z[u+1]=O[u+1]*n;if(r.GRAY===t.mode)for(E=new s(256),o=0,c=0,f=0;S>o;o+=4,c++){for(c>=n&&(c=0,f+=n),G=0,C=255,x=0,u=0;H>u;u+=2)h=c+z[u],m=f+z[u+1],0>h||h>U||0>m||m>B||(_=h+m<<2,d=e[_],C>d&&(C=d),d>x&&(x=d),G++,E[d]++);for(G*=M,T=0,w=-1,u=C;x>=u;u++)T+=E[u],E[u]=0,0>w&&T>=G&&(w=u);Y[o]=w,Y[o+1]=w,Y[o+2]=w,Y[o+3]=e[o+3]}else for(F=new s(256),E=new s(256),L=new s(256),o=0,c=0,f=0;S>o;o+=4,c++){for(c>=n&&(c=0,f+=n),G=0,v=C=R=255,y=x=I=0,u=0;H>u;u+=2)h=c+z[u],m=f+z[u+1],0>h||h>U||0>m||m>B||(_=h+m<<2,p=e[_],d=e[_+1],g=e[_+2],F[p]++,E[d]++,L[g]++,G++,v>p&&(v=p),C>d&&(C=d),R>g&&(R=g),p>y&&(y=p),d>x&&(x=d),g>I&&(I=g));for(G*=M,T=0,A=-1,u=v;y>=u;u++)T+=F[u],F[u]=0,0>A&&T>=G&&(A=u);for(T=0,w=-1,u=C;x>=u;u++)T+=E[u],E[u]=0,0>w&&T>=G&&(w=u);for(T=0,b=-1,u=R;I>=u;u++)T+=L[u],L[u]=0,0>b&&T>=G&&(b=u);Y[o]=A,Y[o+1]=w,Y[o+2]=b,Y[o+3]=e[o+3]}return Y}}}(e),!function(t,e){var i="hasOwnProperty";t.Create({name:"InlineFilter",init:function(t,e){var n=this;n._params={},n.set(t,e)},path:n,_filter:null,_params:null,_changed:!1,dispose:function(){var t=this;return t._filter=null,t._params=null,t._changed=null,t.$super("dispose"),t},serialize:function(){var t,e=this;return t={_filter:!1===e._filter?!1:e._changed&&e._filter?e._filter.toString():null,_params:e._params},e._changed=!1,t},unserialize:function(e){var n=this;return null!=e._filter&&(n._filter=!1===e._filter?null:new Function("FILTER",'"use strict"; return '+e._filter+";")(t)),n._params=e._params||{},n},params:function(t){var e=this;if(arguments.length){for(var n in t)t[i](n)&&(e._params[n]=t[n]);return e}return e._params},set:function(t,e){var n=this;return!1===t?(n._filter=!1,n._changed=!0):("function"==typeof t&&(n._filter=t,n._changed=!0),e&&n.params(e)),n},_apply:function(t,e,n,i){var r=this;return r._filter?r._filter(r._params,t,e,n,i):t},canRun:function(){return this._isOn&&this._filter}}),t.CustomFilter=t.InlineFilter}(e),!function(t,e){var i=Math.max,r=Math.min,l=Math.round;t.Create({name:"DimensionFilter",crop:null,scale:null,pad:null,init:function(t,e,n){var i=this;i.crop=t||null,i.scale=e||null,i.pad=n||null},path:n,dispose:function(){var t=this;return t.crop=null,t.scale=null,t.pad=null,t.$super("dispose"),t},serialize:function(){var t=this;return{crop:t.crop||null,scale:t.scale||null,pad:t.pad||null}},unserialize:function(t){var e=this;return e.crop=t.crop,e.scale=t.scale,e.pad=t.pad,e},_apply:function(e,n,a){var s,o,u,c,f,h,m,_,p,d,g,v,C,R=this,y=n,x=a,I=null,A=R.scale||null,w=R.pad||null;return!R.crop&&R.selection?I=R.selection:R.crop&&(I=R.crop),R.hasMeta=!1,R.meta=null,I||A||w?(I&&(I[4]?(h=r(n-1,i(0,l(I[0]*(n-1)))),m=r(a-1,i(0,l(I[1]*(a-1)))),_=r(n-1,i(0,l(I[2]*(n-1)))),p=r(a-1,i(0,l(I[3]*(a-1))))):(h=r(n-1,i(0,l(I[0]))),m=r(a-1,i(0,l(I[1]))),_=r(n-1,i(0,l(I[2]))),p=r(a-1,i(0,l(I[3])))),0===h&&0===m&&y===_+1&&x===p+1||(e=t.Util.Image.get_data(e,y,x,h,m,_,p,!0),y=_-h+1,x=p-m+1)),A&&(s=A[0],o=A[1],f=t.Interpolation[A[2]||"bilinear"],!f||1===s&&1===o||(u=l(s*y),c=l(o*x),e=f(e,y,x,u,c),y=u,x=c)),w&&(v=l(w[0]||0),d=l(w[2]||0),C=l(w[1]||0),g=l(w[3]||0),0===v&&0===d&&0===C&&0===g||(e=t.Util.Image.pad(e,y,x,d,g,v,C),y+=v+d,x+=g+C)),y===n&&x===a||(R.hasMeta=!0,R.meta={_IMG_WIDTH:y,_IMG_HEIGHT:x}),e):e}}),t.InterpolationFilter=t.ResizeFilter=t.RescaleFilter=t.ResampleFilter=t.PadFilter=t.CropFilter=t.SubSelectionFilter=t.SelectionFilter=t.SelectFilter=t.DimensionFilter}(e),e});
/**
*
*   FILTER.js Plugins
*   @version: 0.9.6
*   @dependencies: Filter.js
*
*   JavaScript Image Processing Library (Plugins)
*   https://github.com/foo123/FILTER.js
*
**/!function(e,n){"use strict";"object"==typeof module&&module.exports?module.exports=n.call(e,module.$deps&&module.$deps.FILTER||require("./FILTER".toLowerCase())):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified("FILTER_PLUGINS")?define("FILTER_PLUGINS",["module","FILTER"],function(r,t){return n.moduleUri=r.uri,n.call(e,t),t}):(n.call(e,e.FILTER)||1)&&"function"==typeof define&&define.amd&&define(function(){return e.FILTER})}(this,function e(n){"use strict";var r=n.getPath(e.moduleUri);return!function(e){var n=e._notSupportClamp;e.Create({name:"NoiseFilter",min:-127,max:127,init:function(e,n){var r=this;r.min=e||-127,r.max=n||127},path:r,serialize:function(){var e=this;return{min:e.min,max:e.max}},unserialize:function(e){var n=this;return n.min=e.min,n.max=e.max,n},apply:function(r,t,a){var i,o,l,s,c,u,f,h,d=this,p=e.Util.Math.random,y=d.max-d.min,m=d.min,v=r.length;if(n)for(i=0;v>i;i+=4)l=r[i],s=r[i+1],c=r[i+2],o=y*p()+m,u=l+o,f=s+o,h=c+o,0>u?u=0:u>255&&(u=255),0>f?f=0:f>255&&(f=255),0>h?h=0:h>255&&(h=255),r[i]=0|u,r[i+1]=0|f,r[i+2]=0|h;else for(i=0;v>i;i+=4)l=r[i],s=r[i+1],c=r[i+2],o=y*p()+m,u=l+o,f=s+o,h=c+o,r[i]=0|u,r[i+1]=0|f,r[i+2]=0|h;return r}})}(n),!function(e){var n=e.MODE;e.Create({name:"PerlinNoiseFilter",mode:n.GRAY,_baseX:1,_baseY:1,_octaves:1,_offsets:null,_seed:0,_stitch:!1,_fractal:!0,_perlin:!1,path:r,init:function(e,r,t,a,i,o,l,s){var c=this;c.mode=n.GRAY,c._baseX=e||1,c._baseY=r||1,c._seed=l||0,c._stitch=!!a,c._fractal=!1!==i,c._perlin=!!s,c.octaves(t||1,o)},seed:function(e){var n=this;return n._seed=e||0,n},octaves:function(e,n){var r=this;for(r._octaves=e||1,r._offsets=n?n.slice(0):[];r._offsets.length<r._octaves;)r._offsets.push([0,0]);return r},seamless:function(e){return arguments.length||(e=!0),this._stitch=!!e,this},colors:function(e){return arguments.length||(e=!0),this.mode=e?n.COLOR:n.GRAY,this},turbulence:function(e){return arguments.length||(e=!0),this._fractal=!e,this},simplex:function(){return this._perlin=!1,this},perlin:function(){return this._perlin=!0,this},serialize:function(){var e=this;return{_baseX:e._baseX,_baseY:e._baseY,_octaves:e._octaves,_offsets:e._offsets,_seed:e._seed||0,_stitch:e._stitch,_fractal:e._fractal,_perlin:e._perlin}},unserialize:function(e){var n=this;return n._baseX=e._baseX,n._baseY=e._baseY,n._octaves=e._octaves,n._offsets=e._offsets,n._seed=e._seed||0,n._stitch=e._stitch,n._fractal=e._fractal,n._perlin=e._perlin,n},apply:function(r,t,a){var i=this,o=e.Util.Image.perlin;return o?(i._seed&&(o.seed(i._seed),i._seed=0),o(r,t,a,i._stitch,n.COLOR!==i.mode,i._baseX,i._baseY,i._octaves,i._offsets,1,.5,i._perlin)):r}})}(n),!function(e,n){var t=e.MODE,a=e.Util.Array.typed,i=Math.floor;e.Create({name:"GradientFilter",colors:null,stops:null,angle:0,centerX:0,centerY:0,radiusX:1,radiusY:1,path:r,dispose:function(){var e=this;return e.colors=null,e.stops=null,e.angle=null,e.centerX=null,e.centerY=null,e.radiusX=null,e.radiusY=null,e.$super("dispose"),e},setColors:function(n,r){var t=this;if(n&&n.length){var a=e.Color.Gradient.stops(n,r);t.colors=a[0],t.stops=a[1]}return t},serialize:function(){var e=this;return{angle:e.angle,centerX:e.centerX,centerY:e.centerY,radiusX:e.radiusX,radiusY:e.radiusY,colors:e.colors,stops:e.stops}},unserialize:function(e){var n=this;return n.angle=e.angle||0,n.centerX=e.centerX||0,n.centerY=e.centerY||0,n.radiusX=e.radiusX||1,n.radiusY=e.radiusY||1,n.colors=a(e.colors,Array),n.stops=a(e.stops,Array),n},linear:function(e,n,r){var a=this;return a.mode=t.LINEAR,a.setColors(e,n),a.angle=r||0,a},radial:function(e,n,r,a,i,o){var l=this;return l.mode=t.RADIAL,l.setColors(e,n),l.centerX=r||0,l.centerY=a||0,l.radiusX=i||1,l.radiusY=o||1,l},apply:function(n,r,a){var o=this;return o.colors?t.RADIAL===o.mode?e.Color.Gradient.radial(n,r,a,o.colors,o.stops,i((o.centerX||0)*(r-1)),i((o.centerY||0)*(a-1)),o.radiusX,o.radiusY,e.Color.Gradient.interpolate):e.Color.Gradient.linear(n,r,a,o.colors,o.stops,o.angle,e.Color.Gradient.interpolate):n}})}(n),!function(e){var n=Math.min,t=Math.floor,a=e.CHANNEL,i=e.MODE;e.Create({name:"ChannelCopyFilter",srcChannel:a.R,dstChannel:a.R,centerX:0,centerY:0,color:0,hasInputs:!0,path:r,init:function(e,n,r,t,i){var o=this;o.srcChannel=e||a.R,o.dstChannel=n||a.R,o.centerX=r||0,o.centerY=t||0,o.color=i||0},dispose:function(){var e=this;return e.srcChannel=null,e.dstChannel=null,e.centerX=null,e.centerY=null,e.color=null,e.$super("dispose"),e},serialize:function(){var e=this;return{srcChannel:e.srcChannel,dstChannel:e.dstChannel,centerX:e.centerX,centerY:e.centerY,color:e.color}},unserialize:function(e){var n=this;return n.srcChannel=e.srcChannel,n.dstChannel=e.dstChannel,n.centerX=e.centerX,n.centerY=e.centerY,n.color=e.color,n},apply:function(e,r,a){var o,l=this;if(o=l.input("source"),!o)return e;var s,c,u,f,h,d,p,y,m,v,g=o[0],_=o[1],C=o[2],b=e.length,w=(g.length,l.srcChannel),Y=l.dstChannel,x=l.centerX||0,X=l.centerY||0,F=_>>>1,A=C>>>1,I=n(r,_),R=n(a,C),S=l.color||0,M=l.mode,L=i.COLOR32,O=i.COLOR8,z=i.COLORMASK32,T=i.COLORMASK8;for(L===M||z===M?(v=S>>>24&255,p=S>>>16&255,y=S>>>8&255,m=255&S):O!==M&&T!==M||(S&=255),x=t(x*(r-1))-F,X=t(X*(a-1))-A,c=0,u=0,s=0;b>s;s+=4,c++)c>=r&&(c=0,u++),h=c-x,d=u-X,0>h||h>=I||0>d||d>=R?L===M?(e[s]=p,e[s+1]=y,e[s+2]=m,e[s+3]=v):z===M?(e[s]=p&e[s],e[s+1]=y&e[s+1],e[s+2]=m&e[s+2],e[s+3]=v&e[s+3]):O===M?e[s+Y]=S:T===M&&(e[s+Y]=S&e[s+w]):(f=h+d*_<<2,e[s+Y]=g[f+w]);return e}})}(n),!function(e){var n=e._notSupportClamp,t=e.Array32F,a=e.MODE,i=Math.min,o=Math.max;e.Create({name:"HistogramEqualizeFilter",path:r,mode:a.INTENSITY,init:function(e){var n=this;n.mode=e||a.INTENSITY},_apply_rgb:function(e,r,a){var l,s,c,u,f,h,d,p,y,m,v,g,_,C,b,w,Y=0,x=0,X=0,F=255,A=255,I=255,R=e.length,S=R>>>2;for(d=new t(256),p=new t(256),y=new t(256),w=0;R>w;w+=4)l=e[w],s=e[w+1],c=e[w+2],d[l]++,p[s]++,y[c]++,Y=o(l,Y),x=o(s,x),X=o(c,X),F=i(l,F),A=i(s,A),I=i(c,I);for(m=v=g=0,w=0;256>w;w+=32)m+=d[w],d[w]=m,m+=d[w+1],d[w+1]=m,m+=d[w+2],d[w+2]=m,m+=d[w+3],d[w+3]=m,m+=d[w+4],d[w+4]=m,m+=d[w+5],d[w+5]=m,m+=d[w+6],d[w+6]=m,m+=d[w+7],d[w+7]=m,m+=d[w+8],d[w+8]=m,m+=d[w+9],d[w+9]=m,m+=d[w+10],d[w+10]=m,m+=d[w+11],d[w+11]=m,m+=d[w+12],d[w+12]=m,m+=d[w+13],d[w+13]=m,m+=d[w+14],d[w+14]=m,m+=d[w+15],d[w+15]=m,m+=d[w+16],d[w+16]=m,m+=d[w+17],d[w+17]=m,m+=d[w+18],d[w+18]=m,m+=d[w+19],d[w+19]=m,m+=d[w+20],d[w+20]=m,m+=d[w+21],d[w+21]=m,m+=d[w+22],d[w+22]=m,m+=d[w+23],d[w+23]=m,m+=d[w+24],d[w+24]=m,m+=d[w+25],d[w+25]=m,m+=d[w+26],d[w+26]=m,m+=d[w+27],d[w+27]=m,m+=d[w+28],d[w+28]=m,m+=d[w+29],d[w+29]=m,m+=d[w+30],d[w+30]=m,m+=d[w+31],d[w+31]=m,v+=p[w],p[w]=v,v+=p[w+1],p[w+1]=v,v+=p[w+2],p[w+2]=v,v+=p[w+3],p[w+3]=v,v+=p[w+4],p[w+4]=v,v+=p[w+5],p[w+5]=v,v+=p[w+6],p[w+6]=v,v+=p[w+7],p[w+7]=v,v+=p[w+8],p[w+8]=v,v+=p[w+9],p[w+9]=v,v+=p[w+10],p[w+10]=v,v+=p[w+11],p[w+11]=v,v+=p[w+12],p[w+12]=v,v+=p[w+13],p[w+13]=v,v+=p[w+14],p[w+14]=v,v+=p[w+15],p[w+15]=v,v+=p[w+16],p[w+16]=v,v+=p[w+17],p[w+17]=v,v+=p[w+18],p[w+18]=v,v+=p[w+19],p[w+19]=v,v+=p[w+20],p[w+20]=v,v+=p[w+21],p[w+21]=v,v+=p[w+22],p[w+22]=v,v+=p[w+23],p[w+23]=v,v+=p[w+24],p[w+24]=v,v+=p[w+25],p[w+25]=v,v+=p[w+26],p[w+26]=v,v+=p[w+27],p[w+27]=v,v+=p[w+28],p[w+28]=v,v+=p[w+29],p[w+29]=v,v+=p[w+30],p[w+30]=v,v+=p[w+31],p[w+31]=v,g+=y[w],y[w]=g,g+=y[w+1],y[w+1]=g,g+=y[w+2],y[w+2]=g,g+=y[w+3],y[w+3]=g,g+=y[w+4],y[w+4]=g,g+=y[w+5],y[w+5]=g,g+=y[w+6],y[w+6]=g,g+=y[w+7],y[w+7]=g,g+=y[w+8],y[w+8]=g,g+=y[w+9],y[w+9]=g,g+=y[w+10],y[w+10]=g,g+=y[w+11],y[w+11]=g,g+=y[w+12],y[w+12]=g,g+=y[w+13],y[w+13]=g,g+=y[w+14],y[w+14]=g,g+=y[w+15],y[w+15]=g,g+=y[w+16],y[w+16]=g,g+=y[w+17],y[w+17]=g,g+=y[w+18],y[w+18]=g,g+=y[w+19],y[w+19]=g,g+=y[w+20],y[w+20]=g,g+=y[w+21],y[w+21]=g,g+=y[w+22],y[w+22]=g,g+=y[w+23],y[w+23]=g,g+=y[w+24],y[w+24]=g,g+=y[w+25],y[w+25]=g,g+=y[w+26],y[w+26]=g,g+=y[w+27],y[w+27]=g,g+=y[w+28],y[w+28]=g,g+=y[w+29],y[w+29]=g,g+=y[w+30],y[w+30]=g,g+=y[w+31],y[w+31]=g;if(u=(Y-F)/S,f=(x-A)/S,h=(X-I)/S,n)for(w=0;R>w;w+=4)l=e[w],s=e[w+1],c=e[w+2],_=d[l]*u+F,C=p[s]*f+A,b=y[c]*h+I,_=0>_?0:_>255?255:_,C=0>C?0:C>255?255:C,b=0>b?0:b>255?255:b,e[w]=~~_,e[w+1]=~~C,e[w+2]=~~b;else for(w=0;R>w;w+=4)l=e[w],s=e[w+1],c=e[w+2],_=d[l]*u+F,C=p[s]*f+A,b=y[c]*h+I,e[w]=~~_,e[w+1]=~~C,e[w+2]=~~b;return e},apply:function(e,r,l){var s=this;if(a.RGB===s.mode)return s._apply_rgb(e,r,l);var c,u,f,h,d,p,y,m,v,g,_=0,C=255,b=e.length,w=b>>>2,Y=a.GRAY===s.mode;if(m=new t(256),Y)for(g=0;b>g;g+=4)c=e[g],m[c]++,_=o(c,_),C=i(c,C);else for(g=0;b>g;g+=4)c=e[g],u=e[g+1],f=e[g+2],h=~~(0+.299*c+.587*u+.114*f),d=~~(128-.168736*c-.331264*u+.5*f),p=~~(128+.5*c-.418688*u-.081312*f),p=0>p?0:p>255?255:p,h=0>h?0:h>255?255:h,d=0>d?0:d>255?255:d,e[g]=p,e[g+1]=h,e[g+2]=d,m[h]++,_=o(h,_),C=i(h,C);for(v=0,g=0;256>g;g+=32)v+=m[g],m[g]=v,v+=m[g+1],m[g+1]=v,v+=m[g+2],m[g+2]=v,v+=m[g+3],m[g+3]=v,v+=m[g+4],m[g+4]=v,v+=m[g+5],m[g+5]=v,v+=m[g+6],m[g+6]=v,v+=m[g+7],m[g+7]=v,v+=m[g+8],m[g+8]=v,v+=m[g+9],m[g+9]=v,v+=m[g+10],m[g+10]=v,v+=m[g+11],m[g+11]=v,v+=m[g+12],m[g+12]=v,v+=m[g+13],m[g+13]=v,v+=m[g+14],m[g+14]=v,v+=m[g+15],m[g+15]=v,v+=m[g+16],m[g+16]=v,v+=m[g+17],m[g+17]=v,v+=m[g+18],m[g+18]=v,v+=m[g+19],m[g+19]=v,v+=m[g+20],m[g+20]=v,v+=m[g+21],m[g+21]=v,v+=m[g+22],m[g+22]=v,v+=m[g+23],m[g+23]=v,v+=m[g+24],m[g+24]=v,v+=m[g+25],m[g+25]=v,v+=m[g+26],m[g+26]=v,v+=m[g+27],m[g+27]=v,v+=m[g+28],m[g+28]=v,v+=m[g+29],m[g+29]=v,v+=m[g+30],m[g+30]=v,v+=m[g+31],m[g+31]=v;if(y=(_-C)/w,n)if(Y)for(g=0;b>g;g+=4)c=~~(m[e[g]]*y+C),c=0>c?0:c>255?255:c,e[g]=c,e[g+1]=c,e[g+2]=c;else for(g=0;b>g;g+=4)h=m[e[g+1]]*y+C,d=e[g+2],p=e[g],c=~~(h+1.402*(p-128)),u=~~(h-.34414*(d-128)-.71414*(p-128)),f=~~(h+1.772*(d-128)),c=0>c?0:c>255?255:c,u=0>u?0:u>255?255:u,f=0>f?0:f>255?255:f,e[g]=c,e[g+1]=u,e[g+2]=f;else if(Y)for(g=0;b>g;g+=4)c=~~(m[e[g]]*y+C),e[g]=c,e[g+1]=c,e[g+2]=c;else for(g=0;b>g;g+=4)h=m[e[g+1]]*y+C,d=e[g+2],p=e[g],c=~~(h+1.402*(p-128)),u=~~(h-.34414*(d-128)-.71414*(p-128)),f=~~(h+1.772*(d-128)),e[g]=c,e[g+1]=u,e[g+2]=f;return e}})}(n),!function(e){var n,t=Math.sqrt,a=Math.min,i=Math.max,o=t(3);e.Create({name:"PixelateFilter",scale:1,pattern:"rectangular",init:function(e,n){var r=this;r.scale=e||1,r.pattern=n||"rectangular"},path:r,serialize:function(){var e=this;return{scale:e.scale,pattern:e.pattern}},unserialize:function(e){var n=this;return n.scale=e.scale,n.pattern=e.pattern,n},apply:function(r,t,a){var i=this,o=i.pattern;if(i.scale<=1||!o||!n[o])return r;i.scale>100&&(i.scale=100);var l=new e.ImArray(r.length);return n[o](i.scale,l,r,t,a),l}}),e.RectangularPixelateFilter=function(n){return new e.PixelateFilter(n,"rectangular")},e.TriangularPixelateFilter=function(n){return new e.PixelateFilter(n,"triangular")},e.RhomboidPixelateFilter=function(n){return new e.PixelateFilter(n,"rhomboidal")},e.HexagonalPixelateFilter=function(n){return new e.PixelateFilter(n,"hexagonal")},e.PixelateFilter.PATTERN=n={rectangular:function(e,n,r,i,o){var l,l,s,c,u,f,h,d,p,y,m,v,g,_,C,b,w,Y,x,X,F,A,I,R,S,M=r.length,L=M>>>2,O=i-1,z=L-i;for(l=t(L)*e*.01|0,s=.5*l|0,c=l*i,u=s*i,C=b=w=Y=x=0,_=0;M>_;_+=4)X=C-w,F=b-x,A=a(O,X+l),I=a(z,F+c),R=a(O,X+s),S=a(z,F+u),f=R+S<<2,h=X+F<<2,d=X+I<<2,p=A+F<<2,y=A+I<<2,m=.125*(r[h]+r[d]+r[p]+r[y]+4*r[f]),v=.125*(r[h+1]+r[d+1]+r[p+1]+r[y+1]+4*r[f+1]),g=.125*(r[h+2]+r[d+2]+r[p+2]+r[y+2]+4*r[f+2]),n[_]=0|m,n[_+1]=0|v,n[_+2]=0|g,n[_+3]=r[_+3],C++,w++,C>=i&&(w=0,C=0,Y++,x+=i,b+=i,Y>=l&&(Y=0,x=0)),w>=l&&(w=0)},triangular:function(e,n,r,i,o){var l,s,c,u,f,h,d,p,y,m,v,g,_,C,b,w,Y,x,X,F,A,I,R,S,M,L=r.length,O=L>>>2,z=i-1,T=O-i;for(l=t(O)*e*.0125|0,s=.5*l|0,c=.333*l|0,u=.666*l|0,f=l*i,h=s*i,b=w=Y=x=X=0,C=0;L>C;C+=4)F=b-Y,A=w-X,I=a(z,F+l),R=a(T,A+f),Y+x>l?(S=a(z,F+u),M=a(T,A+h),d=S+M<<2,p=I+R<<2):(S=a(z,F+c),M=a(T,A+h),d=S+M<<2,p=F+R<<2),y=F+A<<2,m=I+A<<2,v=.2*(r[p]+r[y]+r[m]+2*r[d]),g=.2*(r[p+1]+r[y+1]+r[m+1]+2*r[d+1]),_=.2*(r[p+2]+r[y+2]+r[m+2]+2*r[d+2]),n[C]=0|v,n[C+1]=0|g,n[C+2]=0|_,n[C+3]=r[C+3],b++,Y++,b>=i&&(Y=0,b=0,x++,X+=i,w+=i,x>=l&&(x=0,X=0)),Y>=l&&(Y=0)},rhomboidal:function(e,n,r,o,l){var s,c,u,f,h,d,p,y,m,v,g,_,C,b,w,Y,x,X,F,A,I,R,S,M,L,O=r.length,z=O>>>2,T=o-1,E=z-o;for(s=t(z)*e*.007|0,c=2*s,u=s*o,f=c*o,w=Y=x=X=F=0,h=0,b=0;O>b;b+=4)h?x+X>c?(A=a(T,w-x+s),I=Y-F):x+s-X>s?(A=w-x,I=i(0,Y-F-u)):(A=i(0,w-x-s),I=Y-F):x+s-X>c?(A=a(T,w-x+s),I=i(0,Y-F-u)):x+X>s?(A=w-x,I=Y-F):(A=i(0,w-x-s),I=i(0,Y-F-u)),R=a(T,A+c),S=a(E,I+f),M=a(T,A+s),L=a(E,I+u),d=M+L<<2,p=M+I<<2,y=A+L<<2,m=R+L<<2,v=M+S<<2,g=.125*(r[p]+r[y]+r[m]+r[v]+4*r[d]),_=.125*(r[p+1]+r[y+1]+r[m+1]+r[v+1]+4*r[d+1]),C=.125*(r[p+2]+r[y+2]+r[m+2]+r[v+2]+4*r[d+2]),n[b]=0|g,n[b+1]=0|_,n[b+2]=0|C,n[b+3]=r[b+3],w++,x++,w>=o&&(x=0,w=0,X++,F+=o,Y+=o,X>=s&&(X=0,F=0,h=1-h)),x>=c&&(x=0)},hexagonal:function(e,n,r,l,s){var c,u,f,h,d,p,y,m,v,g,_,C,b,w,Y,x,X,F,A,I,R,S,M,L,O,z,T,E,P,N,G,H,U,q=r.length,D=q>>>2,k=l-1,$=D-l;for(u=o*e*t(D)*.012|0,c=.5*u|0,f=.25*u|0,h=u-f,d=.25*u|0,p=d*l,F=A=I=R=S=0,H=U=1,X=0;q>X;X+=4)U?2===H?(M=i(0,F-I-f),L=A-S):1===H?o*I+d-R>c?(M=a(k,F-I+f),L=A-S):(M=i(0,F-I-c),L=a($,A-S+p)):c>o*I+R?(M=i(0,F-I-h),L=A-S):(M=F-I,L=a($,A-S+p)):2===H?(M=i(0,F-I-f),L=a($,A-S+p)):1===H?o*I+R>c?(M=a(k,F-I+f),L=a($,A-S+p)):(M=i(0,F-I-c),L=A-S):c>o*I+d-R?(M=i(0,F-I-h),L=a($,A-S+p)):(M=F-I,L=A-S),O=a(k,M+f),z=i(0,L-p),T=a(k,M+c),E=L,P=a(k,M+u),N=a($,L+p),G=a(k,M+h),y=T+E<<2,m=M+L<<2,v=O+z<<2,g=G+z<<2,_=P+L<<2,C=G+N<<2,b=O+N<<2,w=.125*(r[m]+r[v]+r[g]+r[_]+r[C]+r[b]+2*r[y]),Y=.125*(r[m+1]+r[v+1]+r[g+1]+r[_+1]+r[C+1]+r[b+1]+2*r[y+1]),x=.125*(r[m+2]+r[v+2]+r[g+2]+r[_+2]+r[C+2]+r[b+2]+2*r[y+2]),n[X]=0|w,n[X+1]=0|Y,n[X+2]=0|x,n[X+3]=r[X+3],F++,I++,F>=l&&(I=0,F=0,R++,S+=l,A+=l,H=0,R>=d&&(R=0,S=0,U=1-U)),I>=c&&(I=0,H=(H+1)%3)}}}(n),!function(e,n){var t=7/16,a=3/16,i=5/16,o=1/16,l=e.MODE,s=e.Array32F,c=e.Color.clamp,u=e.Color.intensity;e.Create({name:"HalftoneFilter",size:1,thresh:.4,mode:l.GRAY,init:function(e,n,r){var t=this;t.size=e||1,t.thresh=c(null==n?.4:n,0,1),t.mode=r||l.GRAY},path:r,threshold:function(e){return this.thresh=c(e,0,1),this},serialize:function(){var e=this;return{size:e.size,thresh:e.thresh}},unserialize:function(e){var n=this;return n.size=e.size,n.thresh=e.thresh,n},apply:function(e,n,r){var c,f,h,d,p,y,m,v,g,_,C,b,w,Y,x,X,F,A,I,R,S,M=this,L=e.length,O=L>>>2,z=new s(3*O),T=M.size,E=T*T,P=1/E,N=255*M.thresh,G=G<<1,H=l.RGB===M.mode,U=T*n,q=t,D=a,k=i,$=o;for(p=0,y=0,d=0;r>p;){if(_=C=b=0,H){for(m=0,v=0,g=0;T>v;)c=d+y+m+g<<2,f=3*(d+y+m+g),_+=e[c]+z[f],C+=e[c+1]+z[f+1],b+=e[c+2]+z[f+2],++m>=T&&(m=0,v++,g+=n);_*=P,C*=P,b*=P,h=u(_,C,b),h>N?(w=0|_,Y=0|C,x=0|b):(w=0,Y=0,x=0)}else{for(m=0,v=0,g=0;T>v;)c=d+y+m+g<<2,f=3*(d+y+m+g),_+=e[c]+z[f],++m>=T&&(m=0,v++,g+=n);h=_*P,h>N?(w=255,Y=255,x=255):(w=0,Y=0,x=0)}if(c=d+y<<2,X=e[c]-w,F=e[c+1]-Y,A=e[c+2]-x,n>d+T)for(I=q*X,R=q*F,S=q*A,m=T,v=0,g=0;T>v;)f=3*(d+y+m+g),z[f]+=I,z[f+1]+=R,z[f+2]+=S,++m>=G&&(m=T,v++,g+=n);if(r>p+T&&d>T)for(I=D*X,R=D*F,S=D*A,m=-T,v=T,g=0;G>v;)f=3*(d+y+m+g),z[f]+=I,z[f+1]+=R,z[f+2]+=S,++m>=0&&(m=-T,v++,g+=n);if(r>p+T)for(I=k*X,R=k*F,S=k*A,m=0,v=T,g=0;G>v;)f=3*(d+y+m+g),z[f]+=I,z[f+1]+=R,z[f+2]+=S,++m>=T&&(m=0,v++,g+=n);if(r>p+T&&n>d+T)for(I=$*X,R=$*F,S=$*A,m=T,v=T,g=0;G>v;)f=3*(d+y+m+g),z[f]+=I,z[f+1]+=R,z[f+2]+=S,++m>=G&&(m=T,v++,g+=n);for(m=0,v=0,g=0;T>v;)c=d+y+m+g<<2,e[c]=w,e[c+1]=Y,e[c+2]=x,++m>=T&&(m=0,v++,g+=n);d+=T,d>=n&&(d=0,p+=T,y+=U)}return e}})}(n),!function(e,n){var t=e.MODE,a=new e.ConvolutionMatrix([1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9]);e.Create({name:"DropShadowFilter",offsetX:null,offsetY:null,color:0,opacity:1,quality:1,onlyShadow:!1,path:r,init:function(e,n,r,t,a,i){var o=this;o.offsetX=e||0,o.offsetY=n||0,o.color=r||0,o.opacity=null==t?1:+t,o.quality=0|(a||1),o.onlyShadow=!!i},dispose:function(){var e=this;return e.offsetX=null,e.offsetY=null,e.color=null,e.opacity=null,e.quality=null,e.onlyShadow=null,e.$super("dispose"),e},serialize:function(){var e=this;return{offsetX:e.offsetX,offsetY:e.offsetY,color:e.color,opacity:e.opacity,quality:e.quality,onlyShadow:e.onlyShadow}},unserialize:function(e){var n=this;return n.offsetX=e.offsetX,n.offsetY=e.offsetY,n.color=e.color,n.opacity=e.opacity,n.quality=e.quality,n.onlyShadow=e.onlyShadow,n},apply:function(n,r,i){var o=this;if(!o._isOn)return n;var l,s,c,u,f,h,d,p,y,m,v,g=o.color||0,_=o.opacity,C=o.quality,b=o.onlyShadow,w=o.offsetX||0,Y=o.offsetY||0,x=n.length,X=x>>>2;if(0>_&&(_=0),_>1&&(_=1),0===_)return n;for(l=g>>>16&255,s=g>>>8&255,c=255&g,0>=C&&(C=1),C>3&&(C=3),v=new e.ImArray(x),u=0;x>u;u+=4)m=n[u+3],m>0&&(v[u]=l,v[u+1]=s,v[u+2]=c,v[u+3]=_*m|0);if(v=e.Util.Filter.integral_convolution(l===s&&s===c?t.GRAY:t.RGB,v,r,i,2,a,null,3,3,1,0,C),Y*=r,b)for(f=0,h=0,y=0;x>y;y+=4,f++)f>=r&&(f=0,h+=r),d=f+w,p=h+Y,0>d||d>=r||0>p||p>=X||(u=d+p<<2,n[u]=v[y],n[u+1]=v[y+1],n[u+2]=v[y+2],n[u+3]=v[y+3]);else for(f=0,h=0,y=0;x>y;y+=4,f++)f>=r&&(f=0,h+=r),d=f+w,p=h+Y,0>d||d>=r||0>p||p>=X||(u=d+p<<2,m=n[u+3],_=v[y+3],255!==m&&0!==_&&(_/=255,l=n[u]+(v[y]-n[u])*_,s=n[u+1]+(v[y+1]-n[u+1])*_,c=n[u+2]+(v[y+2]-n[u+2])*_,n[u]=0|l,n[u+1]=0|s,n[u+2]=0|c));return n}})}(n),!function(e){var n=(Math.sqrt,Math.exp,Math.log),t=Math.abs,a=Math.floor,i=e._notSupportClamp;e.Array32F;e.Create({name:"BokehFilter",centerX:0,centerY:0,radius:10,amount:10,init:function(e,n,r,t){var a=this;a.centerX=e||0,a.centerY=n||0,a.radius=r||10,a.amount=t||10},path:r,serialize:function(){var e=this;return{centerX:e.centerX,centerY:e.centerY,radius:e.radius,amount:e.amount}},unserialize:function(e){var n=this;return n.centerX=e.centerX,n.centerY=e.centerY,n.radius=e.radius,n.amount=e.amount,n},apply:function(r,o,l){var s=this;if(!s._isOn)return r;var c,u,f,h,d,p,y,m,v,g,_,C,b,w,Y,x,X,F,A,I,R,S,M,L,O,z,T,E,P,N,G,H,U,q=r.length,D=s.centerX||0,k=s.centerY||0,$=s.radius,B=s.amount;if(0>=B)return r;for(c=q>>>2,N=0,G=o-1,H=0,U=c-o,D=a(D*(o-1)),k=a(k*(l-1)),f=(c<<1)+c,y=(o<<1)+o,u=new e.Array32F(f),m=0,v=0,g=0,h=d=p=0,g=0;o>g;g++,m+=4,v+=3)h+=r[m],d+=r[m+1],p+=r[m+2],u[v]=h,u[v+1]=d,u[v+2]=p;for(m=y+o,v=0,g=0,h=d=p=0,m=y+o;q>m;m+=4,v+=3,g++)g>=o&&(g=0,h=d=p=0),h+=r[m],d+=r[m+1],p+=r[m+2],u[v+y]=u[v]+h,u[v+y+1]=u[v+1]+d,u[v+y+2]=u[v+2]+p;for(g=0,_=0,C=0,m=0;q>m;m+=4,g++)g>=o&&(g=0,_++,C+=o),w=g-D,Y=_-k,b=t(w)+t(Y),x=b>$?0|n((b-$)*B):b/$+.5|0,x>0&&(X=x*o,F=.25/(x*x),A=g-x,I=C-X,R=g+x,S=C+X,N>A?A=N:R>G&&(R=G),H>I?I=H:S>U&&(S=U),M=A+I,z=R+S,L=R+I,O=A+S,M=(M<<1)+M,L=(L<<1)+L,O=(O<<1)+O,z=(z<<1)+z,T=F*(u[z]-u[L]-u[O]+u[M]),E=F*(u[z+1]-u[L+1]-u[O+1]+u[M+1]),P=F*(u[z+2]-u[L+2]-u[O+2]+u[M+2]),i&&(T=0>T?0:T>255?255:T,E=0>E?0:E>255?255:E,P=0>P?0:P>255?255:P),r[m]=0|T,r[m+1]=0|E,r[m+2]=0|P);return r}})}(n),!function(e){e.Create({name:"SeamlessTileFilter",type:2,init:function(e){var n=this;n.type=null==e?2:e||0},path:r,serialize:function(){var e=this;return{type:e.type}},unserialize:function(e){var n=this;return n.type=e.type,n},apply:function(n,r,t){var a,i,o,l,s,c,u,f,h,d,p,y,m,v,g,_=this,C=_.type,b=e.Interpolation.bilinear,w=e.ImArray,Y=e.Array8U,x=Math.sqrt;for(r!==t?n=b(n,r,t,y=r>t?r:t,y):y=r,m=Math.round(y/2),v=y*y,g=n.length,a=new w(g),i=new w(g),o=new Y(v),f=0,h=0,d=0;g>d;d+=4,f++)f>=y&&(f=0,h++),p=(f+m)%y+(h+m)%y*y<<2,a[p]=n[d],a[p+1]=n[d+1],a[p+2]=n[d+2],a[p+3]=n[d+3];if(0===C)for(f=0,h=0;m>f;h++)h>=m&&(h=0,f++),u=255-255*x((f-m)*(f-m)+(h-m)*(h-m))/m,u=1>u?1:u>255?255:u,o[f+h*y]=u,o[f+(y-1-h)*y]=u,o[y-1-f+h*y]=u,o[y-1-f+(y-1-h)*y]=u;else if(1===C)for(f=0,h=0;m>f;h++)h>=m&&(h=0,f++),u=255-255*(m+f>m+h?(h-m)/m:(f-y/2)/m),u=1>u?1:u>255?255:u,o[f+h*y]=u,o[f+(y-1-h)*y]=u,o[y-1-f+h*y]=u,o[y-1-f+(y-1-h)*y]=u;else for(f=0,h=0;m>f;h++)h>=m&&(h=0,f++),u=255-255*(m+f>m+h?x((h-y)*(h-y)+(f-y)*(f-y))/(1.13*y):x((f-y)*(f-y)+(h-y)*(h-y))/(1.13*y)),u=1>u?1:u>255?255:u,o[f+h*y]=u,o[f+(y-1-h)*y]=u,o[y-1-f+h*y]=u,o[y-1-f+(y-1-h)*y]=u;for(h=0,f=0;y>h;f++)f>=y&&(f=0,h++),p=f+h*y,l=o[p],s=o[(f+m)%y+(h+m)%y*y],c=l+s,l/=c,s/=c,p<<=2,i[p]=~~(l*n[p]+s*a[p]),i[p+1]=~~(l*n[p+1]+s*a[p+1]),i[p+2]=~~(l*n[p+2]+s*a[p+2]),i[p+3]=n[p+3];return r!==t&&(i=b(i,y,y,r,t)),i}})}(n),!function(e){var n=e.MODE;e.Create({name:"ColorFillFilter",x:0,y:0,color:null,border:null,tolerance:1e-6,mode:n.COLOR,path:r,init:function(e,r,t,a,i){var o=this;o.x=e||0,o.y=r||0,o.color=t||0,o.tolerance=null==a?1e-6:+a,o.border=null!=i?i||0:null,o.mode=n.COLOR},serialize:function(){var e=this;return{color:e.color,border:e.border,x:e.x,y:e.y,tolerance:e.tolerance}},unserialize:function(e){var n=this;return n.color=e.color,n.border=e.border,n.x=e.x,n.y=e.y,n.tolerance=e.tolerance,n},apply:function(r,t,a){var i,o,l,s,c,u,f,h,d,p,y,m,v,g,_,C,b,w,Y,x,X,F,A,I,R,S,M=this,L=M.mode||n.COLOR,O=M.color||0,z=M.border,T=null!=z,E=M.x||0,P=M.y||0,N=e.Color.RGB2HSV,G=e.Color.HSV2RGB;if(0>E||E>=t||0>P||P>=a)return r;if(E<<=2,P=P*t<<2,h=E+P,v=r[h],g=r[h+1],_=r[h+2],X=0,F=1,p=O>>>16&255,y=O>>>8&255,m=255&O,T){if(C=z>>>16&255,b=z>>>8&255,w=255&z,v===C&&g===b&&_===w)return r;v=C,g=b,_=w,X=1,F=0}else if(n.COLOR===L&&v===p&&g===y&&_===m)return r;if(x=e.Util.Filter.dissimilarity_rgb(v,g,_,X,F,255*(M.tolerance>=1?.999:M.tolerance)),A=e.MachineLearning.flood_region(r,t,a,2,x,8,E,P),R=A.mask,n.MASK===L||n.COLORMASK===L)for(S=n.MASK===L,i=0,o=0,h=0,d=r.length;d>h;h+=4,i++)i>=t&&(i=0,o+=t),f=i+o,R[f>>>5]&1<<(31&f)?S&&(r[h]=p,r[h+1]=y,r[h+2]=m):(r[h]=0,r[h+1]=0,r[h+2]=0);else if(n.HUE===L)for(I=A.box,l=I[0]>>>2,s=I[1]>>>2,c=I[2]>>2,u=I[3]>>>2,Y=new e.Array32F(3),i=l,o=s;u>=o;)f=i+o,R[f>>>5]&1<<(31&f)&&(h=f<<2,Y[0]=r[h],Y[1]=r[h+1],Y[2]=r[h+2],N(Y,0,1),Y[0]=O,G(Y,0,1),r[h]=0|Y[0],r[h+1]=0|Y[1],r[h+2]=0|Y[2]),++i>c&&(i=l,o+=t);else for(I=A.box,l=I[0]>>>2,s=I[1]>>>2,c=I[2]>>2,u=I[3]>>>2,i=l,o=s;u>=o;)f=i+o,R[f>>>5]&1<<(31&f)&&(h=f<<2,r[h]=p,r[h+1]=y,r[h+2]=m),++i>c&&(i=l,o+=t);return r}}),e.FloodFillFilter=e.ColorFillFilter,e.Create({name:"PatternFillFilter",x:0,y:0,offsetX:0,offsetY:0,tolerance:1e-6,border:null,mode:n.TILE,hasInputs:!0,path:r,init:function(e,r,t,a,i,o,l){var s=this;s.x=e||0,s.y=r||0,s.offsetX=a||0,s.offsetY=i||0,t&&s.setInput("pattern",t),s.tolerance=null==o?1e-6:+o,s.border=null!=l?l||0:null,s.mode=n.TILE},dispose:function(){var e=this;return e.x=null,e.y=null,e.offsetX=null,e.offsetY=null,e.tolerance=null,e.border=null,e.$super("dispose"),e},serialize:function(){var e=this;return{x:e.x,y:e.y,offsetX:e.offsetX,offsetY:e.offsetY,tolerance:e.tolerance,border:e.border}},unserialize:function(e){var n=this;return n.x=e.x,n.y=e.y,n.offsetX=e.offsetX,n.offsetY=e.offsetY,n.tolerance=e.tolerance,n.border=e.border,n},apply:function(r,t,a){var i,o=this,l=o.x||0,s=o.y||0;if(0>l||l>=t||0>s||s>=a)return r;if(i=o.input("pattern"),!i)return r;var c,u,f,h,d,p,y,m,v,g,_,C,b,w,Y,x,X,F,A,I,R,S,M,L,O,z,T=o.mode||n.TILE,E=o.border,P=null!=E,N=i[0],G=i[1],H=i[2],U=o.offsetX||0,q=o.offsetY||0;if(l<<=2,s=s*t<<2,g=l+s,c=r[g],u=r[g+1],f=r[g+2],R=0,S=1,P){if(h=E>>>16&255,d=E>>>8&255,p=255&E,c===h&&u===d&&f===p)return r;c=h,u=d,f=p,R=1,S=0}if(I=e.Util.Filter.dissimilarity_rgb(c,u,f,R,S,255*(o.tolerance>=1?.999:o.tolerance)),M=e.MachineLearning.flood_region(r,t,a,2,I,8,l,s),O=M.mask,L=M.box,w=L[0]>>>2,Y=L[1]>>>2,x=L[2]>>>2,X=L[3]>>>2,n.STRETCH===T)for(F=G/(x-w+1),A=H/(X-Y+t),y=w,m=Y;X>=m;)v=y+m,O[v>>>5]&1<<(31&v)&&(g=v<<2,C=F*(y-w)|0,b=A*(m-Y)|0,_=C+b*G<<2,r[g]=N[_],r[g+1]=N[_+1],r[g+2]=N[_+2]),++y>x&&(y=w,m+=t);else for(0>U&&(U+=G),0>q&&(q+=H),x=x-w+1,y=0,m=0,z=Y;X>=z;)v=y+w+z,O[v>>>5]&1<<(31&v)&&(g=v<<2,C=(y+U)%G,b=(m+q)%H,_=C+b*G<<2,r[g]=N[_],r[g+1]=N[_+1],r[g+2]=N[_+2]),++y>=x&&(y=0,z+=t,m++);return r}})}(n),!function(e,n){function t(e,n,r){return s(e-n)<=r}function a(e,n,r){return e===n||-1!==e&&-1!==n&&s((e>>16&255)-(n>>16&255))<=r&&s((e>>8&255)-(n>>8&255))<=r&&s((255&e)-(255&n))<=r}var i=e.MODE,o=Math.min,l=Math.max,s=Math.abs,c=Math.cos,u=e.CONST.toRad;e.Create({name:"ConnectedComponentsFilter",connectivity:4,tolerance:1e-6,mode:i.COLOR,color:null,invert:!1,box:null,init:function(e,n,r,t){var a=this;a.connectivity=8===e?8:4,a.tolerance=null==n?1e-6:+n,a.color=null==r?null:+r,a.invert=!!t,a.mode=i.COLOR},path:r,serialize:function(){var e=this;return{connectivity:e.connectivity,tolerance:e.tolerance,color:e.color,invert:e.invert}},unserialize:function(e){var n=this;return n.connectivity=e.connectivity,n.tolerance=e.tolerance,n.color=e.color,n.invert=e.invert,n},apply:function(n,r,s){var f,h,d,p=this,y=n.length,m=y>>>2,v=p.mode||i.COLOR,g=p.color,_=o(.999,l(0,p.tolerance||0)),C=new e.Array32F(m),b=e.Color.hue,w=e.Color.intensity;if(i.HUE===v)for(d=t,null!=g&&(g=c(u*g)),f=0,h=0;y>f;f+=4,h++)C[h]=0===n[f+3]?1e4:c(u*b(n[f],n[f+1],n[f+2]));else if(i.INTENSITY===v)for(d=t,_*=255,f=0,h=0;y>f;f+=4,h++)C[h]=0===n[f+3]?1e4:w(n[f],n[f+1],n[f+2]);else for(d=a,_=255*_|0,f=0,h=0;y>f;f+=4,h++)C[h]=0===n[f+3]?-1:n[f]<<16|n[f+1]<<8|n[f+2];return e.MachineLearning.connected_components(n,r,s,2,C,p.connectivity,d,_,g,p.invert)}})}(n),!function(e){var n=100,t=1e3,a=n*t,i=Math.round;e.Create({name:"CannyEdgesFilter",low:2.5,high:7.5,lowpass:!0,path:r,init:function(e,n,r){var t=this;t.low=arguments.length<1?2.5:+e,t.high=arguments.length<2?7.5:+n,t.lowpass=arguments.length<3?!0:!!r},thresholds:function(e,n,r){var t=this;return t.low=+e,t.high=+n,arguments.length>2&&(t.lowpass=!!r),t},serialize:function(){var e=this;return{low:e.low,high:e.high,lowpass:e.lowpass}},unserialize:function(e){var n=this;return n.low=e.low,n.high=e.high,n.lowpass=e.lowpass,n},apply:function(r,o,l){var s=this;return e.Util.Filter.gradient(r,o,l,2,0,s.lowpass,0,i(s.low*n),i(s.high*n),n,t,a)}})}(n),!function(e,n){function t(e,n,r,t,a,i,o,l,s,c,d,p,v,g,_,C,b){var w,Y,x,X,F,A,I,R,S,M,L,O,z,T,E,P,N,G,H,U,q,D,k,$,B,K,j,V,W,J,Q,Z,ee,ne,re,D,te,ae,ie,oe,le,se,ce,ue,fe,he,de,pe,ye,me,ve,ge,_e,Ce,be=null!=_,we=i-t+1|0,Ye=o-a+1|0,xe=n*r,Xe=xe-1,Fe=l.stages,Ae=Fe.length,Ie=l.size1,Re=l.size2;for(k=n-1,$=xe-n,I=0|t,R=0|a,Y=f(we/Ie,Ye/Re),w=s;Y>=w;w*=c)for(F=w*Ie|0,x=F*d|0,A=w*Re|0,X=A*d|0,z=A*n,T=X*n,S=R*T,H=we-F,U=Ye-A,B=F*A,K=1/B,L=R,O=S;U>L;L+=X,O+=T)for(M=I;H>M;M+=x)if(E=M-1+O-n,P=E+F,N=E+z,G=N+F,E=f(Xe,u(0,E)),P=f(Xe,u(0,P)),N=f(Xe,u(0,N)),G=f(Xe,u(0,G)),!(be&&(J=K*(_[G]-_[N]-_[P]+_[E]),C>J||J>b))){for(j=K*(p[G]-p[N]-p[P]+p[E]),V=K*(g[G]-g[N]-g[P]+g[E]),W=V-j*j,W=W>1?h(W):W,Q=!1,q=0;Ae>q;q++){for(Z=Fe[q],ee=Z.thres,ne=Z.trees,re=ne.length,Ce=0,D=0;re>D;D++)for(ae=ne[D].feats,te=0;;){if(ie=ae[te],oe=ie.rects,le=oe.length,se=ie.thres,ce=0,ie.tilt)for(ue=0;le>ue;ue++)fe=oe[ue],he=M+w*fe[0]|0,de=(L-1+w*fe[1]|0)*n,pe=M+w*(fe[0]+fe[2])|0,ye=(L-1+w*(fe[1]+fe[2])|0)*n,me=M+w*(fe[0]-fe[3])|0,ve=(L-1+w*(fe[1]+fe[3])|0)*n,ge=M+w*(fe[0]+fe[2]-fe[3])|0,_e=(L-1+w*(fe[1]+fe[2]+fe[3])|0)*n,he=f(k,u(0,he)),pe=f(k,u(0,pe)),me=f(k,u(0,me)),ge=f(k,u(0,ge)),de=f($,u(0,de)),ye=f($,u(0,ye)),ve=f($,u(0,ve)),_e=f($,u(0,_e)),ce+=fe[4]*(v[ge+_e]-v[me+ve]-v[pe+ye]+v[he+de]);else for(ue=0;le>ue;ue++)fe=oe[ue],he=M-1+w*fe[0]|0,pe=M-1+w*(fe[0]+fe[2])|0,de=n*(L-1+w*fe[1]|0),ye=n*(L-1+w*(fe[1]+fe[3])|0),he=f(k,u(0,he)),pe=f(k,u(0,pe)),de=f($,u(0,de)),ye=f($,u(0,ye)),ce+=fe[4]*(p[pe+ye]-p[he+ye]-p[pe+de]+p[he+de]);if(se*W>ce*K){if(ie.has_l){Ce+=ie.l_val;break}te=ie.l_node}else{if(ie.has_r){Ce+=ie.r_val;break}te=ie.r_node}}if(Q=Ce>ee,!Q)break}Q&&(e.count===e.length&&m.apply(e,new Array(y)),e[e.count++]=[M,L,F,A])}}function a(e,n,r){var t=u(n[2],e[2])*r,a=u(n[3],e[3])*r;return c(e[0]-n[0])<=t&&c(e[1]-n[1])<=a&&c(e[2]-n[2])<=t&&c(e[3]-n[3])<=a}function i(e,n){return e.x1>=n.x1&&e.y1>=n.y1&&e.x2<=n.x2&&e.y2<=n.y2}function o(e){e.x1=e.x1+.5|0,e.y1=e.y1+.5|0,e.x2=e.x2+.5|0,e.y2=e.y2+.5|0}function l(e,n){return n.area-e.area}function s(e,n,r){var t,s,c,u,f,h,d,p,y,m,v,g=e.length,_=new Array(g),C=[],b=0,w=!1;for(c=0;g>c;c++)_[c]=0;for(c=0;g>c;c++){for(w=!1,u=0;c>u;u++)a(e[u],e[c],r)&&(w=!0,_[c]=_[u]);w||(_[c]=b,b++)}for(t=new Array(b),s=new Array(b),c=0;b>c;c++)t[c]=0,s[c]=[0,0,0,0];for(c=0;g>c;c++)d=_[c],t[d]++,s[d][0]+=e[c][0],s[d][1]+=e[c][1],s[d][2]+=e[c][2],s[d][3]+=e[c][3];for(c=0;b>c;c++)f=t[c],f>=n&&(h=1/(f+f),p=h*(2*s[c][0]+f),y=h*(2*s[c][1]+f),m=h*(2*s[c][2]+f),v=h*(2*s[c][3]+f),C.push({x1:p,y1:y,x2:p+m-1,y2:y+v-1,x:p,y:y,width:m,height:v,area:0,inside:0}));for(g=C.length,c=0;g>c;c++)for(u=c+1;g>u;u++)!C[c].inside&&i(C[c],C[u])?C[c].inside=1:!C[u].inside&&i(C[u],C[c])&&(C[u].inside=1);for(c=g;--c>=0;)C[c].inside?C.splice(c,1):(o(C[c]),C[c].area=C[c].width*C[c].height);return C.sort(l)}var c=Math.abs,u=Math.max,f=Math.min,h=(Math.floor,Math.round,Math.sqrt),d=(e.Util.Array.typed,e.Util.Array.typed_obj),p="hasOwnProperty",y=10,m=Array.prototype.push;e.Util.Filter.haar_detect=t,e.Util.Filter.merge_features=s,e.Create({name:"HaarDetectorFilter",_update:!1,hasMeta:!0,haardata:null,tolerance:.2,baseScale:1,scaleIncrement:1.25,stepIncrement:.5,minNeighbors:1,doCannyPruning:!0,cannyLow:20,cannyHigh:100,_haarchanged:!1,init:function(e,r,t,a,i,o,l){var s=this;s.haardata=e||null,s.baseScale=n===r?1:+r,s.scaleIncrement=n===t?1.25:+t,s.stepIncrement=n===a?.5:+a,s.minNeighbors=n===i?1:+i,s.doCannyPruning=n===o?!0:!!o,s.tolerance=null==l?.2:+l,s._haarchanged=!!s.haardata},path:r,dispose:function(){var e=this;return e.haardata=null,e.$super("dispose"),e},haar:function(e){var n=this;return n.haardata=e,n._haarchanged=!0,n},params:function(e){var n=this;return e&&(e[p]("haardata")&&(n.haardata=e.haardata,n._haarchanged=!0),e[p]("baseScale")&&(n.baseScale=+e.baseScale),e[p]("scaleIncrement")&&(n.scaleIncrement=+e.scaleIncrement),e[p]("stepIncrement")&&(n.stepIncrement=+e.stepIncrement),e[p]("minNeighbors")&&(n.minNeighbors=+e.minNeighbors),e[p]("doCannyPruning")&&(n.doCannyPruning=!!e.doCannyPruning),e[p]("tolerance")&&(n.tolerance=+e.tolerance),e[p]("cannyLow")&&(n.cannyLow=+e.cannyLow),e[p]("cannyHigh")&&(n.cannyHigh=+e.cannyHigh),e[p]("selection")&&(n.selection=e.selection||null)),n},serialize:function(){var e,n=this;return e={baseScale:n.baseScale,scaleIncrement:n.scaleIncrement,stepIncrement:n.stepIncrement,minNeighbors:n.minNeighbors,doCannyPruning:n.doCannyPruning,tolerance:n.tolerance,cannyLow:n.cannyLow,cannyHigh:n.cannyHigh},n._haarchanged&&(e.haardata=d(n.haardata),n._haarchanged=!1),e},unserialize:function(e){var n=this;return e[p]("haardata")&&(n.haardata=d(e.haardata,1)),n.baseScale=e.baseScale,n.scaleIncrement=e.scaleIncrement,n.stepIncrement=e.stepIncrement,n.minNeighbors=e.minNeighbors,n.doCannyPruning=e.doCannyPruning,n.tolerance=e.tolerance,n.cannyLow=e.cannyLow,n.cannyHigh=e.cannyHigh,n},metaData:function(n){return n&&e.isWorker?d(this.meta):this.meta},setMetaData:function(e,n){return this.meta=n&&"string"==typeof e?d(e,1):e,this},apply:function(n,r,t,a){var i=this;if(!i.haardata)return n;var o,l,s,c,h,d=n.length,p=d>>>2,m=i.selection||null,v=e.Array32F,g=null,_=null,C=null,b=null,w=e.Util.Filter;return m?m[4]?(o=f(r-1,u(0,m[0]*(r-1))),l=f(t-1,u(0,m[1]*(t-1))),s=f(r-1,u(0,m[2]*(r-1))),c=f(t-1,u(0,m[3]*(t-1)))):(o=f(r-1,u(0,m[0])),l=f(t-1,u(0,m[1])),s=f(r-1,u(0,m[2])),c=f(t-1,u(0,m[3]))):(o=0,l=0,s=r-1,c=t-1),a&&a.haarfilter_SAT?(g=a.haarfilter_SAT,_=a.haarfilter_SAT2,C=a.haarfilter_RSAT):(w.sat(n,r,t,2,0,g=new v(p),_=new v(p),C=new v(p)),a&&(a.haarfilter_SAT=g,a.haarfilter_SAT2=_,a.haarfilter_RSAT=C)),i.doCannyPruning&&(a&&a.haarfilter_GSAT?b=a.haarfilter_GSAT:(b=w.gradient(n,r,t,2,0,1,1),a&&(a.haarfilter_GSAT=b))),h=new Array(y),h.count=0,w.haar_detect(h,r,t,o,l,s,c,i.haardata,i.baseScale,i.scaleIncrement,i.stepIncrement,g,C,_,b,i.cannyLow,i.cannyHigh),h.length>h.count&&(h.length=h.count),i.meta={objects:w.merge_features(h,i.minNeighbors,i.tolerance)},n}})}(n),n});
